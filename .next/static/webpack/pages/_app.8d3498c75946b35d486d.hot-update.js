webpackHotUpdate_N_E("pages/_app",{

/***/ "./node_modules/next/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":
false,

/***/ "./node_modules/next/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":
false,

/***/ "./node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":
false,

/***/ "./node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty.js":
false,

/***/ "./node_modules/next/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":
false,

/***/ "./node_modules/next/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":
false,

/***/ "./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js":
false,

/***/ "./node_modules/next/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":
false,

/***/ "./node_modules/next/node_modules/@babel/runtime/regenerator/index.js":
false,

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/*! exports provided: default, getInitialProps */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getInitialProps", function() { return getInitialProps; });
/* harmony import */ var F_AHKI_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var F_AHKI_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(F_AHKI_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var F_AHKI_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var F_AHKI_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var F_AHKI_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _styles_globals_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/globals.scss */ "./styles/globals.scss");
/* harmony import */ var _styles_globals_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_scss__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _components_initLanguage_initLanguage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/initLanguage/initLanguage */ "./components/initLanguage/initLanguage.js");
/* harmony import */ var _services_user__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../services/user */ "./services/user.js");
/* harmony import */ var _material_ui_core_LinearProgress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core/LinearProgress */ "./node_modules/@material-ui/core/esm/LinearProgress/index.js");
/* harmony import */ var _context_userContext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../context/userContext */ "./context/userContext.js");
/* harmony import */ var _context_languageContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../context/languageContext */ "./context/languageContext.js");
/* harmony import */ var _context_socketContext__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../context/socketContext */ "./context/socketContext.js");
/* harmony import */ var _context_apiIsLoadingContext__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../context/apiIsLoadingContext */ "./context/apiIsLoadingContext.js");
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/router */ "./node_modules/next/router.js");
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! socket.io-client */ "./node_modules/socket.io-client/build/index.js");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../const */ "./const.js");







var _jsxFileName = "F:\\AHKI\\pages\\_app.js",
    _s = $RefreshSig$();

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(F_AHKI_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__["default"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }














function MyApp(_ref) {
  _s();

  var Component = _ref.Component,
      pageProps = _ref.pageProps;

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_6___default.a.useState({
    image: "",
    tel: "",
    biography: "",
    userName: "",
    firstname: "",
    lastname: "",
    age: "",
    following: 0,
    followers: 0
  }),
      _React$useState2 = Object(F_AHKI_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_React$useState, 2),
      user = _React$useState2[0],
      setUser = _React$useState2[1];

  var userProvider = react__WEBPACK_IMPORTED_MODULE_6___default.a.useMemo(function () {
    return {
      user: user,
      setUser: setUser
    }, [user, setUser];
  });
  /********************************************************************/

  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_6___default.a.useState(_objectSpread({}, Object(_components_initLanguage_initLanguage__WEBPACK_IMPORTED_MODULE_7__["default"])("eng"))),
      _React$useState4 = Object(F_AHKI_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_React$useState3, 2),
      language = _React$useState4[0],
      setLanguage = _React$useState4[1];

  var languageProvider = react__WEBPACK_IMPORTED_MODULE_6___default.a.useMemo(function () {
    return {
      language: language,
      setLanguage: setLanguage
    }, [language, setLanguage];
  });
  /********************************************************************/

  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_6___default.a.useState(false),
      _React$useState6 = Object(F_AHKI_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_React$useState5, 2),
      isLoading = _React$useState6[0],
      setIsLoading = _React$useState6[1];

  var loadingProvider = react__WEBPACK_IMPORTED_MODULE_6___default.a.useMemo(function () {
    return {
      isLoading: isLoading,
      setIsLoading: setIsLoading
    }, [isLoading, setIsLoading];
  });
  /********************************************************************/

  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_6___default.a.useState(undefined),
      _React$useState8 = Object(F_AHKI_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_React$useState7, 2),
      socket = _React$useState8[0],
      setSocket = _React$useState8[1];

  var socketProvider = react__WEBPACK_IMPORTED_MODULE_6___default.a.useMemo(function () {
    return {
      socket: socket,
      setSocket: setSocket
    }, [socket, setSocket];
  });
  /*****************************************************************/

  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_6___default.a.useState(false),
      _React$useState10 = Object(F_AHKI_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__["default"])(_React$useState9, 2),
      onlyOnce = _React$useState10[0],
      setonlyOnce = _React$useState10[1];

  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_14__["useRouter"])();
  var socketRef = react__WEBPACK_IMPORTED_MODULE_6___default.a.useRef();
  /*socket io*/

  /************************************/

  if (router.query.refrech == "true" && onlyOnce == false) {
    setonlyOnce(true);
    Object(_services_user__WEBPACK_IMPORTED_MODULE_8__["GetUserData"])(pageProps.token).then(function (data) {
      setUser(function (e) {
        return _objectSpread(_objectSpread(_objectSpread({}, e), data.data.data[0]), {}, {
          token: pageProps.token
        });
      });
    })["catch"](function (e) {});
  }

  react__WEBPACK_IMPORTED_MODULE_6___default.a.useEffect(function () {
    /*****************init Token to userProvider******************/
    setUser(function (e) {
      return _objectSpread(_objectSpread({}, e), {}, {
        token: pageProps.token
      });
    });
    /*get current lang */

    setLanguage(Object(_components_initLanguage_initLanguage__WEBPACK_IMPORTED_MODULE_7__["default"])(localStorage.getItem('language') || "eng"));
    /***********************************************************/

    /********************fetch user data online if there is token************************/

    /***********************************************************/

    if (pageProps.token) {
      Object(_services_user__WEBPACK_IMPORTED_MODULE_8__["GetUserData"])(pageProps.token).then(function (data) {
        socketRef.current = socket_io_client__WEBPACK_IMPORTED_MODULE_15___default()(_const__WEBPACK_IMPORTED_MODULE_16__["default"]);
        socketRef.current.on("getSocketid", function (dataFromSocket) {
          socketRef.current.emit("saveuserOnline", {
            userid: data.data.data[0]._id,
            socketid: dataFromSocket
          });
          setSocket(socketRef.current);
        });
        setUser(function (e) {
          return _objectSpread(_objectSpread({}, e), data.data.data[0]);
        });
      })["catch"](function (e) {});
    }
  }, [router.query.refrech]);
  /******************************************************************************************
   *******************************************************************************************
   ******************************************************************************************/

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__["Fragment"], {
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__["jsxDEV"])("div", {
      className: "appWrapper",
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__["jsxDEV"])(_context_languageContext__WEBPACK_IMPORTED_MODULE_11__["default"].Provider, {
        value: languageProvider,
        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__["jsxDEV"])(_context_userContext__WEBPACK_IMPORTED_MODULE_10__["default"].Provider, {
          value: userProvider,
          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__["jsxDEV"])(_context_apiIsLoadingContext__WEBPACK_IMPORTED_MODULE_13__["default"].Provider, {
            value: loadingProvider,
            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__["jsxDEV"])(_context_socketContext__WEBPACK_IMPORTED_MODULE_12__["default"].Provider, {
              value: socketProvider,
              children: [isLoading && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__["jsxDEV"])("div", {
                className: "loading",
                children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__["jsxDEV"])(_material_ui_core_LinearProgress__WEBPACK_IMPORTED_MODULE_9__["default"], {}, void 0, false, {
                  fileName: _jsxFileName,
                  lineNumber: 83,
                  columnNumber: 52
                }, this)
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 83,
                columnNumber: 27
              }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_2__["jsxDEV"])(Component, _objectSpread({}, pageProps), void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 84,
                columnNumber: 15
              }, this)]
            }, void 0, true, {
              fileName: _jsxFileName,
              lineNumber: 82,
              columnNumber: 15
            }, this)
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 81,
            columnNumber: 13
          }, this)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 80,
          columnNumber: 11
        }, this)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 79,
        columnNumber: 9
      }, this)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 78,
      columnNumber: 7
    }, this)
  }, void 0, false);
}

_s(MyApp, "2ggWz+dS6ZeMF0pMmOUJAZWH5gY=", false, function () {
  return [next_router__WEBPACK_IMPORTED_MODULE_14__["useRouter"]];
});

_c = MyApp;
/* harmony default export */ __webpack_exports__["default"] = (MyApp);
function getInitialProps(_x) {
  return _getInitialProps.apply(this, arguments);
}

function _getInitialProps() {
  _getInitialProps = Object(F_AHKI_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["default"])( /*#__PURE__*/F_AHKI_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(_ref2) {
    var req, res;
    return F_AHKI_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            req = _ref2.req, res = _ref2.res;
            _context.next = 3;
            return req.cookies.token;

          case 3:
            if (!_context.sent) {
              _context.next = 7;
              break;
            }

            _context.t0 = {
              props: {
                token: true
              }
            };
            _context.next = 8;
            break;

          case 7:
            _context.t0 = {
              redirect: {
                destination: '/',
                permanent: false
              }
            };

          case 8:
            return _context.abrupt("return", _context.t0);

          case 9:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return _getInitialProps.apply(this, arguments);
}

var _c;

$RefreshReg$(_c, "MyApp");

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/next/dist/compiled/webpack/harmony-module.js */ "./node_modules/next/dist/compiled/webpack/harmony-module.js")(module)))

/***/ })

})
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vcGFnZXMvX2FwcC5qcyJdLCJuYW1lcyI6WyJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyIsIlJlYWN0IiwidXNlU3RhdGUiLCJpbWFnZSIsInRlbCIsImJpb2dyYXBoeSIsInVzZXJOYW1lIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJhZ2UiLCJmb2xsb3dpbmciLCJmb2xsb3dlcnMiLCJ1c2VyIiwic2V0VXNlciIsInVzZXJQcm92aWRlciIsInVzZU1lbW8iLCJpbml0TGFuZ3VhZ2UiLCJsYW5ndWFnZSIsInNldExhbmd1YWdlIiwibGFuZ3VhZ2VQcm92aWRlciIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImxvYWRpbmdQcm92aWRlciIsInVuZGVmaW5lZCIsInNvY2tldCIsInNldFNvY2tldCIsInNvY2tldFByb3ZpZGVyIiwib25seU9uY2UiLCJzZXRvbmx5T25jZSIsInJvdXRlciIsInVzZVJvdXRlciIsInNvY2tldFJlZiIsInVzZVJlZiIsInF1ZXJ5IiwicmVmcmVjaCIsIkdldFVzZXJEYXRhIiwidG9rZW4iLCJ0aGVuIiwiZGF0YSIsImUiLCJ1c2VFZmZlY3QiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY3VycmVudCIsImlvIiwiaXAiLCJvbiIsImRhdGFGcm9tU29ja2V0IiwiZW1pdCIsInVzZXJpZCIsIl9pZCIsInNvY2tldGlkIiwiZ2V0SW5pdGlhbFByb3BzIiwicmVxIiwicmVzIiwiY29va2llcyIsInByb3BzIiwicmVkaXJlY3QiLCJkZXN0aW5hdGlvbiIsInBlcm1hbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQSxTQUFTQSxLQUFULE9BQXlDO0FB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RW9CLG1CQUFLLEVBQUU7QUFBRXBCLHFCQUFLLEVBQUU7QUFBVDtBQUFULGFBRDVCO0FBQUE7QUFBQTs7QUFBQTtBQUFBLDBCQUN5RDtBQUFFcUIsc0JBQVEsRUFBRTtBQUFFQywyQkFBVyxFQUFFLEdBQWY7QUFBb0JDLHlCQUFTLEVBQUU7QUFBL0I7QUFBWixhQUR6RDs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEciLCJmaWxlIjoic3RhdGljL3dlYnBhY2svcGFnZXMvX2FwcC44ZDM0OThjNzU5NDZiMzVkNDg2ZC5ob3QtdXBkYXRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFscy5zY3NzJ1xyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCBpbml0TGFuZ3VhZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9pbml0TGFuZ3VhZ2UvaW5pdExhbmd1YWdlJ1xyXG5pbXBvcnQgeyBHZXRVc2VyRGF0YSB9IGZyb20gJy4uL3NlcnZpY2VzL3VzZXInXHJcbmltcG9ydCBMaW5lYXJQcm9ncmVzcyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9MaW5lYXJQcm9ncmVzcyc7XHJcbmltcG9ydCBVc2VyQ29udGV4dCBmcm9tICcuLi9jb250ZXh0L3VzZXJDb250ZXh0J1xyXG5pbXBvcnQgTGFuZ3VhZ2VDb250ZXh0IGZyb20gJy4uL2NvbnRleHQvbGFuZ3VhZ2VDb250ZXh0J1xyXG5pbXBvcnQgU29ja2V0Q29udGV4dCBmcm9tICcuLi9jb250ZXh0L3NvY2tldENvbnRleHQnXHJcbmltcG9ydCBBcGlJc0xvYWRpbmdDb250ZXh0IGZyb20gJy4uL2NvbnRleHQvYXBpSXNMb2FkaW5nQ29udGV4dCdcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInXHJcbmltcG9ydCBpbyBmcm9tICdzb2NrZXQuaW8tY2xpZW50JztcclxuaW1wb3J0IGlwIGZyb20gJy4uL2NvbnN0J1xyXG5cclxuXHJcbmZ1bmN0aW9uIE15QXBwKHsgQ29tcG9uZW50LCBwYWdlUHJvcHMgfSkge1xyXG4gIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IFJlYWN0LnVzZVN0YXRlKHtpbWFnZTpcIlwiLHRlbDpcIlwiLGJpb2dyYXBoeTpcIlwiLHVzZXJOYW1lOlwiXCIsZmlyc3RuYW1lOlwiXCIsbGFzdG5hbWU6XCJcIixhZ2U6XCJcIixmb2xsb3dpbmc6MCxmb2xsb3dlcnM6MH0pXHJcbiAgY29uc3QgdXNlclByb3ZpZGVyID0gUmVhY3QudXNlTWVtbygoKSA9PiAoeyB1c2VyLCBzZXRVc2VyIH0sIFt1c2VyLCBzZXRVc2VyXSkpXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIGNvbnN0IFtsYW5ndWFnZSwgc2V0TGFuZ3VhZ2VdID0gUmVhY3QudXNlU3RhdGUoeyAuLi5pbml0TGFuZ3VhZ2UoXCJlbmdcIikgfSlcclxuICBjb25zdCBsYW5ndWFnZVByb3ZpZGVyID0gUmVhY3QudXNlTWVtbygoKSA9PiAoeyBsYW5ndWFnZSwgc2V0TGFuZ3VhZ2UgfSwgW2xhbmd1YWdlLCBzZXRMYW5ndWFnZV0pKVxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpXHJcbiAgY29uc3QgbG9hZGluZ1Byb3ZpZGVyID0gUmVhY3QudXNlTWVtbygoKSA9PiAoeyBpc0xvYWRpbmcsIHNldElzTG9hZGluZyB9LCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddKSlcclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgY29uc3QgW3NvY2tldCwgc2V0U29ja2V0XSA9IFJlYWN0LnVzZVN0YXRlKHVuZGVmaW5lZClcclxuICBjb25zdCBzb2NrZXRQcm92aWRlciA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHsgc29ja2V0LCBzZXRTb2NrZXR9LCBbc29ja2V0LCBzZXRTb2NrZXRdKSlcclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgY29uc3QgW29ubHlPbmNlLHNldG9ubHlPbmNlXT1SZWFjdC51c2VTdGF0ZShmYWxzZSlcclxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxyXG4gIGNvbnN0IHNvY2tldFJlZiA9IFJlYWN0LnVzZVJlZigpXHJcblxyXG4vKnNvY2tldCBpbyovXHJcblxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovIFxyXG4gIGlmKHJvdXRlci5xdWVyeS5yZWZyZWNoPT1cInRydWVcIiAmJiBvbmx5T25jZT09ZmFsc2Upe1xyXG4gICAgc2V0b25seU9uY2UodHJ1ZSlcclxuICAgIEdldFVzZXJEYXRhKHBhZ2VQcm9wcy50b2tlbikudGhlbihkYXRhID0+IHsgXHJcbiAgICAgIFxyXG4gICAgICBzZXRVc2VyKGUgPT4geyByZXR1cm4geyAuLi5lLCAuLi5kYXRhLmRhdGEuZGF0YVswXSx0b2tlbjogcGFnZVByb3BzLnRva2VuIH0gfSlcclxuXHJcbiAgICAgfSkuY2F0Y2goZSA9PiB7IH0pXHJcblxyXG4gIH1cclxuXHJcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgXHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqaW5pdCBUb2tlbiB0byB1c2VyUHJvdmlkZXIqKioqKioqKioqKioqKioqKiovXHJcbiAgICBzZXRVc2VyKGUgPT4geyByZXR1cm4geyAuLi5lLCB0b2tlbjogcGFnZVByb3BzLnRva2VuIH0gfSlcclxuICAgIC8qZ2V0IGN1cnJlbnQgbGFuZyAqL1xyXG4gICAgc2V0TGFuZ3VhZ2UoaW5pdExhbmd1YWdlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsYW5ndWFnZScpIHx8IFwiZW5nXCIpKVxyXG5cclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKipmZXRjaCB1c2VyIGRhdGEgb25saW5lIGlmIHRoZXJlIGlzIHRva2VuKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgXHJcbiAgICBpZiAocGFnZVByb3BzLnRva2VuKSB7XHJcbiAgICAgIEdldFVzZXJEYXRhKHBhZ2VQcm9wcy50b2tlbikudGhlbihkYXRhID0+IHsgXHJcbiAgICAgICAgc29ja2V0UmVmLmN1cnJlbnQgPWlvKGlwKTtcclxuICAgICAgICBzb2NrZXRSZWYuY3VycmVudC5vbihcImdldFNvY2tldGlkXCIsKGRhdGFGcm9tU29ja2V0KT0+e1xyXG4gICAgICAgIHNvY2tldFJlZi5jdXJyZW50LmVtaXQoXCJzYXZldXNlck9ubGluZVwiLHt1c2VyaWQ6ZGF0YS5kYXRhLmRhdGFbMF0uX2lkLHNvY2tldGlkOmRhdGFGcm9tU29ja2V0fSlcclxuICAgICAgICBzZXRTb2NrZXQoc29ja2V0UmVmLmN1cnJlbnQpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBzZXRVc2VyKGUgPT4geyBcclxuICAgICAgICByZXR1cm4geyAuLi5lLCAuLi5kYXRhLmRhdGEuZGF0YVswXSB9IFxyXG4gICAgICB9KSBcclxuICAgICAgfSkuY2F0Y2goZSA9PiB7IH0pXHJcbiAgICB9XHJcbiAgfSwgW3JvdXRlci5xdWVyeS5yZWZyZWNoXSlcclxuXHJcbiAgXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2FwcFdyYXBwZXInPlxyXG4gICAgICAgIDxMYW5ndWFnZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2xhbmd1YWdlUHJvdmlkZXJ9PlxyXG4gICAgICAgICAgPFVzZXJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt1c2VyUHJvdmlkZXJ9ID5cclxuICAgICAgICAgICAgPEFwaUlzTG9hZGluZ0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2xvYWRpbmdQcm92aWRlcn0+XHJcbiAgICAgICAgICAgICAgPFNvY2tldENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3NvY2tldFByb3ZpZGVyfT5cclxuICAgICAgICAgICAgICB7aXNMb2FkaW5nJiY8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmdcIj48TGluZWFyUHJvZ3Jlc3MgLz48L2Rpdj59XHJcbiAgICAgICAgICAgICAgPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxyXG4gICAgICAgICAgICAgIDwvU29ja2V0Q29udGV4dC5Qcm92aWRlcj5cclxuICAgICAgICAgICAgPC9BcGlJc0xvYWRpbmdDb250ZXh0LlByb3ZpZGVyPlxyXG4gICAgICAgICAgPC9Vc2VyQ29udGV4dC5Qcm92aWRlcj5cclxuICAgICAgICA8L0xhbmd1YWdlQ29udGV4dC5Qcm92aWRlcj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8Lz5cclxuICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE15QXBwXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJbml0aWFsUHJvcHMoeyByZXEsIHJlcyB9KSB7XHJcbiAgcmV0dXJuIGF3YWl0IHJlcS5jb29raWVzLnRva2VuID8geyBwcm9wczogeyB0b2tlbjogdHJ1ZSB9IH0gOiB7IHJlZGlyZWN0OiB7IGRlc3RpbmF0aW9uOiAnLycsIHBlcm1hbmVudDogZmFsc2UsIH0gfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=