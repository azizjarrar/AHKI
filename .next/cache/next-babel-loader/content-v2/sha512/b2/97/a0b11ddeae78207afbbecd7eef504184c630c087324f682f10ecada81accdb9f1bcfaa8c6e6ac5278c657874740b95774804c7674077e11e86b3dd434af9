{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"F:\\\\AHKI\\\\components\\\\profileSettings\\\\Account\\\\Account.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport Style from './Account.module.scss';\nimport UserContext from '../../../context/userContext';\nimport { DatePicker } from 'react-rainbow-components';\nimport { updateProfileInfo } from '../../../services/user';\nimport ApiIsLoadingContext from '../../../context/apiIsLoadingContext';\nimport Toast from '../../Toast/Toast';\nimport LanguageContext from '../../../context/languageContext';\nimport Link from 'next/link';\n\nconst Account = () => {\n  const [user, setUser] = React.useContext(UserContext);\n  const [isLoading, setIsLoading] = React.useContext(ApiIsLoadingContext);\n  const [newUserData, setNewUserData] = React.useState(\"\");\n  const [toastMessage, setToastMessage] = React.useState({\n    state: false,\n    message: \"\"\n  });\n  const [language, setLanguage] = React.useContext(LanguageContext);\n\n  const changeHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewUserData(e => {\n      return _objectSpread(_objectSpread({}, e), {}, {\n        [name]: value\n      });\n    });\n  };\n\n  const UpdateData = () => {\n    setIsLoading(true);\n    updateProfileInfo(newUserData, user.token).then(result => {\n      setToastMessage({\n        state: true,\n        message: \"rak kamel amalt update mte3ek\"\n      });\n      setIsLoading(false);\n    }).catch(error => {\n      setToastMessage({\n        state: true,\n        message: error.message\n      });\n      setIsLoading(false);\n    });\n  };\n\n  React.useEffect(() => {\n    if (toastMessage.state == true) {\n      setTimeout(() => {\n        setToastMessage({\n          state: false,\n          message: \"\"\n        });\n      }, 6000);\n    }\n  }, [toastMessage]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.container,\n    children: [toastMessage.state && /*#__PURE__*/_jsxDEV(Toast, {\n      text: toastMessage.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 34\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.header,\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: language.AccountSetting\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 43\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.inputsContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: e => changeHandler(e),\n          defaultValue: user.userName,\n          name: \"userName\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 55\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: language.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 154\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: e => changeHandler(e),\n          defaultValue: user.firstname,\n          name: \"firstname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 55\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: language.firstname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 156\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: e => changeHandler(e),\n          defaultValue: user.lastname,\n          name: \"lastname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 55\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: language.lastname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 154\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n          value: newUserData.age || user.age,\n          onChange: value => setNewUserData(e => {\n            return _objectSpread(_objectSpread({}, e), {}, {\n              \"age\": value\n            });\n          }),\n          formatStyle: \"large\" //locale={language.age}\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: language.birthday\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${Style.inputContainer} ${Style.bigInput}`,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: e => changeHandler(e),\n          defaultValue: user.biography,\n          maxLength: \"150\",\n          type: \"text\",\n          name: \"biography\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 78\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: language.biography\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 198\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.btn,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => UpdateData(),\n        children: language.update\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/profile\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: language.cancel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 124\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 102\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\nexport default Account;\n/**\r\n\r\n */","map":{"version":3,"sources":["F:/AHKI/components/profileSettings/Account/Account.js"],"names":["React","Style","UserContext","DatePicker","updateProfileInfo","ApiIsLoadingContext","Toast","LanguageContext","Link","Account","user","setUser","useContext","isLoading","setIsLoading","newUserData","setNewUserData","useState","toastMessage","setToastMessage","state","message","language","setLanguage","changeHandler","e","name","value","target","UpdateData","token","then","result","catch","error","useEffect","setTimeout","container","header","AccountSetting","inputsContainer","inputContainer","userName","username","firstname","lastname","age","birthday","bigInput","biography","btn","update","cancel"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Style from './Account.module.scss'\r\nimport UserContext from '../../../context/userContext'\r\nimport { DatePicker } from 'react-rainbow-components';\r\nimport {updateProfileInfo} from '../../../services/user'\r\nimport ApiIsLoadingContext from '../../../context/apiIsLoadingContext'\r\nimport Toast from '../../Toast/Toast'\r\nimport LanguageContext from '../../../context/languageContext'\r\nimport Link from 'next/link'\r\n\r\nconst Account = () => {\r\n    const [user,setUser]=React.useContext(UserContext)\r\n    const [isLoading, setIsLoading] = React.useContext(ApiIsLoadingContext)\r\n    const [newUserData,setNewUserData] = React.useState(\"\")\r\n    const [toastMessage,setToastMessage]=React.useState({state:false,message:\"\"})\r\n    const [language , setLanguage]=React.useContext(LanguageContext)\r\n\r\n   const changeHandler=(e)=>{\r\n    const {name,value}=e.target;\r\n    setNewUserData(e=>{\r\n        return {...e,[name]:value}\r\n    })\r\n   }\r\n   const UpdateData=()=>{\r\n    setIsLoading(true)\r\n    updateProfileInfo(newUserData,user.token).then((result)=>{\r\n        setToastMessage({state:true,message:\"rak kamel amalt update mte3ek\"})\r\n        setIsLoading(false)\r\n    }).catch(error=>{\r\n        setToastMessage({state:true,message:error.message})\r\n        setIsLoading(false)\r\n    })\r\n   }\r\n   React.useEffect(()=>{\r\n    if(toastMessage.state==true){\r\n        setTimeout(() => {\r\n            setToastMessage({state:false,message:\"\"})\r\n        }, 6000);\r\n\r\n    }\r\n   },[toastMessage])\r\n    return (\r\n        <div className={Style.container}>\r\n            {toastMessage.state&&<Toast text={toastMessage.message} ></Toast>}\r\n            <div className={Style.header}><h1>{language.AccountSetting}</h1></div>\r\n            <div className={Style.inputsContainer}>\r\n                <div className={Style.inputContainer}><input type=\"text\"  onChange={(e)=>changeHandler(e)} defaultValue={user.userName} name=\"userName\"/><label>{language.username}</label></div>\r\n                <div className={Style.inputContainer}><input type=\"text\"  onChange={(e)=>changeHandler(e)} defaultValue={user.firstname} name=\"firstname\"/><label>{language.firstname}</label></div>\r\n                <div className={Style.inputContainer}><input type=\"text\"  onChange={(e)=>changeHandler(e)} defaultValue={user.lastname} name=\"lastname\"/><label>{language.lastname}</label></div>\r\n                <div className={Style.inputContainer}>\r\n                        <DatePicker value={newUserData.age||user.age}\r\n                        onChange={value => setNewUserData(e => {return { ...e, \"age\": value }})}\r\n                        formatStyle=\"large\"\r\n                        //locale={language.age}\r\n                        />\r\n                    <label>{language.birthday}</label></div>\r\n                <div className={`${Style.inputContainer} ${Style.bigInput}`}><textarea onChange={(e)=>changeHandler(e)} defaultValue={user.biography} maxLength=\"150\" type=\"text\"  name=\"biography\"/><label>{language.biography}</label></div>\r\n            </div>\r\n            <div  className={Style.btn}><button onClick={()=>UpdateData()}>{language.update}</button><Link href=\"/profile\"><button>{language.cancel}</button></Link></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Account\r\n/**\r\n\r\n */"]},"metadata":{},"sourceType":"module"}