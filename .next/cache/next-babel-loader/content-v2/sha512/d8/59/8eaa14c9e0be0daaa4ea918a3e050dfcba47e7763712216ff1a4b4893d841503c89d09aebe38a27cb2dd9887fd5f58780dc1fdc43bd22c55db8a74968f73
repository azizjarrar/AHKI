{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"F:/AHKI/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"F:/AHKI/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"F:\\\\AHKI\\\\components\\\\modalSingInSingUp\\\\singUp\\\\singUp.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport LanguageContext from '../../../context/languageContext';\nimport PhoneInput from 'react-phone-input-2';\nimport { Register } from '../../../services/user';\nimport Style from '../ModalSingInSingUp.module.scss';\nimport { DatePicker } from 'react-rainbow-components';\n\nvar singUp = function singUp(props) {\n  _s();\n\n  var _React$useContext = React.useContext(LanguageContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      language = _React$useContext2[0],\n      setLanguage = _React$useContext2[1];\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      confirmRegisterForm = _React$useState2[0],\n      setConfirmRegisterForm = _React$useState2[1]; //enable and disable sing up button if the from is not complete\n\n\n  var _React$useState3 = React.useState({\n    userName: {\n      state: 'false',\n      msg: ''\n    },\n    password: {\n      state: 'false',\n      msg: ''\n    },\n    email: {\n      state: 'false',\n      msg: ''\n    }\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      errorData = _React$useState4[0],\n      setErrorData = _React$useState4[1]; //error messages\n\n\n  var _React$useState5 = React.useState({\n    userName: \"\",\n    tel: \"\",\n    password: \"\",\n    email: \"\",\n    birthDay: \"2000-01-01T23:00:00.000Z\",\n    dialCode: \"\"\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      registerState = _React$useState6[0],\n      setregisterState = _React$useState6[1]; //user register data\n\n\n  var _React$useState7 = React.useState(\"email\"),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      changeEmailOrTelinit = _React$useState8[0],\n      setChangeEmailOrTel = _React$useState8[1];\n\n  var userName = React.useRef();\n  var password = React.useRef();\n  React.useEffect(function () {\n    setTimeout(function () {\n      userName.current.value = \"\";\n      password.current.value = \"\";\n    }, 1000);\n  }, []);\n\n  var singUp = function singUp() {\n    if (changeEmailOrTelinit == \"email\") {\n      delete registerState[\"tel\"];\n    } else {\n      delete registerState[\"email\"];\n    }\n\n    Register(registerState).then(function (res) {\n      if (res.data == undefined) {} else if (res.data.state == false) {\n        props.setErrorMessageProps({\n          state: true,\n          text: res.data.message\n        });\n      } else {\n        props.openVerifieAccountModal(res.data.userid);\n        props.fnshowSingInOrSingUp();\n      }\n    })[\"catch\"](function (e) {\n      props.setErrorMessageProps({\n        state: true,\n        text: e.message\n      });\n    });\n  };\n\n  var formValidation = function formValidation(e) {\n    var tel = \"\";\n    var email = \"\";\n\n    if (e.target.form != null) {\n      var validateEmail = function validateEmail(email) {\n        var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(email);\n      };\n\n      var _userName = e.target.form[0].value || \"\";\n\n      if (e.target.form[1].name == \"phone\") {\n        tel = e.target.form[1].value;\n        email = \"\";\n      } else {\n        tel = \"\";\n        email = e.target.form[1].value;\n      }\n\n      var _password = e.target.form[2].value || \"\";\n\n      var confirmPassword = e.target.form[3].value || \"\";\n      var birdhDay = e.target.form[4].value || \"\";\n\n      if (email.length > 0) {\n        if (validateEmail(email.toLowerCase())) {\n          e.target.form[1].style.border = \"1px solid rgba(22, 24, 35, 0.12) \";\n          setErrorData(function (e) {\n            return _objectSpread(_objectSpread({}, e), {}, {\n              email: {\n                state: 'false',\n                msg: ''\n              }\n            });\n          });\n        } else {\n          e.target.form[1].style.border = \"1px solid red \";\n          setErrorData(function (e) {\n            return _objectSpread(_objectSpread({}, e), {}, {\n              email: {\n                state: 'true',\n                msg: 'Enter a valid email address'\n              }\n            });\n          });\n        }\n      }\n\n      if (confirmPassword.length > 1) {\n        if (_password != confirmPassword) {\n          document.getElementsByClassName(e.target.form[3].classList[1])[0].style.border = \"1px solid red\";\n          document.getElementsByClassName(e.target.form[3].classList[1])[1].style.border = \"1px solid red\";\n          setErrorData(function (e) {\n            return _objectSpread(_objectSpread({}, e), {}, {\n              password: {\n                state: 'true',\n                msg: 'the 2 password are not the same'\n              }\n            });\n          });\n        } else {\n          if (_password.length < 8) {\n            setErrorData(function (e) {\n              return _objectSpread(_objectSpread({}, e), {}, {\n                password: {\n                  state: 'true',\n                  msg: 'your browser must contain more than 8 letters'\n                }\n              });\n            });\n          } else {\n            setErrorData(function (e) {\n              return _objectSpread(_objectSpread({}, e), {}, {\n                password: {\n                  state: 'false',\n                  msg: 'your browser must contain more than 8 letters'\n                }\n              });\n            });\n            document.getElementsByClassName(e.target.form[3].classList[1])[0].style.border = \"1px solid rgba(22, 24, 35, 0.12)\";\n            document.getElementsByClassName(e.target.form[3].classList[1])[1].style.border = \"1px solid rgba(22, 24, 35, 0.12)\";\n          }\n        }\n      } else {\n        document.getElementsByClassName(e.target.form[3].classList[1])[0].style.border = \"1px solid rgba(22, 24, 35, 0.12)\";\n        document.getElementsByClassName(e.target.form[3].classList[1])[1].style.border = \"1px solid rgba(22, 24, 35, 0.12)\";\n      }\n\n      if (_userName.length > 0 && _password.length > 0 && confirmPassword.length > 0 && (validateEmail(email) || tel.length > 6)) {\n        if (_password == confirmPassword) {\n          setConfirmRegisterForm(true);\n          return true;\n        } else {\n          setConfirmRegisterForm(false);\n          return false;\n        }\n      } else {\n        setConfirmRegisterForm(false);\n        return false;\n      }\n    }\n  };\n  /****************************************/\n\n  /************Set Phone Number************/\n\n  /****************************************/\n\n\n  var onChangeHandlerRegisterPhone = function onChangeHandlerRegisterPhone(data, country) {\n    setregisterState(function (e) {\n      return _objectSpread(_objectSpread({}, e), {}, {\n        \"dialCode\": country.dialCode,\n        'tel': data\n      });\n    });\n  };\n  /****************************************/\n\n  /********Set User Name and Password******/\n\n  /****************************************/\n\n\n  var userName_Password_Handler = function userName_Password_Handler(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setregisterState(function (e) {\n      return _objectSpread(_objectSpread({}, e), {}, _defineProperty({}, name, value));\n    });\n  };\n\n  var changeEmailOrTel = function changeEmailOrTel() {\n    setChangeEmailOrTel(function (e) {\n      if (e == \"email\") {\n        setregisterState(function (e) {\n          return _objectSpread(_objectSpread({}, e), {}, {\n            email: \"\"\n          });\n        });\n        setConfirmRegisterForm(false);\n        return \"tel\";\n      } else {\n        setregisterState(function (e) {\n          return _objectSpread(_objectSpread({}, e), {}, {\n            tel: \"\"\n          });\n        });\n        setConfirmRegisterForm(false);\n        return \"email\";\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.singUp,\n    style: props.showSingIn_Or_SHowSingUp ? {\n      left: '0%'\n    } : {\n      left: '-100%'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: Style.form,\n      onSubmit: function onSubmit(e) {\n        e.preventDefault();\n      },\n      onChange: function onChange(e) {\n        formValidation(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.pageHeader,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Sing up For NOZZLA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 41\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.descriptionHeader,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: language.createaprofilefollowotheraccountstalkaboutyourownexperienceandmore\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 48\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ref: userName,\n          name: \"userName\",\n          type: \"text\",\n          className: Style.input,\n          onChange: function onChange(e) {\n            return userName_Password_Handler(e);\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: Style.labelspan,\n            children: language.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 20\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, _this), errorData.userName.state == \"true\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.errorMessage,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errorData.userName.msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 84\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 48\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.inputContainer,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.telOrEmail,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.labelEmailOrPassword,\n            onClick: function onClick() {\n              return changeEmailOrTel();\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"change to \", changeEmailOrTelinit]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, _this), changeEmailOrTelinit == \"tel\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.tel,\n            children: /*#__PURE__*/_jsxDEV(PhoneInput, {\n              name: \"tel\",\n              specialLabel: language.phone,\n              country: 'tn',\n              inputProps: {\n                name: 'phone',\n                required: true,\n                autoFocus: true\n              },\n              value: registerState.tel,\n              onChange: function onChange(e, country) {\n                return onChangeHandlerRegisterPhone(e, country);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 79\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 52\n          }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.email,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"email\",\n              type: \"text\",\n              onChange: function onChange(e) {\n                userName_Password_Handler(e);\n              },\n              className: \"\".concat(Style.input, \" \"),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 346\n            }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: Style.labelspan,\n                children: language.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 477\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 470\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 317\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, _this), errorData.email.state == \"true\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.errorMessage,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errorData.email.msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 81\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 45\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ref: password,\n          name: \"password\",\n          type: \"password\",\n          onChange: function onChange(e) {\n            userName_Password_Handler(e);\n          },\n          className: \"\".concat(Style.ConfirmPassword, \" \").concat(Style.input, \" \"),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: Style.labelspan,\n            children: language.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 20\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, _this), errorData.password.state == \"true\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.errorMessage,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errorData.password.msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 84\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 48\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"\".concat(Style.input, \" \").concat(Style.ConfirmPassword),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: Style.labelspan,\n            children: language.confirmpassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 20\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.inputContainer,\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          value: registerState.birthDay,\n          onChange: function onChange(value) {\n            return setregisterState(function (e) {\n              return _objectSpread(_objectSpread({}, e), {}, {\n                \"birthDay\": value\n              });\n            });\n          },\n          label: \"birth Day\",\n          formatStyle: \"large\",\n          locale: language.age\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, _this), confirmRegisterForm == true && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: Style.btn,\n        onClick: function onClick() {\n          return singUp();\n        },\n        children: language.signup\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 41\n      }, _this), confirmRegisterForm == false && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: Style.btn,\n        disabled: true,\n        style: {\n          opacity: 0.2,\n          cursor: 'default'\n        },\n        children: language.signup\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 42\n      }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: Style.message,\n        children: [language.AlreadyHaveAccount, \"  \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: Style.clickHere,\n          onClick: function onClick() {\n            return props.fnshowSingInOrSingUp();\n          },\n          children: language.signin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 69\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(singUp, \"86a2BmY7Nmz8uR+MiptIhqmXHsc=\");\n\nexport default singUp;","map":{"version":3,"sources":["F:/AHKI/components/modalSingInSingUp/singUp/singUp.js"],"names":["React","LanguageContext","PhoneInput","Register","Style","DatePicker","singUp","props","useContext","language","setLanguage","useState","confirmRegisterForm","setConfirmRegisterForm","userName","state","msg","password","email","errorData","setErrorData","tel","birthDay","dialCode","registerState","setregisterState","changeEmailOrTelinit","setChangeEmailOrTel","useRef","useEffect","setTimeout","current","value","then","res","data","undefined","setErrorMessageProps","text","message","openVerifieAccountModal","userid","fnshowSingInOrSingUp","e","formValidation","target","form","validateEmail","re","test","name","confirmPassword","birdhDay","length","toLowerCase","style","border","document","getElementsByClassName","classList","onChangeHandlerRegisterPhone","country","userName_Password_Handler","changeEmailOrTel","showSingIn_Or_SHowSingUp","left","preventDefault","pageHeader","descriptionHeader","createaprofilefollowotheraccountstalkaboutyourownexperienceandmore","inputContainer","input","labelspan","username","errorMessage","telOrEmail","labelEmailOrPassword","phone","required","autoFocus","ConfirmPassword","confirmpassword","age","btn","signup","opacity","cursor","AlreadyHaveAccount","clickHere","signin"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport LanguageContext from '../../../context/languageContext'\r\nimport PhoneInput from 'react-phone-input-2'\r\nimport { Register } from '../../../services/user'\r\nimport Style from '../ModalSingInSingUp.module.scss'\r\nimport { DatePicker } from 'react-rainbow-components';\r\n\r\n\r\nconst singUp = (props) => {\r\n  const [language, setLanguage] = React.useContext(LanguageContext)\r\n  const [confirmRegisterForm, setConfirmRegisterForm] = React.useState(false)//enable and disable sing up button if the from is not complete\r\n  const [errorData, setErrorData] = React.useState({ userName: { state: 'false', msg: '' }, password: { state: 'false', msg: '' } ,email:{state:'false',msg:''}})//error messages\r\n  const [registerState, setregisterState] = React.useState({ userName: \"\", tel: \"\", password: \"\", email: \"\", birthDay: \"2000-01-01T23:00:00.000Z\", dialCode: \"\" })//user register data\r\n  const [changeEmailOrTelinit, setChangeEmailOrTel] = React.useState(\"email\")\r\n  var userName = React.useRef();\r\n  var password = React.useRef();\r\n  React.useEffect(()=>{\r\n    setTimeout(() => {\r\n      userName.current.value=\"\"\r\n      password.current.value=\"\"\r\n    }, 1000); \r\n  },[])\r\n  const singUp = () => {\r\n    if (changeEmailOrTelinit == \"email\") {\r\n      delete registerState[\"tel\"]\r\n    } else {\r\n      delete registerState[\"email\"]\r\n    }\r\n    Register(registerState).then(res => {\r\n      if(res.data==undefined){\r\n        \r\n      }else if (res.data.state == false) {\r\n        props.setErrorMessageProps({ state: true, text: res.data.message })\r\n      } else {\r\n        props.openVerifieAccountModal(res.data.userid)\r\n        props.fnshowSingInOrSingUp()\r\n      }\r\n    }).catch(e => {\r\n      props.setErrorMessageProps({ state: true, text: e.message })\r\n    })\r\n\r\n\r\n  }\r\n  const formValidation = (e) => {\r\n    let tel=\"\"\r\n    let email=\"\"\r\n    if(e.target.form!=null){\r\n      let userName = e.target.form[0].value || \"\";\r\n      if(e.target.form[1].name==\"phone\"){\r\n         tel=e.target.form[1].value;\r\n         email=\"\"\r\n      }else{\r\n        tel=\"\";\r\n        email=e.target.form[1].value\r\n      }\r\n      let password = e.target.form[2].value || \"\"\r\n      let confirmPassword = e.target.form[3].value || \"\"\r\n      let birdhDay = e.target.form[4].value || \"\"\r\n      function validateEmail(email) \r\n    {\r\n        var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(email);\r\n    }\r\n      if(email.length>0){\r\n        if(validateEmail(email.toLowerCase())){\r\n          e.target.form[1].style.border = \"1px solid rgba(22, 24, 35, 0.12) \"\r\n          setErrorData(e => {\r\n            return { ...e, email: { state: 'false', msg: '' } }\r\n          })\r\n        }else{\r\n          e.target.form[1].style.border = \"1px solid red \"\r\n\r\n          setErrorData(e => {\r\n            return { ...e, email: { state: 'true', msg: 'Enter a valid email address' } }\r\n          })       \r\n        }\r\n      }\r\n      if (confirmPassword.length > 1) {\r\n        if (password != confirmPassword) {\r\n          document.getElementsByClassName(e.target.form[3].classList[1])[0].style.border = \"1px solid red\"\r\n          document.getElementsByClassName(e.target.form[3].classList[1])[1].style.border = \"1px solid red\"\r\n          setErrorData(e => {\r\n            return { ...e, password: { state: 'true', msg: 'the 2 password are not the same' } }\r\n          })\r\n        } else {\r\n          if (password.length < 8) {\r\n            setErrorData(e => {\r\n              return { ...e, password: { state: 'true', msg: 'your browser must contain more than 8 letters' } }\r\n            })\r\n          } else {\r\n            setErrorData(e => {\r\n              return { ...e, password: { state: 'false', msg: 'your browser must contain more than 8 letters' } }\r\n            })\r\n            document.getElementsByClassName(e.target.form[3].classList[1])[0].style.border = \"1px solid rgba(22, 24, 35, 0.12)\"\r\n            document.getElementsByClassName(e.target.form[3].classList[1])[1].style.border = \"1px solid rgba(22, 24, 35, 0.12)\"\r\n          }\r\n        }\r\n      } else {\r\n        document.getElementsByClassName(e.target.form[3].classList[1])[0].style.border = \"1px solid rgba(22, 24, 35, 0.12)\"\r\n        document.getElementsByClassName(e.target.form[3].classList[1])[1].style.border = \"1px solid rgba(22, 24, 35, 0.12)\"\r\n      }\r\n      if (userName.length > 0 && password.length > 0 && confirmPassword.length > 0  && (validateEmail(email) || tel.length > 6)) {\r\n        if (password == confirmPassword) {\r\n          \r\n          setConfirmRegisterForm(true)\r\n          return true\r\n        } else {\r\n          setConfirmRegisterForm(false)\r\n          return false\r\n        }\r\n      } else {\r\n        setConfirmRegisterForm(false)\r\n        return false\r\n      }\r\n    }\r\n  }\r\n  /****************************************/\r\n  /************Set Phone Number************/\r\n  /****************************************/\r\n  const onChangeHandlerRegisterPhone = (data, country) => {\r\n    setregisterState(e => {\r\n      return { ...e, \"dialCode\": country.dialCode, 'tel': data }\r\n    })\r\n  }\r\n\r\n  /****************************************/\r\n  /********Set User Name and Password******/\r\n  /****************************************/\r\n\r\n  const userName_Password_Handler = (e) => {\r\n    const { name, value } = e.target\r\n    setregisterState(e => { return { ...e, [name]: value } })\r\n  }\r\n\r\n  \r\n  const changeEmailOrTel = () => {\r\n\r\n    setChangeEmailOrTel(e => {\r\n      if(e == \"email\"){\r\n        setregisterState(e=>{return {...e,email:\"\"}})\r\n        setConfirmRegisterForm(false)\r\n\r\n        return \"tel\"\r\n      }else{\r\n        setregisterState(e=>{return {...e,tel:\"\"}})\r\n        setConfirmRegisterForm(false)\r\n\r\n        return \"email\"\r\n      }\r\n    })\r\n    \r\n  }\r\n\r\n  return (\r\n    <div className={Style.singUp} style={props.showSingIn_Or_SHowSingUp ? { left: '0%' } : { left: '-100%' }}>\r\n      <form className={Style.form} onSubmit={e => { e.preventDefault(); }} onChange={(e) => { formValidation(e) }}>\r\n      <div className={Style.pageHeader}><h2>Sing up For NOZZLA</h2></div>\r\n      <div className={Style.descriptionHeader}><h3>{language.createaprofilefollowotheraccountstalkaboutyourownexperienceandmore}</h3></div>\r\n        <div className={Style.inputContainer}>\r\n          <input ref={userName} name=\"userName\" type=\"text\" className={Style.input} onChange={(e) => userName_Password_Handler(e)} required />\r\n            <label><span className={Style.labelspan}>{language.username}</span></label>\r\n        </div>\r\n        {errorData.userName.state == \"true\" && <div className={Style.errorMessage}><p>{errorData.userName.msg}</p></div>}\r\n        <div className={Style.inputContainer}>\r\n          <div className={Style.telOrEmail}>\r\n            <div className={Style.labelEmailOrPassword} onClick={() => changeEmailOrTel()}>\r\n              <p>change to {changeEmailOrTelinit}</p>\r\n            </div>{changeEmailOrTelinit == \"tel\" ? <div className={Style.tel}><PhoneInput name={\"tel\"} specialLabel={language.phone} country={'tn'}   inputProps={{ name: 'phone',required: true,autoFocus: true}} value={registerState.tel} onChange={(e, country) => onChangeHandlerRegisterPhone(e, country)} /></div> : <div className={Style.email}><input name=\"email\" type=\"text\" onChange={(e) => { userName_Password_Handler(e) }} className={`${Style.input} `} required /><label><span className={Style.labelspan}>{language.email}</span></label></div>}\r\n          </div>\r\n        </div>\r\n        {errorData.email.state == \"true\" && <div className={Style.errorMessage}><p>{errorData.email.msg}</p></div>}\r\n\r\n        <div className={Style.inputContainer}>\r\n          <input ref={password} name=\"password\" type=\"password\" onChange={(e) => { userName_Password_Handler(e) }} className={`${Style.ConfirmPassword} ${Style.input} `} required />\r\n            <label><span className={Style.labelspan}>{language.password}</span></label>\r\n        </div>\r\n        {errorData.password.state == \"true\" && <div className={Style.errorMessage}><p>{errorData.password.msg}</p></div>}\r\n        <div className={Style.inputContainer}>\r\n          <input type=\"password\" className={`${Style.input} ${Style.ConfirmPassword}`} required />\r\n            <label><span className={Style.labelspan}>{language.confirmpassword}</span></label>\r\n        </div>\r\n        <div className={Style.inputContainer}>\r\n          <DatePicker value={registerState.birthDay}\r\n            onChange={value => setregisterState(e => {\r\n              return { ...e, \"birthDay\": value }\r\n            })}\r\n            label=\"birth Day\"\r\n            formatStyle=\"large\"\r\n            locale={language.age}\r\n          />\r\n        </div>\r\n        {confirmRegisterForm == true && <button className={Style.btn} onClick={() => singUp()}>{language.signup}</button>}\r\n\r\n        {confirmRegisterForm == false && <button className={Style.btn} disabled style={{ opacity: 0.2, cursor: 'default' }}>{language.signup}</button>}\r\n        <p className={Style.message}>{language.AlreadyHaveAccount}  <span className={Style.clickHere} onClick={() => props.fnshowSingInOrSingUp()}>{language.signin}</span></p>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default singUp\r\n"]},"metadata":{},"sourceType":"module"}