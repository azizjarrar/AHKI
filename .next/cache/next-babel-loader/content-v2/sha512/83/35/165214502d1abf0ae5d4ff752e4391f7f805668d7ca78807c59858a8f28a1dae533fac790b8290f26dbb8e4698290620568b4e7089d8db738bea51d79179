{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"F:/AHKI/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"F:\\\\AHKI\\\\components\\\\comment\\\\comment.js\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from 'react';\nimport Styles from './comment.module.scss';\nimport HeartComment from '../heartComment/heartComment';\nimport ShowLikesUserNames from '../showLikesUserNames/showLikesUserNames';\nimport { deleteComment } from '../../services/postComments';\nimport { deleteCommentFromImage } from '../../services/imageComments';\nimport { countImageCommentsLikes } from '../../services/imageLikes';\nimport { countPostCommentsLikes } from '../../services/post_likes';\n\nvar Comment = function Comment(props) {\n  _s();\n\n  var _React$useState = React.useState({\n    state: false,\n    firstClick: false\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      settings = _React$useState2[0],\n      setSettings = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      likesModal = _React$useState4[0],\n      setLikesModal = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      likesNumber = _React$useState6[0],\n      setLikesNumber = _React$useState6[1];\n  /******************************************************************************************\r\n  *on click on the 3 dots will show settings like delete or report \r\n  ******************************************************************************************/\n\n\n  React.useEffect(function () {\n    if (props.imgid != undefined) {\n      countImageCommentsLikes({\n        commentid: props.commentid\n      }, props.token).then(function (result) {\n        setLikesNumber(result.data.count);\n      })[\"catch\"](function (error) {\n        alert(error);\n      });\n    } else {\n      countPostCommentsLikes({\n        commentid: props.commentid\n      }, props.token).then(function (result) {\n        setLikesNumber(result.data.count);\n      })[\"catch\"](function (error) {\n        alert(error);\n      });\n    }\n  }, []); //add like in time to likes number\n\n  var _addLikeInTime = function addLikeInTime(newLikesNumber) {\n    setLikesNumber(function (e) {\n      return e + newLikesNumber;\n    });\n  }; // show users who likes this comment\n\n\n  var openshowLikesUserNames = function openshowLikesUserNames() {\n    setLikesModal(function (e) {\n      return !e;\n    });\n  }; // show settings of comment report delete\n\n\n  var ShowSettings = function ShowSettings() {\n    if (settings.firstClick != true) {\n      setSettings({\n        state: true,\n        firstClick: true\n      });\n    }\n  }; // close setting componenet\n\n\n  var closeComponenet = function closeComponenet() {\n    setSettings({\n      state: false,\n      firstClick: false\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Styles.container,\n    style: likesModal == true || settings.state == true ? {\n      zIndex: \"999999999999999999\"\n    } : {},\n    children: [likesModal && /*#__PURE__*/_jsxDEV(ShowLikesUserNames, {\n      imgid: props.imgid,\n      showLikesForComment: true,\n      closepopUp: openshowLikesUserNames,\n      commentid: props.commentid\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 20\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Styles.imageUserAndNameContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Styles.userImage,\n        children: props.userProfileImageUrl != \"anonym\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: props.userProfileImageUrl || \"/avatar.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 51\n        }, _this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            minHeight: \"0\",\n            width: \"75%\",\n            height: \"75%\",\n            top: \"50%\",\n            left: \"50%\",\n            transform: \"translate(-50%,-50%)\"\n          },\n          src: \"/anonymous.png\",\n          alt: \"anonymous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 108\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: props.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: Styles.date,\n        children: [props.date.slice(0, 10), \" \", props.date.slice(11, 16)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Styles.Settings,\n        style: settings.state ? {\n          zIndex: \"999999999999999999\"\n        } : {\n          zIndex: \"1\"\n        },\n        onClick: function onClick() {\n          return ShowSettings();\n        },\n        children: [\"\\u2026\", settings.state && /*#__PURE__*/_jsxDEV(SettingsPComments, {\n          ownerid: props.ownerid,\n          currentUserId: props.currentUserId,\n          deleteCommentInCurrentTime: props.deleteCommentInCurrentTime,\n          postid: props.postid,\n          token: props.token,\n          closeComponenetfn: closeComponenet,\n          imgid: props.imgid,\n          commentid: props.commentid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 168\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Styles.comments,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: props.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 44\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Styles.likesAndComments,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Styles.likes,\n        children: [/*#__PURE__*/_jsxDEV(HeartComment, {\n          imgid: props.imgid,\n          addLikeInTime: function addLikeInTime(e) {\n            return _addLikeInTime(e);\n          },\n          token: props.token,\n          commentid: props.commentid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: Styles.likesNumber,\n          onClick: function onClick() {\n            return openshowLikesUserNames();\n          },\n          children: likesNumber || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Styles.Comments,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 44\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 10\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Comment, \"XdBd+2HPz/FL8+2uiyYzlc931c8=\");\n\n_c = Comment;\nexport default Comment;\n\nvar SettingsPComments = function SettingsPComments(props) {\n  _s2();\n\n  var _React$useState7 = React.useState({\n    state: false,\n    text: \"\"\n  }),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      errorMessage = _React$useState8[0],\n      setErrorMessage = _React$useState8[1]; // when state true show  pop up \n  //delete comment there is 2 comment of image and comment of image\n\n\n  var deleteCommentFn = function deleteCommentFn() {\n    //if there is img then it will open setting of img comments\n    if (props.imgid != undefined) {\n      deleteCommentFromImage({\n        imgid: props.imgid,\n        commentid: props.commentid\n      }, props.token).then(function (result) {\n        props.deleteCommentInCurrentTime(props.commentid);\n      }); // else it will  post comment\n    } else {\n      deleteComment({\n        postid: props.postid,\n        commentid: props.commentid\n      }, props.token).then(function (result) {\n        props.deleteCommentInCurrentTime(props.commentid);\n      });\n    }\n  }; // close error modal\n\n\n  var closePopUp = function closePopUp() {\n    setErrorMessage({\n      state: false,\n      text: \"\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Styles.containerSettings,\n    children: [errorMessage.state == true && /*#__PURE__*/_jsxDEV(PopUpMessage, {\n      fnclose: function fnclose() {\n        return closePopUp();\n      },\n      openPopUp: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 42\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Styles.paramsContainer,\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 55\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }, _this), props.ownerid._id == props.currentUserId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Styles.paramsContainer,\n      onClick: function onClick() {\n        return deleteCommentFn();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 128\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 56\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Styles.paramsContainer,\n      onClick: function onClick() {\n        return props.closeComponenetfn();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 95\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 11\n  }, _this);\n};\n\n_s2(SettingsPComments, \"99nIw9vjRF33UpxAdnrEypmF4Pc=\");\n\n_c2 = SettingsPComments;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Comment\");\n$RefreshReg$(_c2, \"SettingsPComments\");","map":{"version":3,"sources":["F:/AHKI/components/comment/comment.js"],"names":["React","Styles","HeartComment","ShowLikesUserNames","deleteComment","deleteCommentFromImage","countImageCommentsLikes","countPostCommentsLikes","Comment","props","useState","state","firstClick","settings","setSettings","likesModal","setLikesModal","likesNumber","setLikesNumber","useEffect","imgid","undefined","commentid","token","then","result","data","count","error","alert","addLikeInTime","newLikesNumber","e","openshowLikesUserNames","ShowSettings","closeComponenet","container","zIndex","imageUserAndNameContainer","userImage","userProfileImageUrl","minHeight","width","height","top","left","transform","name","date","slice","Settings","ownerid","currentUserId","deleteCommentInCurrentTime","postid","comments","text","likesAndComments","likes","Comments","SettingsPComments","errorMessage","setErrorMessage","deleteCommentFn","closePopUp","containerSettings","paramsContainer","_id","closeComponenetfn"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Styles from './comment.module.scss'\r\nimport HeartComment from '../heartComment/heartComment'\r\nimport ShowLikesUserNames from '../showLikesUserNames/showLikesUserNames'\r\nimport {deleteComment} from '../../services/postComments'\r\nimport {deleteCommentFromImage} from '../../services/imageComments'\r\nimport {countImageCommentsLikes}  from '../../services/imageLikes'\r\nimport {countPostCommentsLikes}  from '../../services/post_likes'\r\nconst Comment = (props) => {\r\n  const [settings, setSettings] = React.useState({state:false,firstClick:false})\r\n  const [likesModal,setLikesModal]=React.useState(false)\r\n  const [likesNumber,setLikesNumber]=React.useState(0)\r\n  /******************************************************************************************\r\n  *on click on the 3 dots will show settings like delete or report \r\n  ******************************************************************************************/\r\n  React.useEffect(()=>{\r\n    if(props.imgid!=undefined){\r\n      countImageCommentsLikes({commentid:props.commentid},props.token).then(result=>{\r\n        setLikesNumber(result.data.count)\r\n      }).catch(error=>{\r\n        alert(error)\r\n      })\r\n    }else{\r\n     \r\n        countPostCommentsLikes({commentid:props.commentid},props.token).then(result=>{\r\n          setLikesNumber(result.data.count)\r\n        }).catch(error=>{\r\n          alert(error)\r\n        })\r\n      \r\n \r\n    }\r\n  },[])\r\n\r\n //add like in time to likes number\r\n  const addLikeInTime=(newLikesNumber)=>{\r\n    setLikesNumber(e=>e+newLikesNumber)\r\n  }\r\n  // show users who likes this comment\r\n  const openshowLikesUserNames=()=>{\r\n    setLikesModal(e=>!e)\r\n  }\r\n  // show settings of comment report delete\r\n  const ShowSettings = () => {\r\n    if(settings.firstClick!=true){\r\n      setSettings({state:true,firstClick:true})\r\n    }\r\n}\r\n// close setting componenet\r\nconst closeComponenet=()=>{\r\n  setSettings({state:false,firstClick:false})\r\n\r\n}\r\n  return (\r\n    <div className={Styles.container}  style={likesModal==true||settings.state==true?{zIndex:\"999999999999999999\"}:{}}>\r\n      {likesModal&&<ShowLikesUserNames imgid={props.imgid} showLikesForComment={true} closepopUp={openshowLikesUserNames} commentid={props.commentid}></ShowLikesUserNames>}\r\n      <div className={Styles.imageUserAndNameContainer}>\r\n        <div className={Styles.userImage}>\r\n        {/*<img src={props.userProfileImageUrl||\"/avatar.png\"} alt={\"user.userName \"|| \"\"}/>*/}\r\n\r\n            {props.userProfileImageUrl!=\"anonym\"? <img src={props.userProfileImageUrl || \"/avatar.png\"} />:<img style={{minHeight:\"0\",width:\"75%\",height:\"75%\",top:\"50%\",left:\"50%\",transform:\"translate(-50%,-50%)\"}} src={\"/anonymous.png\"} alt=\"anonymous\"/>}\r\n          </div>\r\n          <h3>{props.name}</h3> \r\n          <h3 className={Styles.date}>{props.date.slice(0,10)} {props.date.slice(11,16)}</h3>\r\n          <div className={Styles.Settings} style={settings.state?{zIndex:\"999999999999999999\"}:{zIndex:\"1\"}} onClick={() => ShowSettings()}>&hellip;{settings.state && <SettingsPComments ownerid={props.ownerid} currentUserId={props.currentUserId} deleteCommentInCurrentTime={props.deleteCommentInCurrentTime} postid={props.postid}  token={props.token} closeComponenetfn={closeComponenet}  imgid={props.imgid} commentid={props.commentid}></SettingsPComments>}</div></div>\r\n          <div className={Styles.comments}><p>{props.text}</p></div>\r\n          <div className={Styles.likesAndComments}>\r\n          <div className={Styles.likes} >\r\n          <HeartComment imgid={props.imgid}  addLikeInTime={(e)=>addLikeInTime(e)} token={props.token} commentid={props.commentid}></HeartComment>\r\n          <p className={Styles.likesNumber} onClick={()=>openshowLikesUserNames()}>{likesNumber||0}</p>\r\n\r\n          </div>\r\n        {<div className={Styles.Comments} ><p></p></div>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Comment\r\n\r\nconst SettingsPComments=(props)=>{\r\n  const [errorMessage,setErrorMessage]=React.useState({state:false,text:\"\"})// when state true show  pop up \r\n//delete comment there is 2 comment of image and comment of image\r\n const deleteCommentFn=()=>{\r\n   //if there is img then it will open setting of img comments\r\n  if(props.imgid!=undefined){\r\n    deleteCommentFromImage({imgid:props.imgid,commentid:props.commentid},props.token).then(result=>{\r\n      props.deleteCommentInCurrentTime(props.commentid)\r\n    })\r\n    // else it will  post comment\r\n  }else{\r\n    deleteComment({postid:props.postid,commentid:props.commentid},props.token).then(result=>{\r\n      props.deleteCommentInCurrentTime(props.commentid)\r\n    })\r\n  }\r\n  }\r\n  // close error modal\r\n  const closePopUp=()=>{\r\n      setErrorMessage({state:false,text:\"\"})\r\n    }\r\n  return (\r\n          <div className={Styles.containerSettings}>\r\n              {errorMessage.state==true&&<PopUpMessage fnclose={()=>closePopUp()} openPopUp={errorMessage}></PopUpMessage>}\r\n              <div className={Styles.paramsContainer}><h3>Report</h3></div>\r\n              {props.ownerid._id==props.currentUserId&&<div className={Styles.paramsContainer} onClick={()=>deleteCommentFn()}><h3>Delete</h3></div>}\r\n              <div className={Styles.paramsContainer} onClick={()=>props.closeComponenetfn()}><h3>Close</h3></div>\r\n          </div>\r\n          )\r\n}"]},"metadata":{},"sourceType":"module"}