{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"F:/AHKI/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"F:/AHKI/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nimport Style from './notification.module.scss';\nimport { getnotifications } from '../../services/notification';\nimport { deniedfollow, acceptfollow } from '../../services/following';\nimport UserContext from '../../context/userContext';\n\nvar notification = function notification(props) {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      notifications = _React$useState2[0],\n      setnotifications = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      Loading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  React.useEffect(function () {\n    getnotifications({}, props.token).then(function (result) {\n      console.log(result.data.data);\n      setnotifications(result.data.data);\n    })[\"catch\"](function (error) {});\n  }, []);\n\n  var deniedfollowfn = function deniedfollowfn(theOtherPersonId, idComponent) {\n    setLoading(true);\n    deniedfollow(theOtherPersonId, idComponent, props.token).then(function (result) {\n      setLoading(false);\n      setnotifications(function (e) {\n        return _toConsumableArray(e.filter(function (e) {\n          return e._id != idComponent;\n        }));\n      });\n    })[\"catch\"](function (error) {});\n  };\n\n  var acceptfollowfn = function acceptfollowfn(theOtherPersonId, idComponent) {\n    setLoading(true);\n    acceptfollow(theOtherPersonId, idComponent, props.token).then(function (result) {\n      setLoading(false);\n      setnotifications(function (e) {\n        return _toConsumableArray(e.filter(function (e) {\n          return e._id != idComponent;\n        }));\n      });\n    })[\"catch\"](function (error) {});\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: Style.container,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: Style.header,\n      children: /*#__PURE__*/_jsx(\"h1\", {\n        children: \"Notifcation\"\n      })\n    }), notifications.map(function (notif) {\n      if (notif.type == \"follow\") {\n        return /*#__PURE__*/_jsxs(\"div\", {\n          className: Style.notif,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: Style.user,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: Style.userImageContainer,\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: notif.from.currentImageUrl\n              })\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: Style.text,\n            children: [/*#__PURE__*/_jsx(\"h2\", {\n              children: notif.from.userName\n            }), /*#__PURE__*/_jsx(\"p\", {\n              children: \"want to follow you\"\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: Style.btns,\n              children: [/*#__PURE__*/_jsx(\"button\", {\n                onClick: function onClick() {\n                  return deniedfollowfn(notif.from._id, notif._id);\n                },\n                children: Loading == false ? /*#__PURE__*/_jsx(\"p\", {\n                  children: \"reject\"\n                }) : /*#__PURE__*/_jsxs(\"div\", {\n                  className: Style.ldsring,\n                  children: [/*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {})]\n                })\n              }), /*#__PURE__*/_jsx(\"button\", {\n                onClick: function onClick() {\n                  return acceptfollowfn(notif.from._id, notif._id);\n                },\n                children: Loading == false ? /*#__PURE__*/_jsx(\"p\", {\n                  children: \"aprove\"\n                }) : /*#__PURE__*/_jsxs(\"div\", {\n                  className: Style.ldsring,\n                  children: [/*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {})]\n                })\n              })]\n            })]\n          })]\n        });\n      } else if (notif.type == \"follow directly\") {\n        return /*#__PURE__*/_jsxs(\"div\", {\n          className: Style.notif,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: Style.user,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: Style.userImageContainer,\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: notif.from.currentImageUrl\n              })\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: Style.text,\n            children: [/*#__PURE__*/_jsx(\"h2\", {\n              children: notif.from.userName\n            }), /*#__PURE__*/_jsx(\"p\", {\n              children: \" followd you\"\n            })]\n          })]\n        });\n      }\n    })]\n  });\n};\n\nexport default notification;","map":null,"metadata":{},"sourceType":"module"}