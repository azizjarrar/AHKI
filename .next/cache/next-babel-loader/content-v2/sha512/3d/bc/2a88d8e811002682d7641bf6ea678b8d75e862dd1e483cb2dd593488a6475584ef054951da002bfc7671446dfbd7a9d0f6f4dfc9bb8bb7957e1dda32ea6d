{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Styles from './homeTodayTopics.module.scss';\nimport PostTodayTopic from '../postTodayTopic/postTodayTopic';\nimport userContext from '../../context/userContext';\nimport { getTodayTopicPost } from '../../services/post';\nimport Publication from '../publication/publication';\n\nconst homeTodayTopics = () => {\n  const [user, setUser] = React.useContext(userContext);\n  const [posts, setPosts] = React.useState([]);\n  React.useEffect(() => {\n    if (user.token != undefined) {\n      getTodayTopicPost({}, user.token).then(result => {\n        if (result != undefined) {\n          setPosts([...result.data.data]);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }, [user.token]);\n\n  const refrechDataFn = () => {\n    getTodayTopicPost({}, user.token).then(result => {\n      setPosts([...result.data.data]);\n    }).catch(error => {\n      alert(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: Styles.todayTopics,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: Styles.posts,\n      children: [/*#__PURE__*/_jsx(PostTodayTopic, {\n        logedOrNot: user.token != false && user.token != undefined,\n        refrechData: refrechDataFn\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: Styles.publicationContainer,\n        children: posts.map(e => /*#__PURE__*/_jsx(Publication, {\n          allowAnonymeComments: e.allowAnonymeComments,\n          userName: e.OwnerOfPost.userName,\n          id: e._id,\n          date: e.date,\n          ownerOfPostImage: e.OwnerOfPost.currentImageUrl || \"anonym\",\n          text: e.postText,\n          video: e.postVideo != undefined ? e.postVideo : undefined,\n          image: e.postImage != undefined ? e.postImage : undefined\n        }, e._id))\n      })]\n    })\n  });\n};\n\nexport default homeTodayTopics;","map":null,"metadata":{},"sourceType":"module"}