{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"F:\\\\AHKI\\\\components\\\\heart\\\\heart.js\";\nimport React from 'react';\nimport Style from './heart.module.scss';\nimport { addLikeToPost, checklikeToPost, dislikePost } from '../../services/post_likes';\nimport { addLikeToImage, checklikeToImage, dislikeImage } from '../../services/imageLikes';\n\nconst heart = props => {\n  const [clicked, setClicked] = React.useState(false);\n  React.useEffect(() => {\n    if (props.imgid != undefined) {\n      if (props.token != false) {\n        checklikeToImage({\n          imageid: props.imgid\n        }, props.token).then(result => {\n          if (result.data.data != null) {\n            setClicked(true);\n          } else {\n            setClicked(false);\n          }\n        }).catch(e => {\n          console.log(e);\n        });\n      }\n    } else {\n      if (props.token != false) {\n        checklikeToPost({\n          postid: props.postid\n        }, props.token).then(result => {\n          if (result.data.data != null) {\n            setClicked(true);\n          } else {\n            setClicked(false);\n          }\n        }).catch(e => {\n          console.log(e);\n        });\n      }\n    }\n  }, [props.imgid]); // badaltha kenet props khw ou ki keent props khw ay tabdila i awed ya3beth checklikedtoImage api\n\n  const sendLikeOrDislike = () => {\n    if (props.token != false) {\n      if (props.imgid != undefined) {\n        if (clicked == true) {\n          dislikeImage({\n            imageid: props.imgid\n          }, props.token).then(result => {\n            props.addLikeInTime(-1);\n            setClicked(false);\n          }).catch(e => {\n            console.log(e);\n          });\n        } else {\n          addLikeToImage({\n            imageid: props.imgid\n          }, props.token).then(result => {\n            props.addLikeInTime(1);\n            setClicked(true);\n          }).catch(e => {\n            console.log(e);\n          });\n        }\n      } else {\n        if (clicked == true) {\n          dislikePost({\n            postid: props.postid\n          }, props.token).then(result => {\n            props.addLikeInTime(-1);\n            setClicked(false);\n          }).catch(e => {\n            console.log(e);\n          });\n        } else {\n          addLikeToPost({\n            postid: props.postid\n          }, props.token).then(result => {\n            props.addLikeInTime(1);\n            setClicked(true);\n          }).catch(e => {\n            console.log(e);\n          });\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.heart,\n    style: {\n      backgroundColor: clicked == true ? \"#ff413f\" : \"#abb6bf\",\n      \"--clicked\": clicked ? \"#ff413f\" : \"#abb6bf\"\n    },\n    onClick: () => sendLikeOrDislike(),\n    children: clicked && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.heartFaded,\n      style: {\n        backgroundColor: clicked == true ? \"#ff413f\" : \"#abb6bf\",\n        \"--clicked\": clicked ? \"#ff413f\" : \"#abb6bf\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 23\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n};\n\nexport default heart;","map":{"version":3,"sources":["F:/AHKI/components/heart/heart.js"],"names":["React","Style","addLikeToPost","checklikeToPost","dislikePost","addLikeToImage","checklikeToImage","dislikeImage","heart","props","clicked","setClicked","useState","useEffect","imgid","undefined","token","imageid","then","result","data","catch","e","console","log","postid","sendLikeOrDislike","addLikeInTime","backgroundColor","heartFaded"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Style from './heart.module.scss'\r\nimport {addLikeToPost,checklikeToPost,dislikePost} from '../../services/post_likes'\r\nimport {addLikeToImage,checklikeToImage,dislikeImage} from '../../services/imageLikes'\r\nconst heart = (props) => {\r\n    const [clicked,setClicked]=React.useState(false)\r\n    React.useEffect(()=>{\r\n        if(props.imgid!=undefined){\r\n            if(props.token!=false){\r\n                checklikeToImage({imageid:props.imgid},props.token).then(result=>{\r\n                    if(result.data.data!=null){\r\n                        setClicked(true)\r\n                    }else{\r\n                        setClicked(false)\r\n                    }\r\n                }).catch(e=>{\r\n                    console.log(e)\r\n                })\r\n            }\r\n\r\n        }else{\r\n            if(props.token!=false){\r\n\r\n            checklikeToPost({postid:props.postid},props.token).then(result=>{\r\n                if(result.data.data!=null){\r\n                    \r\n                    setClicked(true)\r\n                }else{\r\n                    setClicked(false)\r\n                }\r\n            }).catch(e=>{\r\n                console.log(e)\r\n            })\r\n        }\r\n        }\r\n\r\n    },[props.imgid]) // badaltha kenet props khw ou ki keent props khw ay tabdila i awed ya3beth checklikedtoImage api\r\n\r\n    const sendLikeOrDislike=()=>{\r\n        if(props.token!=false){\r\n            if(props.imgid!=undefined){\r\n                if(clicked==true){\r\n    \r\n                    dislikeImage({imageid:props.imgid},props.token).then(result=>{\r\n                        props.addLikeInTime(-1)\r\n                        setClicked(false)\r\n                    }).catch(e=>{\r\n                        console.log(e)\r\n                    })\r\n                }else{\r\n                    addLikeToImage({imageid:props.imgid},props.token).then(result=>{\r\n                        props.addLikeInTime(1)\r\n                        setClicked(true)\r\n                    }).catch(e=>{\r\n                        console.log(e)\r\n                    })\r\n                } \r\n            }else{\r\n                if(clicked==true){\r\n                    dislikePost({postid:props.postid},props.token).then(result=>{\r\n                        props.addLikeInTime(-1)\r\n                        setClicked(false)\r\n                    }).catch(e=>{\r\n                        console.log(e)\r\n                    })\r\n                }else{\r\n                    addLikeToPost({postid:props.postid},props.token).then(result=>{\r\n                        props.addLikeInTime(1)\r\n                        setClicked(true)\r\n                    }).catch(e=>{\r\n                        console.log(e)\r\n                    })\r\n                }   \r\n            }\r\n    \r\n        }\r\n  \r\n\r\n    }\r\n    \r\n    return (\r\n        \r\n        <div className={Style.heart} style={{backgroundColor:clicked==true?\"#ff413f\":\"#abb6bf\",\"--clicked\":clicked?\"#ff413f\":\"#abb6bf\"}} onClick={()=>sendLikeOrDislike()}>\r\n            {clicked&&<div className={Style.heartFaded}  style={{backgroundColor:clicked==true?\"#ff413f\":\"#abb6bf\",\"--clicked\":clicked?\"#ff413f\":\"#abb6bf\"}} ></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default heart\r\n"]},"metadata":{},"sourceType":"module"}