{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"F:/AHKI/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"F:\\\\AHKI\\\\pages\\\\singup.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Style from '../styles/singup.module.scss';\nimport LanguageContext from '../context/languageContext';\nimport Link from 'next/link';\nimport { DatePicker } from 'react-rainbow-components';\nimport PhoneInput from 'react-phone-input-2';\nimport { useForm } from 'react-hook-form';\nimport { Register } from '../services/user';\nimport VerifyAccount from '../components/verifyAccount/verifyAccount';\nimport PopUpMessage from '../components/popUpMessage/popUpMessage';\nimport ApiIsLoadingContext from '../context/apiIsLoadingContext';\nimport 'react-phone-input-2/lib/material.css';\n\nvar singup = function singup() {\n  _s();\n\n  var _React$useContext = React.useContext(LanguageContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      language = _React$useContext2[0],\n      setLanguage = _React$useContext2[1];\n\n  var _React$useState = React.useState(\"email\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      showEmailOrTel = _React$useState2[0],\n      setShowEmailOrTel = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"1998-01-27T23:00:00.000Z\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      birthDay = _React$useState4[0],\n      setBirthDay = _React$useState4[1];\n\n  var _React$useState5 = React.useState({\n    state: false,\n    userid: \"\"\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      openVerifieAccountModal = _React$useState6[0],\n      setOpenVerifieAccountModal = _React$useState6[1];\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors,\n      watch = _useForm.watch;\n\n  var password = React.useRef({});\n  password.current = watch(\"password\", \"\");\n\n  var _React$useState7 = React.useState({\n    state: false,\n    text: \"\"\n  }),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      errorMessage = _React$useState8[0],\n      setErrorMessage = _React$useState8[1]; // when state true show  pop up \n\n\n  var _React$useContext3 = React.useContext(ApiIsLoadingContext),\n      _React$useContext4 = _slicedToArray(_React$useContext3, 2),\n      isLoading = _React$useContext4[0],\n      setIsLoading = _React$useContext4[1];\n\n  var onChangeHandlerRegisterPhone = function onChangeHandlerRegisterPhone(data, country) {\n    document.querySelector(\"#telId\").value = JSON.stringify({\n      \"dialCode\": country.dialCode,\n      'tel': data\n    });\n  };\n\n  var switchTo = function switchTo() {\n    setShowEmailOrTel(function (e) {\n      if (e == \"tel\") {\n        return \"email\";\n      } else {\n        return \"tel\";\n      }\n    });\n  };\n\n  var setBirthDayfn = function setBirthDayfn(date) {\n    setBirthDay(date);\n    document.querySelector(\"#ageId\").value = date;\n  };\n\n  var onSubmit = function onSubmit(data) {\n    setIsLoading(true);\n    Register(data).then(function (res) {\n      if (res.data == undefined) {\n        setIsLoading(false);\n      } else if (res.data.state == false) {\n        setErrorMessage({\n          state: true,\n          text: res.data.message\n        });\n        setIsLoading(false);\n      } else {\n        setOpenVerifieAccountModal({\n          state: true,\n          userid: res.data.userid\n        });\n        setIsLoading(false);\n      }\n    })[\"catch\"](function (error) {\n      setErrorMessage({\n        state: true,\n        text: error.message\n      });\n      setIsLoading(false);\n    });\n  };\n\n  var closePopUp = function closePopUp() {\n    setErrorMessage({\n      state: false,\n      text: \"\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.pageContainer,\n    children: [errorMessage.state == true && /*#__PURE__*/_jsxDEV(PopUpMessage, {\n      fnclose: closePopUp,\n      openPopUp: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 37\n    }, _this), openVerifieAccountModal.state && /*#__PURE__*/_jsxDEV(VerifyAccount, {\n      userId: openVerifieAccountModal.userid\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 41\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.formContainer,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"age\",\n          id: \"ageId\",\n          defaultValue: \"1998-01-27T23:00:00.000Z\",\n          ref: register({\n            required: \"Required\"\n          }),\n          style: {\n            position: \"absolute\",\n            opacity: 0,\n            pointerEvents: \"none\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Header,\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Sing up For NOZZLA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 43\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.descriptionHeader,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: language.createaprofilefollowotheraccountstalkaboutyourownexperienceandmore\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 54\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.inputContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: Style.input,\n            ref: register,\n            name: \"userName\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: language.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 24\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.switchContainer,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: function onClick() {\n              return switchTo();\n            },\n            children: [\"siwtch to \", showEmailOrTel == \"tel\" ? \"email\" : \"tel\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 52\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\".concat(Style.inputContainerTelOrEmail),\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"tel\",\n            style: {\n              position: 'absolute',\n              pointerEvents: \"none\",\n              opacity: 0\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 18\n          }, _this), showEmailOrTel == \"tel\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"tel\",\n              id: \"telId\",\n              ref: register({\n                required: \"Required\"\n              }),\n              style: {\n                position: \"absolute\",\n                opacity: 0,\n                pointerEvents: \"none\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 18\n            }, _this), /*#__PURE__*/_jsxDEV(PhoneInput, {\n              name: \"tel\",\n              specialLabel: language.phone,\n              country: 'tn',\n              inputProps: {\n                name: 'phone',\n                required: true,\n                autoFocus: true\n              },\n              onChange: function onChange(e, country) {\n                return onChangeHandlerRegisterPhone(e, country);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 18\n            }, _this)]\n          }, void 0, true), showEmailOrTel == \"email\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.inputContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"email\",\n              ref: register({\n                required: \"Required\",\n                pattern: {\n                  value: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n                  message: \"invalid email address\"\n                }\n              }),\n              className: Style.input,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 83\n            }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: language.telephoneoremail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 21\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 44\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, _this), errors.tel && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.error,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"tel is required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 57\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 28\n        }, _this), errors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.error,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"email is incorect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 59\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 30\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.inputContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            ref: register({\n              required: \"password required\",\n              minLength: 8\n            }),\n            className: Style.input,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 51\n          }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: language.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 21\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, _this), errors.password && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.error,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"password length must be 8 at least\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 62\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 33\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.inputContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"confirmPassword\",\n            ref: register({\n              validate: function validate(value) {\n                return value === password.current || \"The passwords do not match\";\n              }\n            }),\n            className: Style.input,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 55\n          }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: language.confirmpassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 21\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, _this), errors.confirmPassword && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.error,\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.confirmPassword.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 70\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 40\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\".concat(Style.inputContainer, \" \").concat(Style.birthDay),\n          children: /*#__PURE__*/_jsxDEV(DatePicker, {\n            value: birthDay,\n            onChange: function onChange(value) {\n              return setBirthDayfn(value);\n            },\n            label: \"birth Day\",\n            formatStyle: \"large\",\n            locale: language.age\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, _this), errors.age && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.error,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"age is required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 57\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 28\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.btnContainer,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: language.signin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.messageToCreateAccounOrForgetPassword,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: Style.message,\n            children: [language.AlreadyHaveAccount, \" \", /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/signin\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: Style.clickHere,\n                children: language.signin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 97\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 76\n            }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 163\n            }, _this), \" \", /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/forgetPassword\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: Style.forgetPassword,\n                children: language.ForgotPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 199\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 170\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(singup, \"p+9v/Y3DLZc/3kV8bkkV1tJrh2I=\", false, function () {\n  return [useForm];\n});\n\nexport default singup;","map":{"version":3,"sources":["F:/AHKI/pages/singup.js"],"names":["React","Style","LanguageContext","Link","DatePicker","PhoneInput","useForm","Register","VerifyAccount","PopUpMessage","ApiIsLoadingContext","singup","useContext","language","setLanguage","useState","showEmailOrTel","setShowEmailOrTel","birthDay","setBirthDay","state","userid","openVerifieAccountModal","setOpenVerifieAccountModal","register","handleSubmit","errors","watch","password","useRef","current","text","errorMessage","setErrorMessage","isLoading","setIsLoading","onChangeHandlerRegisterPhone","data","country","document","querySelector","value","JSON","stringify","dialCode","switchTo","e","setBirthDayfn","date","onSubmit","then","res","undefined","message","error","closePopUp","pageContainer","formContainer","required","position","opacity","pointerEvents","Header","descriptionHeader","createaprofilefollowotheraccountstalkaboutyourownexperienceandmore","inputContainer","input","username","switchContainer","inputContainerTelOrEmail","phone","name","autoFocus","pattern","telephoneoremail","tel","email","minLength","validate","confirmpassword","confirmPassword","age","btnContainer","signin","messageToCreateAccounOrForgetPassword","AlreadyHaveAccount","clickHere","forgetPassword","ForgotPassword"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Style from '../styles/singup.module.scss'\r\nimport LanguageContext from '../context/languageContext'\r\nimport Link from 'next/link'\r\nimport { DatePicker } from 'react-rainbow-components';\r\nimport PhoneInput from 'react-phone-input-2'\r\nimport { useForm } from 'react-hook-form';\r\nimport { Register } from '../services/user'\r\nimport VerifyAccount from '../components/verifyAccount/verifyAccount'\r\nimport PopUpMessage from '../components/popUpMessage/popUpMessage'\r\nimport ApiIsLoadingContext from '../context/apiIsLoadingContext'\r\n\r\nimport 'react-phone-input-2/lib/material.css'\r\n\r\nconst singup = () => {\r\n    const [language, setLanguage] = React.useContext(LanguageContext)\r\n    const [showEmailOrTel,setShowEmailOrTel]=React.useState(\"email\")\r\n    const [birthDay,setBirthDay]=React.useState(\"1998-01-27T23:00:00.000Z\")\r\n    const [openVerifieAccountModal,setOpenVerifieAccountModal]=React.useState({state:false,userid:\"\"})\r\n    const {register,handleSubmit,errors,watch}=useForm()\r\n    const password = React.useRef({});\r\n    password.current = watch(\"password\", \"\");\r\n    const [errorMessage,setErrorMessage]=React.useState({state:false,text:\"\"})// when state true show  pop up \r\n    const [isLoading, setIsLoading] = React.useContext(ApiIsLoadingContext)\r\n\r\n    const onChangeHandlerRegisterPhone = (data, country) => {\r\n        document.querySelector(\"#telId\").value=JSON.stringify({\"dialCode\": country.dialCode, 'tel': data })\r\n\r\n      }\r\n      const switchTo=()=>{\r\n        setShowEmailOrTel(e=>{\r\n            if(e==\"tel\"){\r\n                return \"email\"\r\n            }else{\r\n                return \"tel\"\r\n            }\r\n        })\r\n      }\r\n    const setBirthDayfn=(date)=>{\r\n        setBirthDay(date)\r\n        \r\n        document.querySelector(\"#ageId\").value=date\r\n    }\r\n    const onSubmit=(data)=>{\r\n        setIsLoading(true)\r\n\r\n        Register(data).then(res => {\r\n            if(res.data==undefined){\r\n                setIsLoading(false)\r\n            }else if (res.data.state == false) {\r\n                setErrorMessage({ state: true, text: res.data.message})\r\n                setIsLoading(false)\r\n            } else {\r\n                setOpenVerifieAccountModal({state:true,userid:res.data.userid})\r\n                setIsLoading(false)\r\n            }\r\n          }).catch(error => {\r\n                setErrorMessage({ state: true, text: error.message })\r\n                setIsLoading(false)\r\n        })\r\n    }\r\n    const closePopUp=()=>{\r\n        setErrorMessage({state:false,text:\"\"})\r\n      }\r\n    return (\r\n    <div className={Style.pageContainer}>\r\n         {errorMessage.state==true&&<PopUpMessage fnclose={closePopUp} openPopUp={errorMessage}></PopUpMessage>}\r\n        {openVerifieAccountModal.state&&<VerifyAccount userId={openVerifieAccountModal.userid}></VerifyAccount>}\r\n        <div className={Style.formContainer}>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <input name=\"age\" id=\"ageId\"  defaultValue={\"1998-01-27T23:00:00.000Z\"} ref={register({required: \"Required\"})} style={{position:\"absolute\",opacity:0,pointerEvents:\"none\"}}></input>\r\n            <div className={Style.Header}><h1>Sing up For NOZZLA</h1></div>\r\n            <div className={Style.descriptionHeader}><h3>{language.createaprofilefollowotheraccountstalkaboutyourownexperienceandmore}</h3></div>\r\n            <div className={Style.inputContainer}>\r\n                <input className={Style.input}  ref={register} name=\"userName\" required></input>\r\n                <label><span>{language.username}</span></label>\r\n            </div>\r\n            <div className={Style.switchContainer}><p onClick={()=>switchTo()}>siwtch to {showEmailOrTel==\"tel\"?\"email\":\"tel\"}</p></div>\r\n            <div className={`${Style.inputContainerTelOrEmail}` }>\r\n                 <input type=\"text\" name=\"tel\" style={{position:'absolute',pointerEvents:\"none\",opacity:0}}></input>\r\n                 {showEmailOrTel==\"tel\"&&<>\r\n                 <input name=\"tel\" id=\"telId\"   ref={register({required: \"Required\"})} style={{position:\"absolute\",opacity:0,pointerEvents:\"none\"}}></input>\r\n                 <PhoneInput   name={\"tel\"} specialLabel={language.phone} country={'tn'}   inputProps={{ name: 'phone',required: true,autoFocus: true}}  onChange={(e, country) => onChangeHandlerRegisterPhone(e, country)} />\r\n                 </>}\r\n                 {showEmailOrTel==\"email\"&&<div  className={Style.inputContainer}><input name=\"email\" ref={register({\r\n                required: \"Required\",\r\n                pattern: {\r\n                    value: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n                    message: \"invalid email address\"\r\n                }\r\n                })} className={Style.input} required></input>\r\n                <label>\r\n                    <span>{language.telephoneoremail}</span>\r\n                </label>\r\n                </div>\r\n                }\r\n            </div>\r\n            {errors.tel && <div className={Style.error}><p>tel is required</p></div>}\r\n            {errors.email && <div className={Style.error}><p>email is incorect</p></div>}\r\n            <div className={Style.inputContainer}><input name=\"password\" ref={register({required:\"password required\",minLength:8})} className={Style.input} required></input>\r\n                <label>\r\n                    <span>{language.password}</span>\r\n                </label>\r\n            </div>\r\n            {errors.password && <div className={Style.error}><p>password length must be 8 at least</p></div>}\r\n                <div className={Style.inputContainer}><input name=\"confirmPassword\"  ref={register({\r\n                validate: value =>\r\n                    value === password.current || \"The passwords do not match\"\r\n                })} className={Style.input} required></input>\r\n                <label>\r\n                    <span>{language.confirmpassword}</span>\r\n                </label>\r\n            </div>\r\n            {errors.confirmPassword && <div className={Style.error}> <p>{errors.confirmPassword.message}</p></div>}\r\n\r\n            <div className={`${Style.inputContainer} ${Style.birthDay}`}>\r\n            <DatePicker value={birthDay}\r\n            onChange={value => setBirthDayfn(value)}\r\n            label=\"birth Day\"\r\n            formatStyle=\"large\"\r\n            locale={language.age}\r\n            />\r\n            </div>\r\n            {errors.age && <div className={Style.error}><p>age is required</p></div>}\r\n\r\n            <div className={Style.btnContainer}>\r\n                <button>\r\n                {language.signin}\r\n                </button>\r\n            </div>\r\n            <div className={Style.messageToCreateAccounOrForgetPassword}>\r\n                <p className={Style.message}>{language.AlreadyHaveAccount} <Link href=\"/signin\"><span className={Style.clickHere} >{language.signin}</span></Link><br /> <Link href=\"/forgetPassword\"><span className={Style.forgetPassword}>{language.ForgotPassword}</span></Link></p>\r\n            </div>\r\n          </form>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default singup\r\n"]},"metadata":{},"sourceType":"module"}