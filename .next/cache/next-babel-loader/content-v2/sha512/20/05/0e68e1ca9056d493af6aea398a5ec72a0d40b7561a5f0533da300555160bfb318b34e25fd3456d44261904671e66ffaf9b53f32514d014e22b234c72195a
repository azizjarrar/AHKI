{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"F:/AHKI/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"F:/AHKI/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nimport Styles from './homeTodayTopics.module.scss';\nimport PostTodayTopic from '../postTodayTopic/postTodayTopic';\nimport userContext from '../../context/userContext';\nimport { getTodayTopicPost } from '../../services/post';\nimport Publication from '../publication/publication';\n\nvar homeTodayTopics = function homeTodayTopics() {\n  var _React$useContext = React.useContext(userContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      user = _React$useContext2[0],\n      setUser = _React$useContext2[1];\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      posts = _React$useState2[0],\n      setPosts = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (user.token != undefined) {\n      getTodayTopicPost({}, user.token).then(function (result) {\n        setPosts(_toConsumableArray(result.data.data));\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    }\n  }, [user.token]);\n\n  var refrechDataFn = function refrechDataFn() {\n    getTodayTopicPost({}, user.token).then(function (result) {\n      setPosts(_toConsumableArray(result.data.data));\n    })[\"catch\"](function (error) {\n      alert(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: Styles.todayTopics,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: Styles.posts,\n      children: [user.token != false && user.token != undefined && /*#__PURE__*/_jsx(PostTodayTopic, {\n        refrechData: refrechDataFn\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: Styles.publicationContainer,\n        children: posts.map(function (e) {\n          return /*#__PURE__*/_jsx(Publication, {\n            allowAnonymeComments: e.allowAnonymeComments,\n            userName: e.OwnerOfPost.userName,\n            id: e._id,\n            date: e.date,\n            ownerOfPostImage: e.OwnerOfPost.currentImageUrl || \"anonym\",\n            text: e.postText,\n            video: e.postVideo != undefined ? e.postVideo : undefined,\n            image: e.postImage != undefined ? e.postImage : undefined\n          }, e._id);\n        })\n      })]\n    })\n  });\n};\n\nexport default homeTodayTopics;","map":null,"metadata":{},"sourceType":"module"}