{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"F:\\\\AHKI\\\\pages\\\\singup.js\";\nimport React from 'react';\nimport Style from '../styles/singup.module.scss';\nimport LanguageContext from '../context/languageContext';\nimport Link from 'next/link';\nimport { DatePicker } from 'react-rainbow-components';\nimport PhoneInput from 'react-phone-input-2';\nimport { useForm } from 'react-hook-form';\nimport { Register } from '../services/user';\nimport VerifyAccount from '../components/verifyAccount/verifyAccount';\nimport PopUpMessage from '../components/popUpMessage/popUpMessage';\nimport ApiIsLoadingContext from '../context/apiIsLoadingContext';\nimport 'react-phone-input-2/lib/material.css';\n\nconst singup = () => {\n  const [language, setLanguage] = React.useContext(LanguageContext);\n  const [showEmailOrTel, setShowEmailOrTel] = React.useState(\"email\");\n  const [birthDay, setBirthDay] = React.useState(\"1998-01-27T23:00:00.000Z\");\n  const [openVerifieAccountModal, setOpenVerifieAccountModal] = React.useState({\n    state: false,\n    userid: \"\"\n  });\n  const {\n    register,\n    handleSubmit,\n    errors,\n    watch\n  } = useForm();\n  const password = React.useRef({});\n  password.current = watch(\"password\", \"\");\n  const [errorMessage, setErrorMessage] = React.useState({\n    state: false,\n    text: \"\"\n  }); // when state true show  pop up \n\n  const [isLoading, setIsLoading] = React.useContext(ApiIsLoadingContext);\n\n  const onChangeHandlerRegisterPhone = (data, country) => {\n    document.querySelector(\"#telId\").value = JSON.stringify({\n      \"dialCode\": country.dialCode,\n      'tel': data\n    });\n  };\n\n  const switchTo = () => {\n    setShowEmailOrTel(e => {\n      if (e == \"tel\") {\n        return \"email\";\n      } else {\n        return \"tel\";\n      }\n    });\n  };\n\n  const setBirthDayfn = date => {\n    setBirthDay(date);\n    document.querySelector(\"#ageId\").value = date;\n  };\n\n  const onSubmit = data => {\n    setIsLoading(true);\n    Register(data).then(res => {\n      if (res.data == undefined) {\n        setIsLoading(false);\n      } else if (res.data.state == false) {\n        setErrorMessage({\n          state: true,\n          text: res.data.message\n        });\n        setIsLoading(false);\n      } else {\n        setOpenVerifieAccountModal({\n          state: true,\n          userid: res.data.userid\n        });\n        setIsLoading(false);\n      }\n    }).catch(error => {\n      setErrorMessage({\n        state: true,\n        text: error.message\n      });\n      setIsLoading(false);\n    });\n  };\n\n  const closePopUp = () => {\n    setErrorMessage({\n      state: false,\n      text: \"\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.pageContainer,\n    children: [errorMessage.state == true && /*#__PURE__*/_jsxDEV(PopUpMessage, {\n      fnclose: closePopUp,\n      openPopUp: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 37\n    }, this), openVerifieAccountModal.state && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.close\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 43\n      }, this), /*#__PURE__*/_jsxDEV(VerifyAccount, {\n        userId: openVerifieAccountModal.userid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 78\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.formContainer,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"age\",\n          id: \"ageId\",\n          defaultValue: \"1998-01-27T23:00:00.000Z\",\n          ref: register({\n            required: \"Required\"\n          }),\n          style: {\n            position: \"absolute\",\n            opacity: 0,\n            pointerEvents: \"none\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Header,\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Sing up For NOZZLA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.descriptionHeader,\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: language.createaprofilefollowotheraccountstalkaboutyourownexperienceandmore\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 54\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.inputContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: Style.input,\n            ref: register,\n            name: \"userName\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: language.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.switchContainer,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: () => switchTo(),\n            children: [\"siwtch to \", showEmailOrTel == \"tel\" ? \"email\" : \"tel\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 52\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${Style.inputContainerTelOrEmail}`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"tel\",\n            style: {\n              position: 'absolute',\n              pointerEvents: \"none\",\n              opacity: 0\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 18\n          }, this), showEmailOrTel == \"tel\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"tel\",\n              id: \"telId\",\n              ref: register({\n                required: \"Required\"\n              }),\n              style: {\n                position: \"absolute\",\n                opacity: 0,\n                pointerEvents: \"none\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(PhoneInput, {\n              name: \"tel\",\n              specialLabel: language.phone,\n              country: 'tn',\n              inputProps: {\n                name: 'phone',\n                required: true,\n                autoFocus: true\n              },\n              onChange: (e, country) => onChangeHandlerRegisterPhone(e, country)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true), showEmailOrTel == \"email\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.inputContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"email\",\n              ref: register({\n                required: \"Required\",\n                pattern: {\n                  value: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n                  message: \"invalid email address\"\n                }\n              }),\n              className: Style.input,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 83\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 44\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), errors.tel && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.error,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"tel is required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 28\n        }, this), errors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.error,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"email is incorect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 59\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.inputContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            type: \"password\",\n            ref: register({\n              required: \"password required\",\n              minLength: 8\n            }),\n            className: Style.input,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 51\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: language.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), errors.password && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.error,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"password length must be 8 at least\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 62\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.inputContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"confirmPassword\",\n            type: \"password\",\n            ref: register({\n              validate: value => value === password.current || \"The passwords do not match\"\n            }),\n            className: Style.input,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 55\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: language.confirmpassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), errors.confirmPassword && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.error,\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.confirmPassword.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 40\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${Style.inputContainer} ${Style.birthDay}`,\n          children: /*#__PURE__*/_jsxDEV(DatePicker, {\n            value: birthDay,\n            onChange: value => setBirthDayfn(value),\n            label: \"birth Day\",\n            formatStyle: \"large\",\n            locale: language.age\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this), errors.age && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.error,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"age is required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.btnContainer,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: language.signin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.messageToCreateAccounOrForgetPassword,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: Style.message,\n            children: [language.AlreadyHaveAccount, \" \", /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/signin\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: Style.clickHere,\n                children: language.signin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 97\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 76\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 163\n            }, this), \" \", /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/forgetPassword\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: Style.forgetPassword,\n                children: language.ForgotPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 199\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 170\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\nexport default singup;","map":{"version":3,"sources":["F:/AHKI/pages/singup.js"],"names":["React","Style","LanguageContext","Link","DatePicker","PhoneInput","useForm","Register","VerifyAccount","PopUpMessage","ApiIsLoadingContext","singup","language","setLanguage","useContext","showEmailOrTel","setShowEmailOrTel","useState","birthDay","setBirthDay","openVerifieAccountModal","setOpenVerifieAccountModal","state","userid","register","handleSubmit","errors","watch","password","useRef","current","errorMessage","setErrorMessage","text","isLoading","setIsLoading","onChangeHandlerRegisterPhone","data","country","document","querySelector","value","JSON","stringify","dialCode","switchTo","e","setBirthDayfn","date","onSubmit","then","res","undefined","message","catch","error","closePopUp","pageContainer","close","formContainer","required","position","opacity","pointerEvents","Header","descriptionHeader","createaprofilefollowotheraccountstalkaboutyourownexperienceandmore","inputContainer","input","username","switchContainer","inputContainerTelOrEmail","phone","name","autoFocus","pattern","tel","email","minLength","validate","confirmpassword","confirmPassword","age","btnContainer","signin","messageToCreateAccounOrForgetPassword","AlreadyHaveAccount","clickHere","forgetPassword","ForgotPassword"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Style from '../styles/singup.module.scss'\r\nimport LanguageContext from '../context/languageContext'\r\nimport Link from 'next/link'\r\nimport { DatePicker } from 'react-rainbow-components';\r\nimport PhoneInput from 'react-phone-input-2'\r\nimport { useForm } from 'react-hook-form';\r\nimport { Register } from '../services/user'\r\nimport VerifyAccount from '../components/verifyAccount/verifyAccount'\r\nimport PopUpMessage from '../components/popUpMessage/popUpMessage'\r\nimport ApiIsLoadingContext from '../context/apiIsLoadingContext'\r\n\r\nimport 'react-phone-input-2/lib/material.css'\r\n\r\nconst singup = () => {\r\n    const [language, setLanguage] = React.useContext(LanguageContext)\r\n    const [showEmailOrTel,setShowEmailOrTel]=React.useState(\"email\")\r\n    const [birthDay,setBirthDay]=React.useState(\"1998-01-27T23:00:00.000Z\")\r\n    const [openVerifieAccountModal,setOpenVerifieAccountModal]=React.useState({state:false,userid:\"\"})\r\n    const {register,handleSubmit,errors,watch}=useForm()\r\n    const password = React.useRef({});\r\n    password.current = watch(\"password\", \"\");\r\n    const [errorMessage,setErrorMessage]=React.useState({state:false,text:\"\"})// when state true show  pop up \r\n    const [isLoading, setIsLoading] = React.useContext(ApiIsLoadingContext)\r\n\r\n    const onChangeHandlerRegisterPhone = (data, country) => {\r\n        document.querySelector(\"#telId\").value=JSON.stringify({\"dialCode\": country.dialCode, 'tel': data })\r\n\r\n      }\r\n      const switchTo=()=>{\r\n        setShowEmailOrTel(e=>{\r\n            if(e==\"tel\"){\r\n                return \"email\"\r\n            }else{\r\n                return \"tel\"\r\n            }\r\n        })\r\n      }\r\n    const setBirthDayfn=(date)=>{\r\n        setBirthDay(date)\r\n        \r\n        document.querySelector(\"#ageId\").value=date\r\n    }\r\n    const onSubmit=(data)=>{\r\n        setIsLoading(true)\r\n\r\n        Register(data).then(res => {\r\n            if(res.data==undefined){\r\n                setIsLoading(false)\r\n            }else if (res.data.state == false) {\r\n                setErrorMessage({ state: true, text: res.data.message})\r\n                setIsLoading(false)\r\n            } else {\r\n                setOpenVerifieAccountModal({state:true,userid:res.data.userid})\r\n                setIsLoading(false)\r\n            }\r\n          }).catch(error => {\r\n                setErrorMessage({ state: true, text: error.message })\r\n                setIsLoading(false)\r\n        })\r\n    }\r\n    const closePopUp=()=>{\r\n        setErrorMessage({state:false,text:\"\"})\r\n      }\r\n    return (\r\n    <div className={Style.pageContainer}>\r\n         {errorMessage.state==true&&<PopUpMessage fnclose={closePopUp} openPopUp={errorMessage}></PopUpMessage>}\r\n        {openVerifieAccountModal.state&&<><div className={Style.close}></div><VerifyAccount userId={openVerifieAccountModal.userid}></VerifyAccount></>}\r\n        <div className={Style.formContainer}>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <input name=\"age\" id=\"ageId\"  defaultValue={\"1998-01-27T23:00:00.000Z\"} ref={register({required: \"Required\"})} style={{position:\"absolute\",opacity:0,pointerEvents:\"none\"}}></input>\r\n            <div className={Style.Header}><h1>Sing up For NOZZLA</h1></div>\r\n            <div className={Style.descriptionHeader}><h3>{language.createaprofilefollowotheraccountstalkaboutyourownexperienceandmore}</h3></div>\r\n            <div className={Style.inputContainer}>\r\n                <input className={Style.input}  ref={register} name=\"userName\" required></input>\r\n                <label><span>{language.username}</span></label>\r\n            </div>\r\n            <div className={Style.switchContainer}><p onClick={()=>switchTo()}>siwtch to {showEmailOrTel==\"tel\"?\"email\":\"tel\"}</p></div>\r\n            <div className={`${Style.inputContainerTelOrEmail}` }>\r\n                 <input type=\"text\" name=\"tel\" style={{position:'absolute',pointerEvents:\"none\",opacity:0}}></input>\r\n                 {showEmailOrTel==\"tel\"&&<>\r\n                 <input name=\"tel\" id=\"telId\"   ref={register({required: \"Required\"})} style={{position:\"absolute\",opacity:0,pointerEvents:\"none\"}}></input>\r\n                 <PhoneInput   name={\"tel\"} specialLabel={language.phone} country={'tn'}   inputProps={{ name: 'phone',required: true,autoFocus: true}}  onChange={(e, country) => onChangeHandlerRegisterPhone(e, country)} />\r\n                 </>}\r\n                 {showEmailOrTel==\"email\"&&<div  className={Style.inputContainer}><input name=\"email\" ref={register({\r\n                required: \"Required\",\r\n                pattern: {\r\n                    value: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n                    message: \"invalid email address\"\r\n                }\r\n                })} className={Style.input} required></input>\r\n                <label>\r\n                    <span>email</span>\r\n                </label>\r\n                </div>\r\n                }\r\n            </div>\r\n            {errors.tel && <div className={Style.error}><p>tel is required</p></div>}\r\n            {errors.email && <div className={Style.error}><p>email is incorect</p></div>}\r\n            <div className={Style.inputContainer}><input name=\"password\" type=\"password\" ref={register({required:\"password required\",minLength:8})} className={Style.input} required></input>\r\n                <label>\r\n                    <span>{language.password}</span>\r\n                </label>\r\n            </div>\r\n            {errors.password && <div className={Style.error}><p>password length must be 8 at least</p></div>}\r\n                <div className={Style.inputContainer}><input name=\"confirmPassword\" type=\"password\"  ref={register({\r\n                validate: value =>\r\n                    value === password.current || \"The passwords do not match\"\r\n                })} className={Style.input} required></input>\r\n                <label>\r\n                    <span>{language.confirmpassword}</span>\r\n                </label>\r\n            </div>\r\n            {errors.confirmPassword && <div className={Style.error}> <p>{errors.confirmPassword.message}</p></div>}\r\n\r\n            <div className={`${Style.inputContainer} ${Style.birthDay}`}>\r\n            <DatePicker value={birthDay}\r\n            onChange={value => setBirthDayfn(value)}\r\n            label=\"birth Day\"\r\n            formatStyle=\"large\"\r\n            locale={language.age}\r\n            />\r\n            </div>\r\n            {errors.age && <div className={Style.error}><p>age is required</p></div>}\r\n\r\n            <div className={Style.btnContainer}>\r\n                <button>\r\n                {language.signin}\r\n                </button>\r\n            </div>\r\n            <div className={Style.messageToCreateAccounOrForgetPassword}>\r\n                <p className={Style.message}>{language.AlreadyHaveAccount} <Link href=\"/signin\"><span className={Style.clickHere} >{language.signin}</span></Link><br /> <Link href=\"/forgetPassword\"><span className={Style.forgetPassword}>{language.ForgotPassword}</span></Link></p>\r\n            </div>\r\n          </form>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default singup\r\n"]},"metadata":{},"sourceType":"module"}