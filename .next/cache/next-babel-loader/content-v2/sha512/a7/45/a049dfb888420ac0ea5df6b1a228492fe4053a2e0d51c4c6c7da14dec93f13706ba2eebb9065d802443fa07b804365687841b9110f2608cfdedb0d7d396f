{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"F:/AHKI/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"F:\\\\AHKI\\\\components\\\\postUsersStorys\\\\postUsersStorys.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Styles from './postUsersStorys.module.scss';\nimport LanguageContext from '../../context/languageContext';\nimport userContext from '../../context/userContext';\nimport 'emoji-mart/css/emoji-mart.css';\nimport { Picker, Emoji } from 'emoji-mart';\nimport { postnrmltopic } from '../../services/post';\nimport SwitchCom from '../switch/switchCom';\nimport { useRouter } from 'next/router';\nimport ReactPlayer from 'react-player';\nimport Image from 'next/image';\n\nvar PostTodayTopic = function PostTodayTopic(props) {\n  _s();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      imageOrVideo = _React$useState2[0],\n      setImageOrVideo = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      imageOrVideoDataToSend = _React$useState4[0],\n      setImageOrVideoDataToSend = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      mask = _React$useState6[0],\n      setMask = _React$useState6[1];\n\n  var _React$useContext = React.useContext(LanguageContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      language = _React$useContext2[0],\n      setLanguage = _React$useContext2[1];\n\n  var _React$useContext3 = React.useContext(userContext),\n      _React$useContext4 = _slicedToArray(_React$useContext3, 2),\n      user = _React$useContext4[0],\n      setUser = _React$useContext4[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      closeOrOpenEmojiPickerState = _React$useState8[0],\n      setcloseOrOpenEmojiPickerState = _React$useState8[1];\n\n  var _React$useState9 = React.useState(\"\"),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      textAreaData = _React$useState10[0],\n      setTextAreaData = _React$useState10[1];\n\n  var _React$useState11 = React.useState(0),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      countLettres = _React$useState12[0],\n      setCountLettres = _React$useState12[1];\n\n  var _React$useState13 = React.useState(9),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      EmojiContainerHeight = _React$useState14[0],\n      setEmojiContainerHeight = _React$useState14[1]; //responsive handler\n\n\n  var _React$useState15 = React.useState(false),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      enableCommentAnnonymState = _React$useState16[0],\n      setEnableCommentAnnonymState = _React$useState16[1];\n\n  var router = useRouter();\n\n  var PublishPost = function PublishPost() {\n    var formData = new FormData();\n    formData.append(\"postText\", textAreaData);\n\n    if (imageOrVideo != false) {\n      formData.append(\"postImage\", imageOrVideoDataToSend);\n    }\n\n    formData.append(\"anonyme\", mask);\n    formData.append(\"allowAnonymeComments\", enableCommentAnnonymState);\n    postnrmltopic(formData, user.token).then(function (result) {\n      setTextAreaData(\"\");\n      setImageOrVideo(false);\n\n      if (router.pathname != \"/\") {\n        props.refrechData();\n      }\n    })[\"catch\"](function (error) {\n      alert(error);\n    });\n  };\n\n  React.useEffect(function () {\n    if (window.innerWidth > 500) {\n      setEmojiContainerHeight(9);\n    } else {\n      setEmojiContainerHeight(8);\n    }\n  }, []);\n  /****************************************/\n\n  /**********save image in var ************/\n\n  /****************************************/\n\n  var changeFile = function changeFile(e) {\n    if (e.target.files[0] != undefined) {\n      setImageOrVideoDataToSend(e.target.files[0]);\n\n      if (e.target.files[0].type == \"video/mp4\") {\n        setImageOrVideo({\n          type: \"video\",\n          data: URL.createObjectURL(e.target.files[0])\n        });\n      } else {\n        setImageOrVideo({\n          type: \"image\",\n          data: URL.createObjectURL(e.target.files[0])\n        });\n      }\n    }\n  };\n  /****************************************/\n\n  /************remove image****************/\n\n  /****************************************/\n\n\n  var removeImage = function removeImage() {\n    setImageOrVideoDataToSend(false);\n    setImageOrVideo(false);\n  };\n  /******************************************************/\n\n  /********when mask on user post annonymosly************/\n\n  /******************************************************/\n\n  /*************************************************************/\n\n  /****************if mask on it will turn into blue************/\n\n  /*************************************************************/\n\n\n  var closeOrOpenEmojiPicker = function closeOrOpenEmojiPicker() {\n    setcloseOrOpenEmojiPickerState(function (e) {\n      return !e;\n    });\n  };\n\n  var textAreaHolder = function textAreaHolder(e) {\n    e.target.style.height = \"16px\";\n    e.target.style.height = e.target.scrollHeight + \"px\";\n    setTextAreaData(function (el) {\n      if (el.length <= 1000) {\n        return e.target.value;\n      } else {\n        return el.slice(0, 1000);\n      }\n    });\n  };\n\n  var addEmoji = function addEmoji(e) {\n    var sym = e.unified.split('-');\n    var codesArray = [];\n    sym.forEach(function (el) {\n      return codesArray.push('0x' + el);\n    });\n    var emoji = String.fromCodePoint.apply(String, codesArray);\n    setTextAreaData(function (el) {\n      if (el.length <= 1000) {\n        return el + emoji;\n      } else {\n        return el.slice(0, 1000);\n      }\n    });\n  };\n\n  React.useEffect(function () {\n    setCountLettres(textAreaData.length);\n  }, [textAreaData]);\n\n  var _changestateOfCommentAnnonym = function changestateOfCommentAnnonym(state) {\n    setEnableCommentAnnonymState(state);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: Styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Annonym Comments \\u27A8 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, _this), \"you can lette you follower describe theme self free by  letting them comment annonymly\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(SwitchCom, {\n        changestateOfCommentAnnonym: function changestateOfCommentAnnonym(e) {\n          return _changestateOfCommentAnnonym(e);\n        },\n        state: enableCommentAnnonymState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Styles.userTopicContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Styles.userImage,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.currentImageUrl || \"/avatar.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 41\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Styles.postTopic,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.textAreaContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"say somthing\",\n            onChange: function onChange(e) {\n              return textAreaHolder(e);\n            },\n            value: textAreaData,\n            className: Styles.textArea\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Styles.countLettres,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: Styles.countLettresCss,\n              style: countLettres >= 1000 ? {\n                color: \"red\"\n              } : {},\n              children: [countLettres, \" : 1000\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 13\n            }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: Styles.postText,\n              onClick: function onClick() {\n                return PublishPost();\n              },\n              children: /*#__PURE__*/_jsxDEV(SentSvg, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 75\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 13\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 11\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Styles.maskEmojiAndUploadImageContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: Styles.openOrCloseEmojiPicker,\n            onClick: function onClick() {\n              return closeOrOpenEmojiPicker();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: Styles.emojiLogo,\n              children: /*#__PURE__*/_jsxDEV(Emoji, {\n                emoji: {\n                  id: 'smiling_face_with_3_hearts',\n                  skin: 3\n                },\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 51\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, _this), closeOrOpenEmojiPickerState && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Styles.emojiPickerContainer,\n              children: /*#__PURE__*/_jsxDEV(Picker, {\n                perLine: EmojiContainerHeight,\n                onSelect: function onSelect(e) {\n                  return addEmoji(e);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 92\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 47\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Styles.uploadImage,\n            hovertextinputfile: language.Uploadphotowithyourpost,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: function onChange(e) {\n                return changeFile(e);\n              },\n              type: \"file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 105\n            }, _this), /*#__PURE__*/_jsxDEV(Image, {\n              src: \"/svgicons/camera.svg\",\n              height: 30,\n              width: 30\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 156\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, _this), imageOrVideo != false && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: imageOrVideo.type != \"image\" ? {\n        width: \"100%\"\n      } : {},\n      className: Styles.image_video_Container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Styles.closeBtn,\n        onClick: function onClick() {\n          return removeImage();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, _this), imageOrVideo.type == \"image\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageOrVideo.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 37\n      }, _this) : /*#__PURE__*/_jsxDEV(ReactPlayer, {\n        width: \"100%\",\n        height: \"100%\",\n        controls: true,\n        url: imageOrVideo.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 69\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 34\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(PostTodayTopic, \"Xa/3zCNZ+pPEe7brEJLIiO4GoE0=\", false, function () {\n  return [useRouter];\n});\n\n_c = PostTodayTopic;\nexport default PostTodayTopic;\n\nvar SentSvg = function SentSvg() {\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 64 64\",\n    children: /*#__PURE__*/_jsxDEV(\"g\", {\n      id: \"Layer_95\",\n      \"data-name\": \"Layer 95\",\n      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M53.06,10.94a1.5,1.5,0,0,0-1.53-.36l-40,13.33a1.51,1.51,0,0,0-.06,2.83l18.7,7.09,7.09,18.7a1.51,1.51,0,0,0,1.44,1,1.49,1.49,0,0,0,1.39-1l13.33-40A1.5,1.5,0,0,0,53.06,10.94Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 105\n      }, _this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M20.22,35.48a1.5,1.5,0,0,0-2.12-2.12l-4.48,4.48a1.51,1.51,0,0,0,0,2.12,1.49,1.49,0,0,0,2.12,0Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 289\n      }, _this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M23.88,40.12a1.49,1.49,0,0,0-2.12,0L16.08,45.8a1.5,1.5,0,0,0,2.12,2.12l5.68-5.68A1.49,1.49,0,0,0,23.88,40.12Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 395\n      }, _this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M28.52,43.78,24,48.26a1.5,1.5,0,0,0,2.12,2.12l4.48-4.48A1.5,1.5,0,0,0,28.52,43.78Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 516\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 67\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 7\n  }, _this);\n};\n\n_c2 = SentSvg;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PostTodayTopic\");\n$RefreshReg$(_c2, \"SentSvg\");","map":{"version":3,"sources":["F:/AHKI/components/postUsersStorys/postUsersStorys.js"],"names":["React","Styles","LanguageContext","userContext","Picker","Emoji","postnrmltopic","SwitchCom","useRouter","ReactPlayer","Image","PostTodayTopic","props","useState","imageOrVideo","setImageOrVideo","imageOrVideoDataToSend","setImageOrVideoDataToSend","mask","setMask","useContext","language","setLanguage","user","setUser","closeOrOpenEmojiPickerState","setcloseOrOpenEmojiPickerState","textAreaData","setTextAreaData","countLettres","setCountLettres","EmojiContainerHeight","setEmojiContainerHeight","enableCommentAnnonymState","setEnableCommentAnnonymState","router","PublishPost","formData","FormData","append","token","then","result","pathname","refrechData","error","alert","useEffect","window","innerWidth","changeFile","e","target","files","undefined","type","data","URL","createObjectURL","removeImage","closeOrOpenEmojiPicker","textAreaHolder","style","height","scrollHeight","el","length","value","slice","addEmoji","sym","unified","split","codesArray","forEach","push","emoji","String","fromCodePoint","changestateOfCommentAnnonym","state","container","header","userTopicContainer","userImage","currentImageUrl","postTopic","textAreaContainer","textArea","countLettresCss","color","postText","maskEmojiAndUploadImageContainer","openOrCloseEmojiPicker","emojiLogo","id","skin","emojiPickerContainer","uploadImage","Uploadphotowithyourpost","width","image_video_Container","closeBtn","SentSvg"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Styles from './postUsersStorys.module.scss'\r\nimport LanguageContext from '../../context/languageContext'\r\nimport userContext from '../../context/userContext'\r\nimport 'emoji-mart/css/emoji-mart.css'\r\nimport { Picker,Emoji  } from 'emoji-mart'\r\nimport {postnrmltopic} from '../../services/post'\r\nimport SwitchCom from '../switch/switchCom'\r\nimport { useRouter } from 'next/router'\r\nimport ReactPlayer from 'react-player'\r\nimport Image from 'next/image'\r\n\r\nconst PostTodayTopic = (props) => {\r\n  const [imageOrVideo, setImageOrVideo] = React.useState(false)\r\n  const [imageOrVideoDataToSend, setImageOrVideoDataToSend] = React.useState(false)\r\n  const [mask, setMask] = React.useState(false)\r\n  const [language , setLanguage]=React.useContext(LanguageContext)\r\n  const [user,setUser]=React.useContext(userContext)\r\n  const [closeOrOpenEmojiPickerState,setcloseOrOpenEmojiPickerState]=React.useState(false)\r\n  const [textAreaData,setTextAreaData]=React.useState(\"\")\r\n  const [countLettres,setCountLettres]=React.useState(0)\r\n  const [EmojiContainerHeight, setEmojiContainerHeight] = React.useState(9)//responsive handler\r\n  const [enableCommentAnnonymState,setEnableCommentAnnonymState]=React.useState(false)\r\n  const router = useRouter()\r\n\r\n  const PublishPost=()=>{\r\n    var formData = new FormData()\r\n    formData.append(\"postText\",textAreaData)\r\n    if(imageOrVideo!=false){formData.append(\"postImage\",imageOrVideoDataToSend)}\r\n    formData.append(\"anonyme\",mask)\r\n    formData.append(\"allowAnonymeComments\",enableCommentAnnonymState)\r\n\r\n    postnrmltopic(formData,user.token).then(result=>{\r\n      setTextAreaData(\"\")\r\n      setImageOrVideo(false)\r\n        if(router.pathname!=\"/\"){props.refrechData()}\r\n    }).catch(error=>{\r\n      alert(error)\r\n    })\r\n  }\r\n  React.useEffect(() => { \r\n    if(window.innerWidth>500){\r\n      setEmojiContainerHeight(9) \r\n    }else{\r\n      setEmojiContainerHeight(8) \r\n    }\r\n  },[]);\r\n  /****************************************/\r\n  /**********save image in var ************/\r\n  /****************************************/\r\n  const changeFile = (e) => {\r\n    if(e.target.files[0]!=undefined){\r\n      setImageOrVideoDataToSend(e.target.files[0])\r\n        if(e.target.files[0].type==\"video/mp4\"){\r\n        setImageOrVideo({type:\"video\",data:URL.createObjectURL(e.target.files[0])})\r\n      }else{\r\n        setImageOrVideo({type:\"image\",data:URL.createObjectURL(e.target.files[0])})\r\n      }\r\n    }\r\n\r\n  }\r\n  /****************************************/\r\n  /************remove image****************/\r\n  /****************************************/\r\n  const removeImage = () => {\r\n    setImageOrVideoDataToSend(false)\r\n    setImageOrVideo(false)\r\n  }\r\n  /******************************************************/\r\n  /********when mask on user post annonymosly************/\r\n  /******************************************************/\r\n\r\n  /*************************************************************/\r\n  /****************if mask on it will turn into blue************/\r\n  /*************************************************************/\r\n\r\n\r\n  const closeOrOpenEmojiPicker=()=>{\r\n    setcloseOrOpenEmojiPickerState(e=>!e)\r\n  }\r\n  const textAreaHolder=(e)=>{\r\n    e.target.style.height = \"16px\";\r\n    e.target.style.height = (e.target.scrollHeight)+\"px\";\r\n    setTextAreaData(el=>{\r\n      if(el.length<=1000){\r\n        return e.target.value\r\n      }else{\r\n       return el.slice(0,1000)\r\n      }\r\n    })\r\n    \r\n  }\r\n  const addEmoji=(e)=>{\r\n    let sym = e.unified.split('-')\r\n    let codesArray = []\r\n    sym.forEach(el => codesArray.push('0x' + el))\r\n    let emoji = String.fromCodePoint(...codesArray)\r\n    setTextAreaData(el=>{\r\n      if(el.length<=1000){\r\n        return el+emoji\r\n      }else{\r\n        return el.slice(0,1000)\r\n      }\r\n    })\r\n  };\r\n  React.useEffect(()=>{\r\n    setCountLettres(textAreaData.length)\r\n  },[textAreaData])\r\nconst changestateOfCommentAnnonym=(state)=>{\r\n  setEnableCommentAnnonymState(state)\r\n}\r\n  return (\r\n    \r\n    <div className={Styles.container}>\r\n      <div className={Styles.header}>\r\n        <h1>\r\n            <span>Annonym Comments &#10152; </span>\r\n             you can lette you follower describe theme self free by  letting them comment annonymly\r\n        </h1>  \r\n        <SwitchCom changestateOfCommentAnnonym={(e)=>changestateOfCommentAnnonym(e)} state={enableCommentAnnonymState}></SwitchCom>   \r\n       </div>\r\n      <div className={Styles.userTopicContainer}>\r\n      <div className={Styles.userImage}><img src={user.currentImageUrl || \"/avatar.png\"} /></div>\r\n        <div className={Styles.postTopic}>\r\n          <div className={Styles.textAreaContainer}>\r\n          <textarea placeholder={\"say somthing\"}  onChange={(e)=>textAreaHolder(e)} value={textAreaData} className={Styles.textArea}/>\r\n          <div className={Styles.countLettres}>\r\n            <span className={Styles.countLettresCss} style={countLettres>=1000?{color:\"red\"}:{}}>{countLettres} : 1000</span>\r\n            <span className={Styles.postText} onClick={()=>PublishPost()}><SentSvg></SentSvg></span></div>\r\n          </div>\r\n            <div className={Styles.maskEmojiAndUploadImageContainer}>\r\n\r\n              <div className={Styles.openOrCloseEmojiPicker} onClick={()=>closeOrOpenEmojiPicker()}>\r\n                <div className={Styles.emojiLogo}><Emoji emoji={{ id: 'smiling_face_with_3_hearts', skin: 3 }} size={16} /></div>\r\n                {closeOrOpenEmojiPickerState&&<div className={Styles.emojiPickerContainer}><Picker perLine={EmojiContainerHeight}  onSelect={(e)=>addEmoji(e)} /></div>}\r\n              </div>\r\n              <div className={Styles.uploadImage} hovertextinputfile={language.Uploadphotowithyourpost}><input onChange={e => changeFile(e)} type=\"file\" /><Image src=\"/svgicons/camera.svg\" height={30} width={30} /></div>\r\n\r\n            </div>\r\n        </div>\r\n      </div>\r\n      {imageOrVideo != false &&  <div style={imageOrVideo.type!=\"image\"?{width:\"100%\"}:{}} className={Styles.image_video_Container}>\r\n        <div className={Styles.closeBtn} onClick={() => removeImage()}></div>\r\n        {imageOrVideo.type==\"image\"?<img src={imageOrVideo.data} />:<ReactPlayer width=\"100%\" height=\"100%\" controls={true} url={imageOrVideo.data} />}\r\n        \r\n        </div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostTodayTopic\r\n\r\n\r\nconst SentSvg=()=>{\r\n  return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 64 64\"><g id=\"Layer_95\" data-name=\"Layer 95\"><path d=\"M53.06,10.94a1.5,1.5,0,0,0-1.53-.36l-40,13.33a1.51,1.51,0,0,0-.06,2.83l18.7,7.09,7.09,18.7a1.51,1.51,0,0,0,1.44,1,1.49,1.49,0,0,0,1.39-1l13.33-40A1.5,1.5,0,0,0,53.06,10.94Z\"/><path d=\"M20.22,35.48a1.5,1.5,0,0,0-2.12-2.12l-4.48,4.48a1.51,1.51,0,0,0,0,2.12,1.49,1.49,0,0,0,2.12,0Z\"/><path d=\"M23.88,40.12a1.49,1.49,0,0,0-2.12,0L16.08,45.8a1.5,1.5,0,0,0,2.12,2.12l5.68-5.68A1.49,1.49,0,0,0,23.88,40.12Z\"/><path d=\"M28.52,43.78,24,48.26a1.5,1.5,0,0,0,2.12,2.12l4.48-4.48A1.5,1.5,0,0,0,28.52,43.78Z\"/></g></svg>\r\n      )\r\n}"]},"metadata":{},"sourceType":"module"}