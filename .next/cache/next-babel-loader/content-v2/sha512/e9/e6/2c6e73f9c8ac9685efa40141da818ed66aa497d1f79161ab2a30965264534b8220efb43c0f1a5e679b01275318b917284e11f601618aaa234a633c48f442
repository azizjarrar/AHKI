{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"F:\\\\AHKI\\\\components\\\\navBar\\\\NavBar.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from 'react';\nimport Style from './NavBar.module.scss';\nimport PorfileMenu from '../profileMenu/profileMenu';\nimport Link from 'next/link';\nimport UserContext from '../../context/userContext';\nimport SearchUser from '../../components/searchUser/searchUser';\nimport { useRouter } from 'next/router';\nimport Notification from '../../components/notification/notification';\nimport { getUnreadUsersChatsNumber } from '../../services/chat';\nimport socketContext from '../../context/socketContext';\nimport { GetOtherUsersData } from '../../services/user';\nimport { removeToken } from '../../services/user';\n\nconst NavBar = ({\n  token\n}) => {\n  const [heightAndWidthOfWindow, setHeightAndWidthOfWindow] = React.useState({\n    width: 0,\n    height: 0\n  }); //responsive handler\n\n  const {\n    0: openMenuProfileState,\n    1: setOpenMenuProfile\n  } = useState(false); //on hover profile pic open menu\n\n  const [disyplaySearch, setDisplaySearch] = React.useState({\n    state: false,\n    userName: \"\"\n  });\n  const [user, setUser] = React.useContext(UserContext);\n  const [numberOfChatsNotRead, setNumberOfChatsNotRead] = React.useState(0);\n  const [socket, setSocket] = React.useContext(socketContext);\n  const [popUpUser, setPopUpUser] = React.useState(null);\n  const [popUpNotif, setpopUpNotif] = React.useState(() => 0);\n  const sideNavBarBtn = React.useRef(null);\n  const [showSideNavBar, setShowSideNavBar] = React.useState(false);\n  const router = useRouter();\n  React.useEffect(() => {\n    async function chatHandler(data) {\n      let audio = new Audio(\"./msgSound.mp3\");\n      audio.play();\n\n      if (router.pathname != \"/chat\") {\n        GetOtherUsersData(data.senderId, token).then(result => {\n          setPopUpUser(_objectSpread({}, result.data.data[0]));\n        }).catch(error => {\n          alert(error);\n        });\n      }\n    }\n\n    async function notifHandler(data) {\n      if (data.notif == 1) {\n        setpopUpNotif(e => e + 1);\n      }\n    }\n\n    if (socket != undefined && socket != null) {\n      socket.on(\"getMessageFromUserToUser\", chatHandler);\n      socket.on(\"getNotificationFromUserToUser\", notifHandler);\n    }\n\n    return () => {\n      if (socket != undefined && socket != null) {\n        socket.off('getMessageFromUserToUser', chatHandler);\n        socket.off('getNotificationFromUserToUser', notifHandler);\n      }\n    };\n  });\n  React.useEffect(() => {\n    setHeightAndWidthOfWindow({\n      height: window.innerHeight,\n      width: window.innerWidth\n    });\n\n    if (token != undefined && token != null && token != false) {\n      getUnreadUsersChatsNumber({}, token).then(data => {\n        setNumberOfChatsNotRead(data.data.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }, []);\n  const [openOrCloseNotif, setOpenOrCloseNotif] = React.useState(false);\n\n  const openMenuProfile = () => {\n    setOpenMenuProfile(true);\n  };\n\n  const closeMenuProfile = () => {\n    setOpenMenuProfile(false);\n  };\n\n  const openMenuProfileonClick = () => {\n    setOpenMenuProfile(e => !e);\n  };\n\n  const OpensearchUsers = e => {\n    setDisplaySearch({\n      state: true,\n      userName: \"\"\n    }); //\n  };\n\n  const SearchUserFn = e => {\n    setDisplaySearch({\n      state: true,\n      userName: e.target.value\n    });\n  };\n\n  const closeSearchUser = e => {\n    setTimeout(() => {\n      setDisplaySearch({\n        state: false,\n        userName: \"\"\n      });\n    }, 300);\n  };\n\n  const openOrCloseNotifications = () => {\n    setOpenOrCloseNotif(e => !e);\n  };\n\n  const ShowSideNavBar = () => {\n    sideNavBarBtn.current.classList.toggle(Style.change);\n    setShowSideNavBar(e => !e);\n  };\n\n  if (heightAndWidthOfWindow.width > heightAndWidthOfWindow.height) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.container,\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: Style.nav,\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          href: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.Logo,\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"SPAKSI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 64\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Search,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.flexItems,\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onBlur: () => closeSearchUser(),\n              onFocus: e => OpensearchUsers(e),\n              children: [disyplaySearch.state && /*#__PURE__*/_jsxDEV(SearchUser, {\n                token: token,\n                searchUserName: disyplaySearch.userName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 56\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"search\",\n                type: \"text\",\n                placeholder: \"Search accounts\",\n                autoComplete: \"off\",\n                onChange: e => SearchUserFn(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: Style.searchImg,\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"25\",\n                  height: \"20\",\n                  viewBox: \"0 0 28 38\",\n                  fill: \"rgba(22, 24, 35, 0.75)\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M27.6192 32.3156L22.1665 25.0378C21.9204 24.7094 21.5867 24.5269 21.2367 24.5269H20.3452C21.8547 21.9501 22.7517 18.709 22.7517 15.1833C22.7517 6.79599 17.6599 0 11.3758 0C5.09178 0 0 6.79599 0 15.1833C0 23.5706 5.09178 30.3666 11.3758 30.3666C14.0174 30.3666 16.4457 29.1695 18.3763 27.1547V28.3446C18.3763 28.8118 18.5131 29.2571 18.7592 29.5855L24.2119 36.8633C24.726 37.5495 25.5573 37.5495 26.066 36.8633L27.6137 34.7975C28.1278 34.1113 28.1278 33.0018 27.6192 32.3156ZM11.3758 24.5269C7.50914 24.5269 4.37532 20.3515 4.37532 15.1833C4.37532 10.0224 7.50367 5.83973 11.3758 5.83973C15.2425 5.83973 18.3763 10.0151 18.3763 15.1833C18.3763 20.3442 15.248 24.5269 11.3758 24.5269Z\",\n                    fill: \"rgba(22, 24, 35, 0.75)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), token && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.authenticated,\n          children: [/*#__PURE__*/_jsxDEV(Chat, {\n            popUpUser: popUpUser,\n            numberOfChatsNotRead: numberOfChatsNotRead\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.notification,\n            onClick: () => openOrCloseNotifications(),\n            children: [openOrCloseNotif && /*#__PURE__*/_jsxDEV(Notification, {\n              token: token\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 48\n            }, this), popUpNotif != 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.numberOfNotificationNotReadlocal,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: popUpNotif\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 101\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"25\",\n              height: \"25\",\n              viewBox: \"0 0 50 50\",\n              fill: \"black\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M43.75 0H6.25C2.80273 0 0 2.80273 0 6.25V34.375C0 37.8223 2.80273 40.625 6.25 40.625H15.625V48.8281C15.625 49.5215 16.1914 50 16.7969 50C17.0312 50 17.2754 49.9316 17.4902 49.7656L29.6875 40.625H43.75C47.1973 40.625 50 37.8223 50 34.375V6.25C50 2.80273 47.1973 0 43.75 0ZM45.3125 34.375C45.3125 35.2344 44.6094 35.9375 43.75 35.9375H28.125L26.875 36.875L20.3125 41.7969V35.9375H6.25C5.39062 35.9375 4.6875 35.2344 4.6875 34.375V6.25C4.6875 5.39062 5.39062 4.6875 6.25 4.6875H43.75C44.6094 4.6875 45.3125 5.39062 45.3125 6.25V34.375Z\",\n                fill: \"black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.profile,\n            onClick: () => openMenuProfileonClick(),\n            onMouseLeave: () => closeMenuProfile(),\n            onMouseEnter: () => openMenuProfile(),\n            children: [user != null && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.navBarImageContainer,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: user.currentImageUrl || \"/avatar.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 237\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 193\n            }, this), openMenuProfileState && /*#__PURE__*/_jsxDEV(PorfileMenu, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 321\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 31\n        }, this), !token && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Nonauthenticated,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/signin\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Log In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this);\n  } else\n    /*mobile */\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.container,\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: Style.nav,\n        children: [token && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: \"1 !important\"\n          },\n          className: Style.authenticated,\n          children: [/*#__PURE__*/_jsxDEV(SideNavBar, {\n            user: user,\n            token: token,\n            showSideNavBar: showSideNavBar,\n            numberOfChatsNotRead: numberOfChatsNotRead\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.containerBtnSideNavBar,\n            ref: sideNavBarBtn,\n            onClick: () => ShowSideNavBar(),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.bar1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.bar2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.bar3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Search,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.flexItems,\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onBlur: () => closeSearchUser(),\n              onFocus: e => OpensearchUsers(e),\n              children: [disyplaySearch.state && /*#__PURE__*/_jsxDEV(SearchUser, {\n                popUpNotif: popUpNotif,\n                token: token,\n                searchUserName: disyplaySearch.userName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 56\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"search\",\n                type: \"text\",\n                placeholder: \"Search accounts\",\n                autoComplete: \"off\",\n                onChange: e => SearchUserFn(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: Style.searchImg,\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"20\",\n                  height: \"20\",\n                  viewBox: \"0 0 28 38\",\n                  fill: \"black\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M27.6192 32.3156L22.1665 25.0378C21.9204 24.7094 21.5867 24.5269 21.2367 24.5269H20.3452C21.8547 21.9501 22.7517 18.709 22.7517 15.1833C22.7517 6.79599 17.6599 0 11.3758 0C5.09178 0 0 6.79599 0 15.1833C0 23.5706 5.09178 30.3666 11.3758 30.3666C14.0174 30.3666 16.4457 29.1695 18.3763 27.1547V28.3446C18.3763 28.8118 18.5131 29.2571 18.7592 29.5855L24.2119 36.8633C24.726 37.5495 25.5573 37.5495 26.066 36.8633L27.6137 34.7975C28.1278 34.1113 28.1278 33.0018 27.6192 32.3156ZM11.3758 24.5269C7.50914 24.5269 4.37532 20.3515 4.37532 15.1833C4.37532 10.0224 7.50367 5.83973 11.3758 5.83973C15.2425 5.83973 18.3763 10.0151 18.3763 15.1833C18.3763 20.3442 15.248 24.5269 11.3758 24.5269Z\",\n                    fill: \"black\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }, this), !token && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Nonauthenticated,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/signin\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Log In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this);\n};\n\nexport default NavBar;\n\nconst Chat = props => {\n  const [numberOfChatsNotReadlocal, setNumberOfChatsNotRead] = React.useState(0);\n  const [userWhoSentYouImage, setUserWhoSentYouImage] = React.useState(null);\n  React.useEffect(() => {\n    setNumberOfChatsNotRead(props.numberOfChatsNotRead);\n  }, [props.numberOfChatsNotRead]);\n  React.useEffect(() => {\n    if (props.popUpUser != undefined) {\n      setTimeout(() => {\n        setUserWhoSentYouImage(null);\n      }, 2000);\n      setUserWhoSentYouImage(props.popUpUser.currentImageUrl);\n    }\n  }, [props]);\n  return /*#__PURE__*/_jsxDEV(Link, {\n    href: \"/chat\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.chatSvg,\n      children: [userWhoSentYouImage != null && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.showTemImageOfUserWhoSentYouMessage,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: userWhoSentYouImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 98\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 39\n      }, this), numberOfChatsNotReadlocal != 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.numberOfChatsNotReadlocal,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: numberOfChatsNotReadlocal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 89\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 40\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"10\",\n        height: \"10\",\n        viewBox: \"100 -0 300.011 500.011\",\n        fill: \"black\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M438.731,209.463l-416-192c-6.624-3.008-14.528-1.216-19.136,4.48c-4.64,5.696-4.8,13.792-0.384,19.648l136.8,182.4    l-136.8,182.4c-4.416,5.856-4.256,13.984,0.352,19.648c3.104,3.872,7.744,5.952,12.448,5.952c2.272,0,4.544-0.48,6.688-1.472    l416-192c5.696-2.624,9.312-8.288,9.312-14.528S444.395,212.087,438.731,209.463z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 31\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 12\n  }, this);\n};\n\nconst SideNavBar = props => {\n  //props.user.currentImageUrl\n  //props.user\n  const removeCookie = userid => {\n    fetch(\"/api/logout\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(() => {\n      removeToken(userid).then();\n      location.reload();\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: props.showSideNavBar ? {\n      marginLeft: \"0\"\n    } : {\n      marginLeft: \"-100%\"\n    },\n    className: Style.sideBarContainer,\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        href: \"/profile\",\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.userImageInSideNavBar,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: props.user.currentImageUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 70\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: props.user.userName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 115\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.userImageInSideNavBar,\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"30\",\n              height: \"30\",\n              viewBox: \"100 -20 300.011 500.011\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"m498.195312 222.695312c-.011718-.011718-.023437-.023437-.035156-.035156l-208.855468-208.847656c-8.902344-8.90625-20.738282-13.8125-33.328126-13.8125-12.589843 0-24.425781 4.902344-33.332031 13.808594l-208.746093 208.742187c-.070313.070313-.140626.144531-.210938.214844-18.28125 18.386719-18.25 48.21875.089844 66.558594 8.378906 8.382812 19.445312 13.238281 31.277344 13.746093.480468.046876.964843.070313 1.453124.070313h8.324219v153.699219c0 30.414062 24.746094 55.160156 55.167969 55.160156h81.710938c8.28125 0 15-6.714844 15-15v-120.5c0-13.878906 11.289062-25.167969 25.167968-25.167969h48.195313c13.878906 0 25.167969 11.289063 25.167969 25.167969v120.5c0 8.285156 6.714843 15 15 15h81.710937c30.421875 0 55.167969-24.746094 55.167969-55.160156v-153.699219h7.71875c12.585937 0 24.421875-4.902344 33.332031-13.808594 18.359375-18.371093 18.367187-48.253906.023437-66.636719zm0 0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 122\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/chat\",\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.iconSideNavBar,\n            children: /*#__PURE__*/_jsxDEV(Chat, {\n              numberOfChatsNotRead: props.numberOfChatsNotRead\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 63\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Messages\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 134\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.iconSideNavBar,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"25\",\n            height: \"25\",\n            viewBox: \"0 0 50 50\",\n            fill: \"black\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M43.75 0H6.25C2.80273 0 0 2.80273 0 6.25V34.375C0 37.8223 2.80273 40.625 6.25 40.625H15.625V48.8281C15.625 49.5215 16.1914 50 16.7969 50C17.0312 50 17.2754 49.9316 17.4902 49.7656L29.6875 40.625H43.75C47.1973 40.625 50 37.8223 50 34.375V6.25C50 2.80273 47.1973 0 43.75 0ZM45.3125 34.375C45.3125 35.2344 44.6094 35.9375 43.75 35.9375H28.125L26.875 36.875L20.3125 41.7969V35.9375H6.25C5.39062 35.9375 4.6875 35.2344 4.6875 34.375V6.25C4.6875 5.39062 5.39062 4.6875 6.25 4.6875H43.75C44.6094 4.6875 45.3125 5.39062 45.3125 6.25V34.375Z\",\n              fill: \"black\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 17\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Notification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => removeCookie(props.user._id),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.iconSideNavBar,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"25\",\n            height: \"25\",\n            viewBox: \"0 0 25 25\",\n            fill: \"black\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: [/*#__PURE__*/_jsxDEV(\"g\", {\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"m13.5 21h-4c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h4c.827 0 1.5-.673 1.5-1.5v-5c0-.276.224-.5.5-.5s.5.224.5.5v5c0 1.378-1.121 2.5-2.5 2.5z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"m23.5 11h-10c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h10c.276 0 .5.224.5.5s-.224.5-.5.5z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"m8 24c-.22 0-.435-.037-.638-.109l-5.99-1.997c-.82-.273-1.372-1.035-1.372-1.894v-18c0-1.103.897-2 2-2 .222 0 .438.037.639.11l5.989 1.996c.82.272 1.372 1.034 1.372 1.894v18c0 1.103-.897 2-2 2zm-6-23c-.552 0-1 .449-1 1v18c0 .428.276.808.688.946l6 2c.656.233 1.312-.292 1.312-.946v-18c0-.429-.276-.809-.688-.945l-6-2c-.103-.037-.208-.055-.312-.055z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"m15.5 8c-.276 0-.5-.224-.5-.5v-5c0-.827-.673-1.5-1.5-1.5h-11.5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h11.5c1.379 0 2.5 1.122 2.5 2.5v5c0 .276-.224.5-.5.5z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 388\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 385\n            }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"m19.5 15c-.128 0-.256-.049-.354-.146-.195-.195-.195-.512 0-.707l3.646-3.646-3.646-3.646c-.195-.195-.195-.512 0-.707s.512-.195.707 0l4 4c.195.195.195.512 0 .707l-4 4c-.097.096-.225.145-.353.145z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 17\n        }, this), \"  \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 12\n  }, this);\n};","map":{"version":3,"sources":["F:/AHKI/components/navBar/NavBar.js"],"names":["React","useState","Style","PorfileMenu","Link","UserContext","SearchUser","useRouter","Notification","getUnreadUsersChatsNumber","socketContext","GetOtherUsersData","removeToken","NavBar","token","heightAndWidthOfWindow","setHeightAndWidthOfWindow","width","height","openMenuProfileState","setOpenMenuProfile","disyplaySearch","setDisplaySearch","state","userName","user","setUser","useContext","numberOfChatsNotRead","setNumberOfChatsNotRead","socket","setSocket","popUpUser","setPopUpUser","popUpNotif","setpopUpNotif","sideNavBarBtn","useRef","showSideNavBar","setShowSideNavBar","router","useEffect","chatHandler","data","audio","Audio","play","pathname","senderId","then","result","catch","error","alert","notifHandler","notif","e","undefined","on","off","window","innerHeight","innerWidth","console","log","openOrCloseNotif","setOpenOrCloseNotif","openMenuProfile","closeMenuProfile","openMenuProfileonClick","OpensearchUsers","SearchUserFn","target","value","closeSearchUser","setTimeout","openOrCloseNotifications","ShowSideNavBar","current","classList","toggle","change","container","nav","Logo","Search","flexItems","searchImg","authenticated","notification","numberOfNotificationNotReadlocal","profile","navBarImageContainer","currentImageUrl","Nonauthenticated","flex","containerBtnSideNavBar","bar1","bar2","bar3","Chat","props","numberOfChatsNotReadlocal","userWhoSentYouImage","setUserWhoSentYouImage","chatSvg","showTemImageOfUserWhoSentYouMessage","SideNavBar","removeCookie","userid","fetch","method","headers","location","reload","marginLeft","sideBarContainer","userImageInSideNavBar","iconSideNavBar","_id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport Style from './NavBar.module.scss'\r\nimport PorfileMenu from '../profileMenu/profileMenu'\r\nimport Link from 'next/link'\r\nimport UserContext from '../../context/userContext'\r\nimport SearchUser from '../../components/searchUser/searchUser'\r\nimport { useRouter } from 'next/router'\r\nimport Notification from '../../components/notification/notification'\r\nimport {getUnreadUsersChatsNumber} from '../../services/chat'\r\nimport socketContext from '../../context/socketContext'\r\nimport {GetOtherUsersData} from '../../services/user'\r\nimport {removeToken} from '../../services/user'\r\n\r\nconst NavBar = ({ token }) => {\r\n    const [heightAndWidthOfWindow, setHeightAndWidthOfWindow] = React.useState({ width: 0, height: 0 })//responsive handler\r\n    const [openMenuProfileState, setOpenMenuProfile] = useState(false)//on hover profile pic open menu\r\n    const [disyplaySearch,setDisplaySearch]=React.useState({state:false,userName:\"\"})\r\n    const [user, setUser]= React.useContext(UserContext)\r\n    const [numberOfChatsNotRead,setNumberOfChatsNotRead]=React.useState(0)\r\n    const [socket,setSocket]=React.useContext(socketContext)\r\n    const [popUpUser,setPopUpUser]=React.useState(null)\r\n    const [popUpNotif,setpopUpNotif]=React.useState(()=>0)\r\n    const sideNavBarBtn = React.useRef(null)\r\n    const [showSideNavBar,setShowSideNavBar]=React.useState(false)\r\n    const router = useRouter()\r\n\r\n    React.useEffect(()=>{\r\n\r\n        async  function  chatHandler(data){\r\n            let audio = new Audio(\"./msgSound.mp3\")\r\n            audio.play()\r\n            if(router.pathname!=\"/chat\"){\r\n                GetOtherUsersData(data.senderId,token).then(result=>{\r\n                    setPopUpUser({...result.data.data[0]})\r\n                }).catch(error=>{\r\n                    alert(error)\r\n                })\r\n            }\r\n        }\r\n        async function  notifHandler(data){\r\n            if(data.notif==1){\r\n                setpopUpNotif(e=>e+1)\r\n            }\r\n        }\r\n        if(socket!=undefined && socket!=null){\r\n        socket.on(\"getMessageFromUserToUser\",chatHandler)\r\n        socket.on(\"getNotificationFromUserToUser\",notifHandler)\r\n          }\r\n          return () => {\r\n            if(socket!=undefined && socket!=null){\r\n                socket.off('getMessageFromUserToUser', chatHandler);\r\n                socket.off('getNotificationFromUserToUser', notifHandler);\r\n\r\n            }\r\n          }\r\n      })\r\n\r\n\r\n    React.useEffect(() => { \r\n        setHeightAndWidthOfWindow({ height: window.innerHeight, width: window.innerWidth }) \r\n\r\n        if(token!=undefined && token!=null && token!=false){\r\n     \r\n            getUnreadUsersChatsNumber({},token).then(data=>{\r\n                setNumberOfChatsNotRead(data.data.data)\r\n            }).catch(error=>{\r\n                console.log(error)\r\n            })\r\n        }\r\n\r\n    }, []);\r\n\r\n    const [openOrCloseNotif,setOpenOrCloseNotif]=React.useState(false)\r\n    const openMenuProfile = () => { setOpenMenuProfile(true) }\r\n    const closeMenuProfile = () => { setOpenMenuProfile(false) }\r\n\r\n    const openMenuProfileonClick = () => { setOpenMenuProfile(e => !e) }\r\n    \r\n    const OpensearchUsers=(e)=>{\r\n        setDisplaySearch({state:true,userName:\"\"})\r\n        //\r\n    }\r\n    const SearchUserFn=(e)=>{\r\n        setDisplaySearch({state:true,userName:e.target.value})\r\n\r\n    }\r\n    const closeSearchUser=(e)=>{\r\n        setTimeout(() => {\r\n            setDisplaySearch({state:false,userName:\"\"})\r\n\r\n        }, 300);\r\n    }\r\n    const openOrCloseNotifications=()=>{\r\n        setOpenOrCloseNotif(e=>!e)\r\n    }\r\n\r\n    const ShowSideNavBar=()=>{\r\n   \r\n        sideNavBarBtn.current.classList.toggle(Style.change);\r\n        setShowSideNavBar(e=>!e)\r\n    }\r\n    if (heightAndWidthOfWindow.width > heightAndWidthOfWindow.height) {\r\n        return (\r\n            <div className={Style.container}>\r\n                <nav className={Style.nav}>\r\n                    <Link href=\"/\"><div className={Style.Logo}><h1>SPAKSI</h1></div></Link>\r\n                    <div className={Style.Search}>\r\n                        <div className={Style.flexItems}>\r\n                            <form onBlur={()=>closeSearchUser()} onFocus={(e)=>OpensearchUsers(e)}>\r\n                                {disyplaySearch.state&&<SearchUser token={token} searchUserName={disyplaySearch.userName}></SearchUser>}\r\n                                <input name=\"search\" type=\"text\" placeholder=\"Search accounts\" autoComplete=\"off\"  onChange={(e)=>SearchUserFn(e)} ></input>\r\n                                <span></span>\r\n                                <div className={Style.searchImg}>\r\n                                    <svg width=\"25\" height=\"20\" viewBox=\"0 0 28 38\" fill=\"rgba(22, 24, 35, 0.75)\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path d=\"M27.6192 32.3156L22.1665 25.0378C21.9204 24.7094 21.5867 24.5269 21.2367 24.5269H20.3452C21.8547 21.9501 22.7517 18.709 22.7517 15.1833C22.7517 6.79599 17.6599 0 11.3758 0C5.09178 0 0 6.79599 0 15.1833C0 23.5706 5.09178 30.3666 11.3758 30.3666C14.0174 30.3666 16.4457 29.1695 18.3763 27.1547V28.3446C18.3763 28.8118 18.5131 29.2571 18.7592 29.5855L24.2119 36.8633C24.726 37.5495 25.5573 37.5495 26.066 36.8633L27.6137 34.7975C28.1278 34.1113 28.1278 33.0018 27.6192 32.3156ZM11.3758 24.5269C7.50914 24.5269 4.37532 20.3515 4.37532 15.1833C4.37532 10.0224 7.50367 5.83973 11.3758 5.83973C15.2425 5.83973 18.3763 10.0151 18.3763 15.1833C18.3763 20.3442 15.248 24.5269 11.3758 24.5269Z\" fill=\"rgba(22, 24, 35, 0.75)\" />\r\n                                    </svg>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n  \r\n                    {token && <div className={Style.authenticated}>\r\n                         <Chat popUpUser={popUpUser} numberOfChatsNotRead={numberOfChatsNotRead}></Chat>\r\n                        <div className={Style.notification} onClick={()=>openOrCloseNotifications()}>\r\n                            {openOrCloseNotif&&<Notification token={token}></Notification>}\r\n                            {popUpNotif!=0&&<div className={Style.numberOfNotificationNotReadlocal}><span>{popUpNotif}</span></div>}\r\n                            <svg width=\"25\" height=\"25\" viewBox=\"0 0 50 50\" fill=\"black\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M43.75 0H6.25C2.80273 0 0 2.80273 0 6.25V34.375C0 37.8223 2.80273 40.625 6.25 40.625H15.625V48.8281C15.625 49.5215 16.1914 50 16.7969 50C17.0312 50 17.2754 49.9316 17.4902 49.7656L29.6875 40.625H43.75C47.1973 40.625 50 37.8223 50 34.375V6.25C50 2.80273 47.1973 0 43.75 0ZM45.3125 34.375C45.3125 35.2344 44.6094 35.9375 43.75 35.9375H28.125L26.875 36.875L20.3125 41.7969V35.9375H6.25C5.39062 35.9375 4.6875 35.2344 4.6875 34.375V6.25C4.6875 5.39062 5.39062 4.6875 6.25 4.6875H43.75C44.6094 4.6875 45.3125 5.39062 45.3125 6.25V34.375Z\" fill=\"black\" />\r\n                            </svg>\r\n                        </div>\r\n\r\n                        <div className={Style.profile} onClick={() => openMenuProfileonClick()} onMouseLeave={() => closeMenuProfile()} onMouseEnter={() => openMenuProfile()}>{user != null && <div className={Style.navBarImageContainer}><img src={user.currentImageUrl  || \"/avatar.png\"} /></div>}{openMenuProfileState && <PorfileMenu></PorfileMenu>}</div>\r\n                    </div>}\r\n                    {!token && <div className={Style.Nonauthenticated}>\r\n                    <Link href={\"/signin\"}><button ><p>Log In</p></button></Link> \r\n                    </div>\r\n                    }\r\n                </nav>\r\n            </div>\r\n        )\r\n    } else\r\n        /*mobile */\r\n\r\n        return (\r\n            <div className={Style.container}>\r\n                <nav className={Style.nav}>\r\n                {token && <div style={{flex:\"1 !important\"}} className={Style.authenticated}>\r\n\r\n                        <SideNavBar user={user} token={token} showSideNavBar={showSideNavBar}   numberOfChatsNotRead={numberOfChatsNotRead}></SideNavBar>\r\n                        <div className={Style.containerBtnSideNavBar} ref={sideNavBarBtn} onClick={()=>ShowSideNavBar()}>\r\n                            <div className={Style.bar1}></div>\r\n                            <div className={Style.bar2}></div>\r\n                            <div className={Style.bar3}></div>\r\n                        </div>\r\n                        </div>\r\n                }\r\n                   \r\n                <div className={Style.Search}>\r\n                        <div className={Style.flexItems}>\r\n                            <form onBlur={()=>closeSearchUser()} onFocus={(e)=>OpensearchUsers(e)}>\r\n                                {disyplaySearch.state&&<SearchUser popUpNotif={popUpNotif} token={token} searchUserName={disyplaySearch.userName}></SearchUser>}\r\n                                <input name=\"search\" type=\"text\" placeholder=\"Search accounts\" autoComplete=\"off\"  onChange={(e)=>SearchUserFn(e)} ></input>\r\n                                <span></span>\r\n                                <div className={Style.searchImg}>\r\n                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 28 38\" fill=\"black\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path d=\"M27.6192 32.3156L22.1665 25.0378C21.9204 24.7094 21.5867 24.5269 21.2367 24.5269H20.3452C21.8547 21.9501 22.7517 18.709 22.7517 15.1833C22.7517 6.79599 17.6599 0 11.3758 0C5.09178 0 0 6.79599 0 15.1833C0 23.5706 5.09178 30.3666 11.3758 30.3666C14.0174 30.3666 16.4457 29.1695 18.3763 27.1547V28.3446C18.3763 28.8118 18.5131 29.2571 18.7592 29.5855L24.2119 36.8633C24.726 37.5495 25.5573 37.5495 26.066 36.8633L27.6137 34.7975C28.1278 34.1113 28.1278 33.0018 27.6192 32.3156ZM11.3758 24.5269C7.50914 24.5269 4.37532 20.3515 4.37532 15.1833C4.37532 10.0224 7.50367 5.83973 11.3758 5.83973C15.2425 5.83973 18.3763 10.0151 18.3763 15.1833C18.3763 20.3442 15.248 24.5269 11.3758 24.5269Z\" fill=\"black\" />\r\n                                    </svg>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    {!token && <div className={Style.Nonauthenticated}>\r\n                    <Link href={\"/signin\"}><button ><p>Log In</p></button></Link> \r\n                    </div>\r\n                    }\r\n                </nav>\r\n            </div>\r\n        )\r\n\r\n}\r\nexport default NavBar\r\n\r\n\r\nconst Chat=(props)=>{\r\n    const [numberOfChatsNotReadlocal,setNumberOfChatsNotRead]=React.useState(0)\r\n    const [userWhoSentYouImage,setUserWhoSentYouImage]=React.useState(null)\r\n    React.useEffect(()=>{\r\n        setNumberOfChatsNotRead(props.numberOfChatsNotRead)\r\n    },[props.numberOfChatsNotRead])\r\n    React.useEffect(()=>{\r\n        if(props.popUpUser!=undefined){\r\n            setTimeout(() => {\r\n                setUserWhoSentYouImage(null)\r\n            }, 2000);\r\n            setUserWhoSentYouImage(props.popUpUser.currentImageUrl)\r\n\r\n        }\r\n      \r\n    },[props])\r\n    return(<Link href=\"/chat\"><div className={Style.chatSvg}>\r\n        {userWhoSentYouImage!=null  &&<div className={Style.showTemImageOfUserWhoSentYouMessage}><img src={userWhoSentYouImage}/></div>}\r\n        {numberOfChatsNotReadlocal!=0&&<div className={Style.numberOfChatsNotReadlocal}><span>{numberOfChatsNotReadlocal}</span></div>}\r\n            <svg width=\"10\" height=\"10\" viewBox=\"100 -0 300.011 500.011\"       fill=\"black\"    xmlns=\"http://www.w3.org/2000/svg\"  >\r\n                        <path d=\"M438.731,209.463l-416-192c-6.624-3.008-14.528-1.216-19.136,4.48c-4.64,5.696-4.8,13.792-0.384,19.648l136.8,182.4    l-136.8,182.4c-4.416,5.856-4.256,13.984,0.352,19.648c3.104,3.872,7.744,5.952,12.448,5.952c2.272,0,4.544-0.48,6.688-1.472    l416-192c5.696-2.624,9.312-8.288,9.312-14.528S444.395,212.087,438.731,209.463z\"/>\r\n            </svg>\r\n        </div>\r\n        </Link>\r\n    )\r\n}\r\nconst SideNavBar=(props)=>{\r\n    //props.user.currentImageUrl\r\n    //props.user\r\n    const removeCookie=(userid)=>{\r\n        fetch(\"/api/logout\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"}}).then(()=>{\r\n            removeToken(userid).then()\r\n            location.reload();\r\n        })\r\n    }\r\n    return(<div style={props.showSideNavBar?{marginLeft:\"0\"}:{marginLeft:\"-100%\"}} className={Style.sideBarContainer}>\r\n            <ul>\r\n                <Link href=\"/profile\">\r\n                    <li>\r\n                        <div className={Style.userImageInSideNavBar}><img src={props.user.currentImageUrl}/></div><p>{props.user.userName}</p>\r\n                    </li>\r\n                </Link>\r\n                <Link href=\"/\">\r\n                    <li>\r\n                        <div className={Style.userImageInSideNavBar}>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"100 -20 300.011 500.011\"><path d=\"m498.195312 222.695312c-.011718-.011718-.023437-.023437-.035156-.035156l-208.855468-208.847656c-8.902344-8.90625-20.738282-13.8125-33.328126-13.8125-12.589843 0-24.425781 4.902344-33.332031 13.808594l-208.746093 208.742187c-.070313.070313-.140626.144531-.210938.214844-18.28125 18.386719-18.25 48.21875.089844 66.558594 8.378906 8.382812 19.445312 13.238281 31.277344 13.746093.480468.046876.964843.070313 1.453124.070313h8.324219v153.699219c0 30.414062 24.746094 55.160156 55.167969 55.160156h81.710938c8.28125 0 15-6.714844 15-15v-120.5c0-13.878906 11.289062-25.167969 25.167968-25.167969h48.195313c13.878906 0 25.167969 11.289063 25.167969 25.167969v120.5c0 8.285156 6.714843 15 15 15h81.710937c30.421875 0 55.167969-24.746094 55.167969-55.160156v-153.699219h7.71875c12.585937 0 24.421875-4.902344 33.332031-13.808594 18.359375-18.371093 18.367187-48.253906.023437-66.636719zm0 0\"/></svg>\r\n                            </div><p>Home</p>\r\n                    </li>\r\n                </Link>\r\n                <Link href=\"/chat\">    \r\n                    <li>\r\n                        <div className={Style.iconSideNavBar}><Chat  numberOfChatsNotRead={props.numberOfChatsNotRead}></Chat></div> <p>Messages</p>\r\n                    </li>\r\n                </Link>\r\n                <li>\r\n                <div className={Style.iconSideNavBar}>\r\n                            <svg width=\"25\" height=\"25\" viewBox=\"0 0 50 50\" fill=\"black\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M43.75 0H6.25C2.80273 0 0 2.80273 0 6.25V34.375C0 37.8223 2.80273 40.625 6.25 40.625H15.625V48.8281C15.625 49.5215 16.1914 50 16.7969 50C17.0312 50 17.2754 49.9316 17.4902 49.7656L29.6875 40.625H43.75C47.1973 40.625 50 37.8223 50 34.375V6.25C50 2.80273 47.1973 0 43.75 0ZM45.3125 34.375C45.3125 35.2344 44.6094 35.9375 43.75 35.9375H28.125L26.875 36.875L20.3125 41.7969V35.9375H6.25C5.39062 35.9375 4.6875 35.2344 4.6875 34.375V6.25C4.6875 5.39062 5.39062 4.6875 6.25 4.6875H43.75C44.6094 4.6875 45.3125 5.39062 45.3125 6.25V34.375Z\" fill=\"black\" />\r\n                            </svg>\r\n                    </div> <p>Notification</p>\r\n                </li>\r\n                <li onClick={()=>removeCookie(props.user._id)}>\r\n                <div className={Style.iconSideNavBar}>\r\n                <svg width=\"25\" height=\"25\" viewBox=\"0 0 25 25\" fill=\"black\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <g>\r\n                        <path d=\"m13.5 21h-4c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h4c.827 0 1.5-.673 1.5-1.5v-5c0-.276.224-.5.5-.5s.5.224.5.5v5c0 1.378-1.121 2.5-2.5 2.5z\"/>\r\n                        </g><g>\r\n                        <path d=\"m23.5 11h-10c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h10c.276 0 .5.224.5.5s-.224.5-.5.5z\"/>\r\n                        </g><g>\r\n                        <path d=\"m8 24c-.22 0-.435-.037-.638-.109l-5.99-1.997c-.82-.273-1.372-1.035-1.372-1.894v-18c0-1.103.897-2 2-2 .222 0 .438.037.639.11l5.989 1.996c.82.272 1.372 1.034 1.372 1.894v18c0 1.103-.897 2-2 2zm-6-23c-.552 0-1 .449-1 1v18c0 .428.276.808.688.946l6 2c.656.233 1.312-.292 1.312-.946v-18c0-.429-.276-.809-.688-.945l-6-2c-.103-.037-.208-.055-.312-.055z\"/></g><g><path d=\"m15.5 8c-.276 0-.5-.224-.5-.5v-5c0-.827-.673-1.5-1.5-1.5h-11.5c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h11.5c1.379 0 2.5 1.122 2.5 2.5v5c0 .276-.224.5-.5.5z\"/>\r\n                        </g><g>\r\n                        <path d=\"m19.5 15c-.128 0-.256-.049-.354-.146-.195-.195-.195-.512 0-.707l3.646-3.646-3.646-3.646c-.195-.195-.195-.512 0-.707s.512-.195.707 0l4 4c.195.195.195.512 0 .707l-4 4c-.097.096-.225.145-.353.145z\"/>\r\n                    </g>\r\n                </svg>\r\n                    </div>  <p>Log Out</p>\r\n                </li>\r\n            </ul>\r\n    </div>)\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}