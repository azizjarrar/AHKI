{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"F:\\\\AHKI\\\\components\\\\modalSingInSingUp\\\\singIn\\\\singIn.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport Style from '../ModalSingInSingUp.module.scss';\nimport LanguageContext from '../../../context/languageContext';\nimport ApiIsLoadingContext from '../../../context/apiIsLoadingContext';\nimport FacebookLogIn from '../../facebookLogIn/facebookLogIn';\nimport { Login } from '../../../services/user';\nimport Link from 'next/link';\n\nconst singIn = props => {\n  const [language, setLanguage] = React.useContext(LanguageContext);\n  const [isLoading, setIsLoading] = React.useContext(ApiIsLoadingContext);\n  const [loginState, setLoginState] = React.useState({});\n\n  const singIn = () => {\n    setIsLoading(true);\n    Login(loginState).then(res => {\n      if (res.data.state == false) {\n        props.setErrorMessageProps({\n          state: true,\n          text: res.data.message\n        });\n        setIsLoading(false);\n      } else if (res.data.verified == false) {\n        props.openVerifieAccountModal(res.data.userid);\n        setIsLoading(false);\n      } else {\n        fetch(\"/api/setToken\", {\n          method: \"post\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            token: res.data.token\n          })\n        }).then(() => {\n          localStorage.setItem(\"ref_token\", res.data.ref_token);\n          setIsLoading(false);\n          location.reload();\n        });\n      }\n    }).catch(e => {\n      setIsLoading(false);\n      props.setErrorMessageProps({\n        state: true,\n        text: e.message\n      });\n    });\n  };\n\n  const setLoginData = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setLoginState(e => {\n      return _objectSpread(_objectSpread({}, e), {}, {\n        [name]: value\n      });\n    });\n  }; //onKeyUp={(e)=>e.target.value=e.target.value.replace(/[^\\d]/,'')}  \n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.singIn,\n    style: props.showSingIn_Or_SHowSingUp ? {\n      left: '0%'\n    } : {\n      left: '100%'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: Style.form,\n      onSubmit: e => {\n        e.preventDefault();\n      },\n      autoComplete: \"new-password\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.pageHeader,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Log in to NOZZLA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.descriptionHeader,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: language.createaprofilefollowotheraccountstalkaboutyourownexperienceandmore\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 62\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"\",\n        value: \"\",\n        readOnly: true,\n        style: {\n          display: \"none\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: e => setLoginData(e),\n          defaultValue: \"\",\n          name: \"identity\",\n          type: \"text\",\n          className: Style.input,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: Style.labelspan,\n            children: language.telephoneoremail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 188\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 181\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.inputContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: e => setLoginData(e),\n          defaultValue: \"\",\n          name: \"password\",\n          type: \"password\",\n          className: Style.input,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: Style.labelspan,\n            children: language.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 192\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 185\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: Style.btn,\n        onClick: () => singIn(),\n        children: language.signin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: Style.message,\n        children: [language.YoudonthaveaccountClickhereto, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: Style.clickHere,\n          onClick: () => props.fnshowSingInOrSingUp(),\n          children: language.signup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 85\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 188\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/forgetPassword\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: Style.forgetPassword,\n            children: language.ForgotPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 224\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 195\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n\nexport default singIn;","map":{"version":3,"sources":["F:/AHKI/components/modalSingInSingUp/singIn/singIn.js"],"names":["React","Style","LanguageContext","ApiIsLoadingContext","FacebookLogIn","Login","Link","singIn","props","language","setLanguage","useContext","isLoading","setIsLoading","loginState","setLoginState","useState","then","res","data","state","setErrorMessageProps","text","message","verified","openVerifieAccountModal","userid","fetch","method","headers","body","JSON","stringify","token","localStorage","setItem","ref_token","location","reload","catch","e","setLoginData","name","value","target","showSingIn_Or_SHowSingUp","left","form","preventDefault","pageHeader","descriptionHeader","createaprofilefollowotheraccountstalkaboutyourownexperienceandmore","display","inputContainer","input","labelspan","telephoneoremail","password","btn","signin","YoudonthaveaccountClickhereto","clickHere","fnshowSingInOrSingUp","signup","forgetPassword","ForgotPassword"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Style from '../ModalSingInSingUp.module.scss'\r\nimport LanguageContext from '../../../context/languageContext'\r\nimport ApiIsLoadingContext from '../../../context/apiIsLoadingContext'\r\nimport FacebookLogIn from '../../facebookLogIn/facebookLogIn'\r\nimport {Login} from '../../../services/user'\r\nimport Link from 'next/link'\r\n\r\nconst singIn = (props) => {\r\n  const [language, setLanguage] = React.useContext(LanguageContext)\r\n  const [isLoading, setIsLoading] = React.useContext(ApiIsLoadingContext)\r\n  const [loginState,setLoginState]=React.useState({})\r\n\r\n    const singIn=()=>{\r\n      setIsLoading(true)\r\n        Login(loginState).then(res=>{\r\n          if(res.data.state==false){\r\n            props.setErrorMessageProps({state:true,text:res.data.message})\r\n            setIsLoading(false)\r\n          }else if(res.data.verified==false){\r\n            props.openVerifieAccountModal(res.data.userid)\r\n            setIsLoading(false)\r\n          }else{\r\n            fetch(\"/api/setToken\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({token:res.data.token})}).then(()=>{\r\n              localStorage.setItem(\"ref_token\",res.data.ref_token)\r\n              setIsLoading(false)\r\n             location.reload();\r\n            })\r\n          }\r\n        }).catch(e=>{\r\n          setIsLoading(false)\r\n          props.setErrorMessageProps({state:true,text:e.message})\r\n        \r\n        })\r\n      }\r\n      const setLoginData=(e)=>{\r\n        const { name, value } = e.target\r\n            setLoginState(e => {\r\n          return { ...e, [name]: value }\r\n        })\r\n      }\r\n      //onKeyUp={(e)=>e.target.value=e.target.value.replace(/[^\\d]/,'')}  \r\n    return (\r\n        <div className={Style.singIn} style={props.showSingIn_Or_SHowSingUp ? { left: '0%' } : { left: '100%' }}>\r\n            <form className={Style.form} onSubmit={e => {e.preventDefault();}}  autoComplete=\"new-password\">\r\n                    <div className={Style.pageHeader}><h2>Log in to NOZZLA</h2></div>\r\n                    <div className={Style.descriptionHeader}><h3>{language.createaprofilefollowotheraccountstalkaboutyourownexperienceandmore}</h3></div>\r\n              <input type=\"text\" name=\"\" value=\"\" readOnly={true} style={{display: \"none\"}}/>\r\n              <div className={Style.inputContainer}><input   onChange={(e)=>setLoginData(e)}  defaultValue={\"\"}   name={\"identity\"}  type=\"text\" className={Style.input} required /><label><span className={Style.labelspan}>{language.telephoneoremail}</span></label></div>\r\n              <div className={Style.inputContainer}><input   onChange={(e)=>setLoginData(e)}  defaultValue={\"\"}   name={\"password\"}  type=\"password\" className={Style.input} required /><label><span className={Style.labelspan}>{language.password}</span></label></div>\r\n              <button className={Style.btn} onClick={()=>singIn()}>{language.signin}</button>\r\n              <p className={Style.message}>{language.YoudonthaveaccountClickhereto} <span className={Style.clickHere} onClick={() => props.fnshowSingInOrSingUp()}>{language.signup}</span><br /> <Link href=\"/forgetPassword\"><span className={Style.forgetPassword}>{language.ForgotPassword}</span></Link></p>\r\n              {/*<FacebookLogIn></FacebookLogIn>*/}\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default singIn\r\n"]},"metadata":{},"sourceType":"module"}