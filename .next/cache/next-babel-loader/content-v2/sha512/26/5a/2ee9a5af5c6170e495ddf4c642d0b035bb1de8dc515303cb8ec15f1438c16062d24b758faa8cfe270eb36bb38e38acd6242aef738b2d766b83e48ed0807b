{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Style from './notification.module.scss';\nimport { getnotifications } from '../../services/notification';\nimport { deniedfollow, acceptfollow } from '../../services/following';\nimport UserContext from '../../context/userContext';\n\nconst notification = props => {\n  const [notifications, setnotifications] = React.useState([]);\n  const [Loading, setLoading] = React.useState(false);\n  React.useEffect(() => {\n    getnotifications({}, props.token).then(result => {\n      console.log(result.data.data);\n      setnotifications(result.data.data);\n    }).catch(error => {});\n  }, []);\n\n  const deniedfollowfn = (theOtherPersonId, idComponent) => {\n    setLoading(true);\n    deniedfollow(theOtherPersonId, idComponent, props.token).then(result => {\n      setLoading(false);\n      setnotifications(e => {\n        return [...e.filter(e => e._id != idComponent)];\n      });\n    }).catch(error => {});\n  };\n\n  const acceptfollowfn = (theOtherPersonId, idComponent) => {\n    setLoading(true);\n    acceptfollow(theOtherPersonId, idComponent, props.token).then(result => {\n      setLoading(false);\n      setnotifications(e => {\n        return [...e.filter(e => e._id != idComponent)];\n      });\n    }).catch(error => {});\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: Style.container,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: Style.header,\n      children: /*#__PURE__*/_jsx(\"h1\", {\n        children: \"Notifcation\"\n      })\n    }), notifications.map(notif => {\n      if (notif.type == \"follow\") {\n        return /*#__PURE__*/_jsxs(\"div\", {\n          className: Style.notif,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: Style.user,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: Style.userImageContainer,\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: notif.from.currentImageUrl\n              })\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: Style.text,\n            children: [/*#__PURE__*/_jsx(\"h2\", {\n              children: notif.from.userName\n            }), /*#__PURE__*/_jsx(\"p\", {\n              children: \"want to follow you\"\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: Style.btns,\n              children: [/*#__PURE__*/_jsx(\"button\", {\n                onClick: () => deniedfollowfn(notif.from._id, notif._id),\n                children: Loading == false ? /*#__PURE__*/_jsx(\"p\", {\n                  children: \"reject\"\n                }) : /*#__PURE__*/_jsxs(\"div\", {\n                  className: Style.ldsring,\n                  children: [/*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {})]\n                })\n              }), /*#__PURE__*/_jsx(\"button\", {\n                onClick: () => acceptfollowfn(notif.from._id, notif._id),\n                children: Loading == false ? /*#__PURE__*/_jsx(\"p\", {\n                  children: \"aprove\"\n                }) : /*#__PURE__*/_jsxs(\"div\", {\n                  className: Style.ldsring,\n                  children: [/*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {})]\n                })\n              })]\n            })]\n          })]\n        });\n      } else if (notif.type == \"follow directly\") {\n        return /*#__PURE__*/_jsxs(\"div\", {\n          className: Style.notif,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: Style.user,\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: Style.userImageContainer,\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: notif.from.currentImageUrl\n              })\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: Style.text,\n            children: [/*#__PURE__*/_jsx(\"h2\", {\n              children: notif.from.userName\n            }), /*#__PURE__*/_jsx(\"p\", {\n              children: \" followd you\"\n            })]\n          })]\n        });\n      }\n    })]\n  });\n};\n\nexport default notification;","map":null,"metadata":{},"sourceType":"module"}