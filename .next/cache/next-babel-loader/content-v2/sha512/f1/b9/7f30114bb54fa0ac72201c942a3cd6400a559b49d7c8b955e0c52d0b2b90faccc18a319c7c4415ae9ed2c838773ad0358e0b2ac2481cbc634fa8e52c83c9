{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"F:/AHKI/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"F:\\\\AHKI\\\\components\\\\heart\\\\heart.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Style from './heart.module.scss';\nimport { addLikeToPost, checklikeToPost, dislikePost } from '../../services/post_likes';\nimport { addLikeToImage, checklikeToImage, dislikeImage } from '../../services/imageLikes';\n\nvar heart = function heart(props) {\n  _s();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      clicked = _React$useState2[0],\n      setClicked = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (props.imgid != undefined) {\n      if (props.token != false) {\n        checklikeToImage({\n          imageid: props.imgid\n        }, props.token).then(function (result) {\n          if (result.data.data != null) {\n            setClicked(true);\n          } else {\n            setClicked(false);\n          }\n        })[\"catch\"](function (e) {\n          console.log(e);\n        });\n      }\n    } else {\n      if (props.token != false) {\n        checklikeToPost({\n          postid: props.postid\n        }, props.token).then(function (result) {\n          if (result.data.data != null) {\n            setClicked(true);\n          } else {\n            setClicked(false);\n          }\n        })[\"catch\"](function (e) {\n          console.log(e);\n        });\n      }\n    }\n  }, [props.imgid]); // badaltha kenet props khw ou ki keent props khw ay tabdila i awed ya3beth checklikedtoImage api\n\n  var sendLikeOrDislike = function sendLikeOrDislike() {\n    if (props.token != false) {\n      if (props.imgid != undefined) {\n        if (clicked == true) {\n          dislikeImage({\n            imageid: props.imgid\n          }, props.token).then(function (result) {\n            props.addLikeInTime(-1);\n            setClicked(false);\n          })[\"catch\"](function (e) {\n            console.log(e);\n          });\n        } else {\n          addLikeToImage({\n            imageid: props.imgid\n          }, props.token).then(function (result) {\n            props.addLikeInTime(1);\n            setClicked(true);\n          })[\"catch\"](function (e) {\n            console.log(e);\n          });\n        }\n      } else {\n        if (clicked == true) {\n          dislikePost({\n            postid: props.postid\n          }, props.token).then(function (result) {\n            props.addLikeInTime(-1);\n            setClicked(false);\n          })[\"catch\"](function (e) {\n            console.log(e);\n          });\n        } else {\n          addLikeToPost({\n            postid: props.postid\n          }, props.token).then(function (result) {\n            props.addLikeInTime(1);\n            setClicked(true);\n          })[\"catch\"](function (e) {\n            console.log(e);\n          });\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.heart,\n    style: {\n      backgroundColor: clicked == true ? \"#ff413f\" : \"#abb6bf\",\n      \"--clicked\": clicked ? \"#ff413f\" : \"#abb6bf\"\n    },\n    onClick: function onClick() {\n      return sendLikeOrDislike();\n    },\n    children: clicked && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.heartFaded,\n      style: {\n        backgroundColor: clicked == true ? \"#ff413f\" : \"#abb6bf\",\n        \"--clicked\": clicked ? \"#ff413f\" : \"#abb6bf\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 23\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(heart, \"5XbqcjdsRwGQXDk8h52Vo/7G4oE=\");\n\nexport default heart;","map":{"version":3,"sources":["F:/AHKI/components/heart/heart.js"],"names":["React","Style","addLikeToPost","checklikeToPost","dislikePost","addLikeToImage","checklikeToImage","dislikeImage","heart","props","useState","clicked","setClicked","useEffect","imgid","undefined","token","imageid","then","result","data","e","console","log","postid","sendLikeOrDislike","addLikeInTime","backgroundColor","heartFaded"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Style from './heart.module.scss'\r\nimport {addLikeToPost,checklikeToPost,dislikePost} from '../../services/post_likes'\r\nimport {addLikeToImage,checklikeToImage,dislikeImage} from '../../services/imageLikes'\r\nconst heart = (props) => {\r\n    const [clicked,setClicked]=React.useState(false)\r\n    React.useEffect(()=>{\r\n        if(props.imgid!=undefined){\r\n            if(props.token!=false){\r\n                checklikeToImage({imageid:props.imgid},props.token).then(result=>{\r\n                    if(result.data.data!=null){\r\n                        setClicked(true)\r\n                    }else{\r\n                        setClicked(false)\r\n                    }\r\n                }).catch(e=>{\r\n                    console.log(e)\r\n                })\r\n            }\r\n\r\n        }else{\r\n            if(props.token!=false){\r\n\r\n            checklikeToPost({postid:props.postid},props.token).then(result=>{\r\n                if(result.data.data!=null){\r\n                    \r\n                    setClicked(true)\r\n                }else{\r\n                    setClicked(false)\r\n                }\r\n            }).catch(e=>{\r\n                console.log(e)\r\n            })\r\n        }\r\n        }\r\n\r\n    },[props.imgid]) // badaltha kenet props khw ou ki keent props khw ay tabdila i awed ya3beth checklikedtoImage api\r\n\r\n    const sendLikeOrDislike=()=>{\r\n        if(props.token!=false){\r\n            if(props.imgid!=undefined){\r\n                if(clicked==true){\r\n    \r\n                    dislikeImage({imageid:props.imgid},props.token).then(result=>{\r\n                        props.addLikeInTime(-1)\r\n                        setClicked(false)\r\n                    }).catch(e=>{\r\n                        console.log(e)\r\n                    })\r\n                }else{\r\n                    addLikeToImage({imageid:props.imgid},props.token).then(result=>{\r\n                        props.addLikeInTime(1)\r\n                        setClicked(true)\r\n                    }).catch(e=>{\r\n                        console.log(e)\r\n                    })\r\n                } \r\n            }else{\r\n                if(clicked==true){\r\n                    dislikePost({postid:props.postid},props.token).then(result=>{\r\n                        props.addLikeInTime(-1)\r\n                        setClicked(false)\r\n                    }).catch(e=>{\r\n                        console.log(e)\r\n                    })\r\n                }else{\r\n                    addLikeToPost({postid:props.postid},props.token).then(result=>{\r\n                        props.addLikeInTime(1)\r\n                        setClicked(true)\r\n                    }).catch(e=>{\r\n                        console.log(e)\r\n                    })\r\n                }   \r\n            }\r\n    \r\n        }\r\n  \r\n\r\n    }\r\n    \r\n    return (\r\n        \r\n        <div className={Style.heart} style={{backgroundColor:clicked==true?\"#ff413f\":\"#abb6bf\",\"--clicked\":clicked?\"#ff413f\":\"#abb6bf\"}} onClick={()=>sendLikeOrDislike()}>\r\n            {clicked&&<div className={Style.heartFaded}  style={{backgroundColor:clicked==true?\"#ff413f\":\"#abb6bf\",\"--clicked\":clicked?\"#ff413f\":\"#abb6bf\"}} ></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default heart\r\n"]},"metadata":{},"sourceType":"module"}