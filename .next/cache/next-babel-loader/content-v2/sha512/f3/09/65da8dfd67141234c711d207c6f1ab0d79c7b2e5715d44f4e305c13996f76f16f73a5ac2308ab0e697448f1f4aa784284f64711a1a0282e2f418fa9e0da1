{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"F:\\\\AHKI\\\\components\\\\navBar\\\\NavBar.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from 'react';\nimport Style from './NavBar.module.scss';\nimport ModalSingInSingUp from '../modalSingInSingUp/ModalSingInSingUp';\nimport PorfileMenu from '../profileMenu/profileMenu';\nimport Link from 'next/link';\nimport UserContext from '../../context/userContext';\nimport SearchUser from '../../components/searchUser/searchUser';\nimport { useRouter } from 'next/router';\nimport Notification from '../../components/notification/notification';\nimport { getUnreadUsersChatsNumber } from '../../services/chat';\nimport socketContext from '../../context/socketContext';\nimport { GetOtherUsersData } from '../../services/user';\n\nconst NavBar = ({\n  token\n}) => {\n  const {\n    0: modalSingInSingUp,\n    1: setModalSingInSingUp\n  } = useState(false); //open modal\n\n  const [heightAndWidthOfWindow, setHeightAndWidthOfWindow] = React.useState({\n    width: '',\n    height: ''\n  }); //responsive handler\n\n  const {\n    0: openMenuProfileState,\n    1: setOpenMenuProfile\n  } = useState(false); //on hover profile pic open menu\n\n  const [disyplaySearch, setDisplaySearch] = React.useState({\n    state: false,\n    userName: \"\"\n  });\n  const [user, setUser] = React.useContext(UserContext);\n  const [numberOfChatsNotRead, setNumberOfChatsNotRead] = React.useState(0);\n  const [socket, setSocket] = React.useContext(socketContext);\n  const [popUpUser, setPopUpUser] = React.useState(null);\n  const [popUpNotif, setpopUpNotif] = React.useState(() => 0);\n  const router = useRouter();\n  React.useEffect(() => {\n    async function chatHandler(data) {\n      let audio = new Audio(\"./msgSound.mp3\");\n      audio.play();\n\n      if (router.pathname != \"/chat\") {\n        GetOtherUsersData(data.senderId, token).then(result => {\n          setPopUpUser(_objectSpread({}, result.data.data[0]));\n        }).catch(error => {\n          alert(error);\n        });\n      }\n    }\n\n    async function notifHandler(data) {\n      if (data.notif == 1) {\n        setpopUpNotif(e => e + 1);\n      }\n    }\n\n    if (socket != undefined && socket != null) {\n      socket.on(\"getMessageFromUserToUser\", chatHandler);\n      socket.on(\"getNotificationFromUserToUser\", notifHandler);\n    }\n\n    return () => {\n      if (socket != undefined && socket != null) {\n        socket.off('getMessageFromUserToUser', chatHandler);\n        socket.off('getNotificationFromUserToUser', notifHandler);\n      }\n    };\n  });\n  React.useEffect(() => {\n    if (token != undefined && token != null && token != false) {\n      setHeightAndWidthOfWindow({\n        height: window.innerHeight,\n        width: window.innerWidth\n      });\n      getUnreadUsersChatsNumber({}, token).then(data => {\n        setNumberOfChatsNotRead(data.data.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }, []);\n  const [openOrCloseNotif, setOpenOrCloseNotif] = React.useState(false);\n\n  const openMenuProfile = () => {\n    setOpenMenuProfile(true);\n  };\n\n  const closeMenuProfile = () => {\n    setOpenMenuProfile(false);\n  };\n\n  const openMenuProfileonClick = () => {\n    setOpenMenuProfile(e => !e);\n  };\n\n  const OpensearchUsers = e => {\n    setDisplaySearch({\n      state: true,\n      userName: \"\"\n    }); //\n  };\n\n  const SearchUserFn = e => {\n    setDisplaySearch({\n      state: true,\n      userName: e.target.value\n    });\n  };\n\n  const closeSearchUser = e => {\n    setTimeout(() => {\n      setDisplaySearch({\n        state: false,\n        userName: \"\"\n      });\n    }, 300);\n  };\n\n  const openOrCloseNotifications = () => {\n    setOpenOrCloseNotif(e => !e);\n  };\n\n  if (heightAndWidthOfWindow.width > heightAndWidthOfWindow.height) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.container,\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: Style.nav,\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          href: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.Logo,\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"SPAKSI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 64\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Search,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.flexItems,\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onBlur: () => closeSearchUser(),\n              onFocus: e => OpensearchUsers(e),\n              children: [disyplaySearch.state && /*#__PURE__*/_jsxDEV(SearchUser, {\n                token: token,\n                searchUserName: disyplaySearch.userName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 56\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"search\",\n                type: \"text\",\n                placeholder: \"Search accounts\",\n                autoComplete: \"off\",\n                onChange: e => SearchUserFn(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: Style.searchImg,\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"20\",\n                  height: \"20\",\n                  viewBox: \"0 0 28 38\",\n                  fill: \"black\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M27.6192 32.3156L22.1665 25.0378C21.9204 24.7094 21.5867 24.5269 21.2367 24.5269H20.3452C21.8547 21.9501 22.7517 18.709 22.7517 15.1833C22.7517 6.79599 17.6599 0 11.3758 0C5.09178 0 0 6.79599 0 15.1833C0 23.5706 5.09178 30.3666 11.3758 30.3666C14.0174 30.3666 16.4457 29.1695 18.3763 27.1547V28.3446C18.3763 28.8118 18.5131 29.2571 18.7592 29.5855L24.2119 36.8633C24.726 37.5495 25.5573 37.5495 26.066 36.8633L27.6137 34.7975C28.1278 34.1113 28.1278 33.0018 27.6192 32.3156ZM11.3758 24.5269C7.50914 24.5269 4.37532 20.3515 4.37532 15.1833C4.37532 10.0224 7.50367 5.83973 11.3758 5.83973C15.2425 5.83973 18.3763 10.0151 18.3763 15.1833C18.3763 20.3442 15.248 24.5269 11.3758 24.5269Z\",\n                    fill: \"black\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), token && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.authenticated,\n          children: [/*#__PURE__*/_jsxDEV(Chat, {\n            popUpUser: popUpUser,\n            numberOfChatsNotRead: numberOfChatsNotRead\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.notification,\n            onClick: () => openOrCloseNotifications(),\n            children: [openOrCloseNotif && /*#__PURE__*/_jsxDEV(Notification, {\n              token: token\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 48\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.numberOfNotificationNotReadlocal,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: popUpNotif\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 85\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"25\",\n              height: \"25\",\n              viewBox: \"0 0 50 50\",\n              fill: \"black\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M43.75 0H6.25C2.80273 0 0 2.80273 0 6.25V34.375C0 37.8223 2.80273 40.625 6.25 40.625H15.625V48.8281C15.625 49.5215 16.1914 50 16.7969 50C17.0312 50 17.2754 49.9316 17.4902 49.7656L29.6875 40.625H43.75C47.1973 40.625 50 37.8223 50 34.375V6.25C50 2.80273 47.1973 0 43.75 0ZM45.3125 34.375C45.3125 35.2344 44.6094 35.9375 43.75 35.9375H28.125L26.875 36.875L20.3125 41.7969V35.9375H6.25C5.39062 35.9375 4.6875 35.2344 4.6875 34.375V6.25C4.6875 5.39062 5.39062 4.6875 6.25 4.6875H43.75C44.6094 4.6875 45.3125 5.39062 45.3125 6.25V34.375Z\",\n                fill: \"black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.profile,\n            onClick: () => openMenuProfileonClick(),\n            onMouseLeave: () => closeMenuProfile(),\n            onMouseEnter: () => openMenuProfile(),\n            children: [user != null && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.navBarImageContainer,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: user.currentImageUrl || \"/avatar.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 237\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 193\n            }, this), openMenuProfileState && /*#__PURE__*/_jsxDEV(PorfileMenu, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 321\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 31\n        }, this), !token && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Nonauthenticated,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/signin\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Log In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this);\n  } else\n    /*mobile */\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.container,\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: Style.nav,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Search,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.flexItems,\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onBlur: () => closeSearchUser(),\n              onFocus: e => OpensearchUsers(e),\n              children: [disyplaySearch.state && /*#__PURE__*/_jsxDEV(SearchUser, {\n                token: token,\n                searchUserName: disyplaySearch.userName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 56\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"search\",\n                type: \"text\",\n                autoComplete: \"off\",\n                placeholder: \"Search accounts\",\n                onChange: e => SearchUserFn(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: Style.searchImg,\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"20\",\n                  height: \"20\",\n                  viewBox: \"0 0 28 38\",\n                  fill: \"black\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M27.6192 32.3156L22.1665 25.0378C21.9204 24.7094 21.5867 24.5269 21.2367 24.5269H20.3452C21.8547 21.9501 22.7517 18.709 22.7517 15.1833C22.7517 6.79599 17.6599 0 11.3758 0C5.09178 0 0 6.79599 0 15.1833C0 23.5706 5.09178 30.3666 11.3758 30.3666C14.0174 30.3666 16.4457 29.1695 18.3763 27.1547V28.3446C18.3763 28.8118 18.5131 29.2571 18.7592 29.5855L24.2119 36.8633C24.726 37.5495 25.5573 37.5495 26.066 36.8633L27.6137 34.7975C28.1278 34.1113 28.1278 33.0018 27.6192 32.3156ZM11.3758 24.5269C7.50914 24.5269 4.37532 20.3515 4.37532 15.1833C4.37532 10.0224 7.50367 5.83973 11.3758 5.83973C15.2425 5.83973 18.3763 10.0151 18.3763 15.1833C18.3763 20.3442 15.248 24.5269 11.3758 24.5269Z\",\n                    fill: \"#1876f3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), token && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.authenticated,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.notification,\n            onClick: () => openOrCloseNotifications(),\n            children: [openOrCloseNotif && /*#__PURE__*/_jsxDEV(Notification, {\n              token: token\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 44\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"35\",\n              height: \"35\",\n              viewBox: \"0 0 50 50\",\n              fill: \"black\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M43.75 0H6.25C2.80273 0 0 2.80273 0 6.25V34.375C0 37.8223 2.80273 40.625 6.25 40.625H15.625V48.8281C15.625 49.5215 16.1914 50 16.7969 50C17.0312 50 17.2754 49.9316 17.4902 49.7656L29.6875 40.625H43.75C47.1973 40.625 50 37.8223 50 34.375V6.25C50 2.80273 47.1973 0 43.75 0ZM45.3125 34.375C45.3125 35.2344 44.6094 35.9375 43.75 35.9375H28.125L26.875 36.875L20.3125 41.7969V35.9375H6.25C5.39062 35.9375 4.6875 35.2344 4.6875 34.375V6.25C4.6875 5.39062 5.39062 4.6875 6.25 4.6875H43.75C44.6094 4.6875 45.3125 5.39062 45.3125 6.25V34.375Z\",\n                fill: \"black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.profile,\n            onClick: () => openMenuProfileonClick(),\n            onMouseLeave: () => closeMenuProfile(),\n            onMouseEnter: () => openMenuProfile(),\n            children: [openMenuProfileState && /*#__PURE__*/_jsxDEV(PorfileMenu, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 197\n            }, this), \" \", user != null && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.navBarImageContainer,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: user.currentImageUrl || \"/avatar.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 287\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 243\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 31\n        }, this), !token && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Nonauthenticated,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/signin\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Log In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 57\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this);\n};\n\nexport default NavBar;\n\nconst Chat = props => {\n  const [numberOfChatsNotReadlocal, setNumberOfChatsNotRead] = React.useState(0);\n  const [userWhoSentYouImage, setUserWhoSentYouImage] = React.useState(null);\n  React.useEffect(() => {\n    setNumberOfChatsNotRead(props.numberOfChatsNotRead);\n  }, [props.numberOfChatsNotRead]);\n  React.useEffect(() => {\n    if (props.popUpUser != undefined) {\n      setTimeout(() => {\n        setUserWhoSentYouImage(null);\n      }, 2000);\n      setUserWhoSentYouImage(props.popUpUser.currentImageUrl);\n    }\n  }, [props]);\n  return /*#__PURE__*/_jsxDEV(Link, {\n    href: \"/chat\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.chatSvg,\n      children: [userWhoSentYouImage != null && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.showTemImageOfUserWhoSentYouMessage,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: userWhoSentYouImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 96\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.numberOfChatsNotReadlocal,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: numberOfChatsNotReadlocal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 58\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"10\",\n        height: \"10\",\n        viewBox: \"0 0 90.011% 90%\",\n        fill: \"black\",\n        transform: \"rotate(-45)\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M438.731,209.463l-416-192c-6.624-3.008-14.528-1.216-19.136,4.48c-4.64,5.696-4.8,13.792-0.384,19.648l136.8,182.4    l-136.8,182.4c-4.416,5.856-4.256,13.984,0.352,19.648c3.104,3.872,7.744,5.952,12.448,5.952c2.272,0,4.544-0.48,6.688-1.472    l416-192c5.696-2.624,9.312-8.288,9.312-14.528S444.395,212.087,438.731,209.463z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 31\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 12\n  }, this);\n};","map":{"version":3,"sources":["F:/AHKI/components/navBar/NavBar.js"],"names":["React","useState","Style","ModalSingInSingUp","PorfileMenu","Link","UserContext","SearchUser","useRouter","Notification","getUnreadUsersChatsNumber","socketContext","GetOtherUsersData","NavBar","token","modalSingInSingUp","setModalSingInSingUp","heightAndWidthOfWindow","setHeightAndWidthOfWindow","width","height","openMenuProfileState","setOpenMenuProfile","disyplaySearch","setDisplaySearch","state","userName","user","setUser","useContext","numberOfChatsNotRead","setNumberOfChatsNotRead","socket","setSocket","popUpUser","setPopUpUser","popUpNotif","setpopUpNotif","router","useEffect","chatHandler","data","audio","Audio","play","pathname","senderId","then","result","catch","error","alert","notifHandler","notif","e","undefined","on","off","window","innerHeight","innerWidth","console","log","openOrCloseNotif","setOpenOrCloseNotif","openMenuProfile","closeMenuProfile","openMenuProfileonClick","OpensearchUsers","SearchUserFn","target","value","closeSearchUser","setTimeout","openOrCloseNotifications","container","nav","Logo","Search","flexItems","searchImg","authenticated","notification","numberOfNotificationNotReadlocal","profile","navBarImageContainer","currentImageUrl","Nonauthenticated","Chat","props","numberOfChatsNotReadlocal","userWhoSentYouImage","setUserWhoSentYouImage","chatSvg","showTemImageOfUserWhoSentYouMessage"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport Style from './NavBar.module.scss'\r\nimport ModalSingInSingUp from '../modalSingInSingUp/ModalSingInSingUp'\r\nimport PorfileMenu from '../profileMenu/profileMenu'\r\nimport Link from 'next/link'\r\nimport UserContext from '../../context/userContext'\r\nimport SearchUser from '../../components/searchUser/searchUser'\r\nimport { useRouter } from 'next/router'\r\nimport Notification from '../../components/notification/notification'\r\nimport {getUnreadUsersChatsNumber} from '../../services/chat'\r\nimport socketContext from '../../context/socketContext'\r\nimport {GetOtherUsersData} from '../../services/user'\r\n\r\nconst NavBar = ({ token }) => {\r\n    const [modalSingInSingUp, setModalSingInSingUp] = useState(false)//open modal\r\n    const [heightAndWidthOfWindow, setHeightAndWidthOfWindow] = React.useState({ width: '', height: '' })//responsive handler\r\n    const [openMenuProfileState, setOpenMenuProfile] = useState(false)//on hover profile pic open menu\r\n    const [disyplaySearch,setDisplaySearch]=React.useState({state:false,userName:\"\"})\r\n    const [user, setUser]= React.useContext(UserContext)\r\n    const [numberOfChatsNotRead,setNumberOfChatsNotRead]=React.useState(0)\r\n    const [socket,setSocket]=React.useContext(socketContext)\r\n    const [popUpUser,setPopUpUser]=React.useState(null)\r\n    const [popUpNotif,setpopUpNotif]=React.useState(()=>0)\r\n\r\n    const router = useRouter()\r\n\r\n    React.useEffect(()=>{\r\n\r\n        async  function  chatHandler(data){\r\n            let audio = new Audio(\"./msgSound.mp3\")\r\n            audio.play()\r\n            if(router.pathname!=\"/chat\"){\r\n                GetOtherUsersData(data.senderId,token).then(result=>{\r\n                    setPopUpUser({...result.data.data[0]})\r\n                }).catch(error=>{\r\n                    alert(error)\r\n                })\r\n            }\r\n        }\r\n        async function  notifHandler(data){\r\n            if(data.notif==1){\r\n                setpopUpNotif(e=>e+1)\r\n            }\r\n        }\r\n        if(socket!=undefined && socket!=null){\r\n        socket.on(\"getMessageFromUserToUser\",chatHandler)\r\n        socket.on(\"getNotificationFromUserToUser\",notifHandler)\r\n          }\r\n          return () => {\r\n            if(socket!=undefined && socket!=null){\r\n                socket.off('getMessageFromUserToUser', chatHandler);\r\n                socket.off('getNotificationFromUserToUser', notifHandler);\r\n\r\n            }\r\n          }\r\n      })\r\n\r\n\r\n    React.useEffect(() => { \r\n        if(token!=undefined && token!=null && token!=false){\r\n            setHeightAndWidthOfWindow({ height: window.innerHeight, width: window.innerWidth }) \r\n            getUnreadUsersChatsNumber({},token).then(data=>{\r\n                setNumberOfChatsNotRead(data.data.data)\r\n            }).catch(error=>{\r\n                console.log(error)\r\n            })\r\n        }\r\n\r\n    }, []);\r\n    const [openOrCloseNotif,setOpenOrCloseNotif]=React.useState(false)\r\n    const openMenuProfile = () => { setOpenMenuProfile(true) }\r\n    const closeMenuProfile = () => { setOpenMenuProfile(false) }\r\n\r\n    const openMenuProfileonClick = () => { setOpenMenuProfile(e => !e) }\r\n    \r\n    const OpensearchUsers=(e)=>{\r\n        setDisplaySearch({state:true,userName:\"\"})\r\n        //\r\n    }\r\n    const SearchUserFn=(e)=>{\r\n        setDisplaySearch({state:true,userName:e.target.value})\r\n\r\n    }\r\n    const closeSearchUser=(e)=>{\r\n        setTimeout(() => {\r\n            setDisplaySearch({state:false,userName:\"\"})\r\n\r\n        }, 300);\r\n    }\r\n    const openOrCloseNotifications=()=>{\r\n        setOpenOrCloseNotif(e=>!e)\r\n    }\r\n    if (heightAndWidthOfWindow.width > heightAndWidthOfWindow.height) {\r\n        return (\r\n            <div className={Style.container}>\r\n                <nav className={Style.nav}>\r\n                    <Link href=\"/\"><div className={Style.Logo}><h1>SPAKSI</h1></div></Link>\r\n\r\n                    <div className={Style.Search}>\r\n                        <div className={Style.flexItems}>\r\n                            <form onBlur={()=>closeSearchUser()} onFocus={(e)=>OpensearchUsers(e)}>\r\n                                {disyplaySearch.state&&<SearchUser token={token} searchUserName={disyplaySearch.userName}></SearchUser>}\r\n                                <input name=\"search\" type=\"text\" placeholder=\"Search accounts\" autoComplete=\"off\"  onChange={(e)=>SearchUserFn(e)} ></input>\r\n                                <span></span>\r\n                                <div className={Style.searchImg}>\r\n                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 28 38\" fill=\"black\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path d=\"M27.6192 32.3156L22.1665 25.0378C21.9204 24.7094 21.5867 24.5269 21.2367 24.5269H20.3452C21.8547 21.9501 22.7517 18.709 22.7517 15.1833C22.7517 6.79599 17.6599 0 11.3758 0C5.09178 0 0 6.79599 0 15.1833C0 23.5706 5.09178 30.3666 11.3758 30.3666C14.0174 30.3666 16.4457 29.1695 18.3763 27.1547V28.3446C18.3763 28.8118 18.5131 29.2571 18.7592 29.5855L24.2119 36.8633C24.726 37.5495 25.5573 37.5495 26.066 36.8633L27.6137 34.7975C28.1278 34.1113 28.1278 33.0018 27.6192 32.3156ZM11.3758 24.5269C7.50914 24.5269 4.37532 20.3515 4.37532 15.1833C4.37532 10.0224 7.50367 5.83973 11.3758 5.83973C15.2425 5.83973 18.3763 10.0151 18.3763 15.1833C18.3763 20.3442 15.248 24.5269 11.3758 24.5269Z\" fill=\"black\" />\r\n                                    </svg>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    {token && <div className={Style.authenticated}>\r\n                    <Chat popUpUser={popUpUser} numberOfChatsNotRead={numberOfChatsNotRead}></Chat>\r\n\r\n                        <div className={Style.notification} onClick={()=>openOrCloseNotifications()}>\r\n                            {openOrCloseNotif&&<Notification token={token}></Notification>}\r\n                            <div className={Style.numberOfNotificationNotReadlocal}><span>{popUpNotif}</span></div>\r\n                            <svg width=\"25\" height=\"25\" viewBox=\"0 0 50 50\" fill=\"black\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M43.75 0H6.25C2.80273 0 0 2.80273 0 6.25V34.375C0 37.8223 2.80273 40.625 6.25 40.625H15.625V48.8281C15.625 49.5215 16.1914 50 16.7969 50C17.0312 50 17.2754 49.9316 17.4902 49.7656L29.6875 40.625H43.75C47.1973 40.625 50 37.8223 50 34.375V6.25C50 2.80273 47.1973 0 43.75 0ZM45.3125 34.375C45.3125 35.2344 44.6094 35.9375 43.75 35.9375H28.125L26.875 36.875L20.3125 41.7969V35.9375H6.25C5.39062 35.9375 4.6875 35.2344 4.6875 34.375V6.25C4.6875 5.39062 5.39062 4.6875 6.25 4.6875H43.75C44.6094 4.6875 45.3125 5.39062 45.3125 6.25V34.375Z\" fill=\"black\" />\r\n                            </svg>\r\n                        </div>\r\n\r\n                        <div className={Style.profile} onClick={() => openMenuProfileonClick()} onMouseLeave={() => closeMenuProfile()} onMouseEnter={() => openMenuProfile()}>{user != null && <div className={Style.navBarImageContainer}><img src={user.currentImageUrl  || \"/avatar.png\"} /></div>}{openMenuProfileState && <PorfileMenu></PorfileMenu>}</div>\r\n                    </div>}\r\n                    {!token && <div className={Style.Nonauthenticated}>\r\n                    <Link href={\"/signin\"}><button ><p>Log In</p></button></Link> \r\n                    </div>\r\n                    }\r\n                </nav>\r\n            </div>\r\n        )\r\n    } else\r\n        /*mobile */\r\n        return (\r\n            <div className={Style.container}>\r\n                <nav className={Style.nav}>\r\n                    <div className={Style.Search}>\r\n                        <div className={Style.flexItems}>\r\n                            <form onBlur={()=>closeSearchUser()} onFocus={(e)=>OpensearchUsers(e)}>\r\n                                {disyplaySearch.state&&<SearchUser token={token} searchUserName={disyplaySearch.userName}></SearchUser>}\r\n                                <input name=\"search\" type=\"text\" autoComplete=\"off\" placeholder=\"Search accounts\"  onChange={(e)=>SearchUserFn(e)}></input>\r\n                                <span></span>\r\n                                <div className={Style.searchImg}>\r\n                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 28 38\" fill=\"black\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path d=\"M27.6192 32.3156L22.1665 25.0378C21.9204 24.7094 21.5867 24.5269 21.2367 24.5269H20.3452C21.8547 21.9501 22.7517 18.709 22.7517 15.1833C22.7517 6.79599 17.6599 0 11.3758 0C5.09178 0 0 6.79599 0 15.1833C0 23.5706 5.09178 30.3666 11.3758 30.3666C14.0174 30.3666 16.4457 29.1695 18.3763 27.1547V28.3446C18.3763 28.8118 18.5131 29.2571 18.7592 29.5855L24.2119 36.8633C24.726 37.5495 25.5573 37.5495 26.066 36.8633L27.6137 34.7975C28.1278 34.1113 28.1278 33.0018 27.6192 32.3156ZM11.3758 24.5269C7.50914 24.5269 4.37532 20.3515 4.37532 15.1833C4.37532 10.0224 7.50367 5.83973 11.3758 5.83973C15.2425 5.83973 18.3763 10.0151 18.3763 15.1833C18.3763 20.3442 15.248 24.5269 11.3758 24.5269Z\" fill=\"#1876f3\" />\r\n                                    </svg>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    {token && <div className={Style.authenticated}>\r\n                        <div className={Style.notification} onClick={()=>openOrCloseNotifications()}>\r\n                        {openOrCloseNotif&&<Notification token={token}></Notification>}\r\n\r\n                            <svg width=\"35\" height=\"35\" viewBox=\"0 0 50 50\" fill=\"black\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M43.75 0H6.25C2.80273 0 0 2.80273 0 6.25V34.375C0 37.8223 2.80273 40.625 6.25 40.625H15.625V48.8281C15.625 49.5215 16.1914 50 16.7969 50C17.0312 50 17.2754 49.9316 17.4902 49.7656L29.6875 40.625H43.75C47.1973 40.625 50 37.8223 50 34.375V6.25C50 2.80273 47.1973 0 43.75 0ZM45.3125 34.375C45.3125 35.2344 44.6094 35.9375 43.75 35.9375H28.125L26.875 36.875L20.3125 41.7969V35.9375H6.25C5.39062 35.9375 4.6875 35.2344 4.6875 34.375V6.25C4.6875 5.39062 5.39062 4.6875 6.25 4.6875H43.75C44.6094 4.6875 45.3125 5.39062 45.3125 6.25V34.375Z\" fill=\"black\" />\r\n                            </svg>\r\n                        </div>\r\n                    <div className={Style.profile} onClick={() => openMenuProfileonClick()} onMouseLeave={() => closeMenuProfile()} onMouseEnter={() => openMenuProfile()}>{openMenuProfileState && <PorfileMenu></PorfileMenu>} {user != null && <div className={Style.navBarImageContainer}><img src={user.currentImageUrl || \"/avatar.png\"} /></div>}</div>\r\n                    </div>}\r\n                    {!token && <div className={Style.Nonauthenticated}>\r\n                        <Link href={\"/signin\"}><button ><p>Log In</p></button></Link> \r\n\r\n\r\n                    </div>}\r\n                </nav>\r\n            </div>\r\n        )\r\n\r\n}\r\nexport default NavBar\r\n\r\n\r\nconst Chat=(props)=>{\r\n    const [numberOfChatsNotReadlocal,setNumberOfChatsNotRead]=React.useState(0)\r\n    const [userWhoSentYouImage,setUserWhoSentYouImage]=React.useState(null)\r\n    React.useEffect(()=>{\r\n        setNumberOfChatsNotRead(props.numberOfChatsNotRead)\r\n    },[props.numberOfChatsNotRead])\r\n    React.useEffect(()=>{\r\n        if(props.popUpUser!=undefined){\r\n            setTimeout(() => {\r\n                setUserWhoSentYouImage(null)\r\n            }, 2000);\r\n            setUserWhoSentYouImage(props.popUpUser.currentImageUrl)\r\n\r\n        }\r\n      \r\n    },[props])\r\n    return(<Link href=\"/chat\"><div className={Style.chatSvg}>\r\n        {userWhoSentYouImage!=null&&<div className={Style.showTemImageOfUserWhoSentYouMessage}><img src={userWhoSentYouImage}/></div>}\r\n        <div className={Style.numberOfChatsNotReadlocal}><span>{numberOfChatsNotReadlocal}</span></div>\r\n        <svg width=\"10\" height=\"10\" viewBox=\"0 0 90.011% 90%\" fill=\"black\"  transform=\"rotate(-45)\" xmlns=\"http://www.w3.org/2000/svg\"  >\r\n       \r\n              \r\n                    <path d=\"M438.731,209.463l-416-192c-6.624-3.008-14.528-1.216-19.136,4.48c-4.64,5.696-4.8,13.792-0.384,19.648l136.8,182.4    l-136.8,182.4c-4.416,5.856-4.256,13.984,0.352,19.648c3.104,3.872,7.744,5.952,12.448,5.952c2.272,0,4.544-0.48,6.688-1.472    l416-192c5.696-2.624,9.312-8.288,9.312-14.528S444.395,212.087,438.731,209.463z\"/>\r\n       \r\n        </svg>\r\n</div>\r\n        </Link>\r\n    )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}