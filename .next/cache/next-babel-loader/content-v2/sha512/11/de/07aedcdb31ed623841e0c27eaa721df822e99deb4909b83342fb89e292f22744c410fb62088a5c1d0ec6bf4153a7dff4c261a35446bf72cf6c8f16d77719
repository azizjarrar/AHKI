{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"F:/AHKI/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"F:/AHKI/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"F:/AHKI/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"F:\\\\AHKI\\\\components\\\\biggerImagewithcomments\\\\biggerImagewithcomments.js\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport Style from './biggerImagewithcomments.module.scss';\nimport { getImageData } from '../../services/images';\nimport Heart from '../../components/heart/heart';\nimport userContext from '../../context/userContext';\nimport { Picker, Emoji } from 'emoji-mart';\nimport 'emoji-mart/css/emoji-mart.css';\nimport LanguageContext from '../../context/languageContext';\nimport { addCommentToImage, getCommentsImage, countComments } from '../../services/imageComments';\nimport { countImageLikes } from '../../services/imageLikes';\nimport { deleteImage } from '../../services/images';\nimport Comment from '../comment/comment';\nimport ShowLikesUserNames from '../showLikesUserNames/showLikesUserNames';\nimport PopUpMessage from '../../components/popUpMessage/popUpMessage';\n\nvar biggerImagewithcomments = function biggerImagewithcomments(props) {\n  _s();\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      currentimage = _React$useState2[0],\n      setCurrentimage = _React$useState2[1]; // has the data of the current image\n\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      nextimage = _React$useState4[0],\n      setNextimage = _React$useState4[1]; // has id of next image\n\n\n  var _React$useState5 = React.useState(),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      previmage = _React$useState6[0],\n      setPrevimage = _React$useState6[1]; //has id fo prev image\n\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      comments = _React$useState8[0],\n      setComments = _React$useState8[1]; //open or close comments\n\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      imageLoading = _React$useState10[0],\n      setimageLoading = _React$useState10[1];\n\n  var _React$useState11 = React.useState(0),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      likesNumber = _React$useState12[0],\n      setLikesNumber = _React$useState12[1];\n\n  var _React$useState13 = React.useState(0),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      coummentNumber = _React$useState14[0],\n      setCoummentNumber = _React$useState14[1];\n\n  var _React$useState15 = React.useState({\n    userData: {\n      currentImageUrl: \"\",\n      userName: \"\"\n    }\n  }),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      setOwnerOfImageData = _React$useState16[0],\n      setSetOwnerOfImageData = _React$useState16[1];\n\n  var _React$useContext = React.useContext(userContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      user = _React$useContext2[0],\n      setUser = _React$useContext2[1]; //user data\n\n\n  var _React$useState17 = React.useState(\"\"),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      textAreaData = _React$useState18[0],\n      setTextAreaData = _React$useState18[1]; // text area for add comment\n\n\n  var _React$useState19 = React.useState(0),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      countLettres = _React$useState20[0],\n      setCountLettres = _React$useState20[1]; // count how many lettre in text area\n\n\n  var _React$useState21 = React.useState(false),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      closeOrOpenEmojiPickerState = _React$useState22[0],\n      setcloseOrOpenEmojiPickerState = _React$useState22[1]; //emoji handler\n\n\n  var _React$useContext3 = React.useContext(LanguageContext),\n      _React$useContext4 = _slicedToArray(_React$useContext3, 2),\n      language = _React$useContext4[0],\n      setLanguage = _React$useContext4[1];\n\n  var _React$useState23 = React.useState(0),\n      _React$useState24 = _slicedToArray(_React$useState23, 2),\n      skip = _React$useState24[0],\n      setSkip = _React$useState24[1]; //fetch data with skip\n\n\n  var _React$useState25 = React.useState([]),\n      _React$useState26 = _slicedToArray(_React$useState25, 2),\n      commentsData = _React$useState26[0],\n      setCommentsData = _React$useState26[1]; //comments Container\n\n\n  var _React$useState27 = React.useState(0),\n      _React$useState28 = _slicedToArray(_React$useState27, 2),\n      addsOneToCommentCount = _React$useState28[0],\n      setaddOneToCommentCount = _React$useState28[1]; //when add comment automaticly add + to old one\n\n\n  var _React$useState29 = React.useState(false),\n      _React$useState30 = _slicedToArray(_React$useState29, 2),\n      moreComments = _React$useState30[0],\n      setMoreComments = _React$useState30[1]; //show more comment fetch  with 3 by 3\n\n\n  var _React$useState31 = React.useState(false),\n      _React$useState32 = _slicedToArray(_React$useState31, 2),\n      likesModal = _React$useState32[0],\n      setLikesModal = _React$useState32[1]; // show modal has all the name of who put like\n\n\n  var _React$useState33 = React.useState({\n    state: false,\n    firstClick: false\n  }),\n      _React$useState34 = _slicedToArray(_React$useState33, 2),\n      settings = _React$useState34[0],\n      setSettings = _React$useState34[1]; //show settings on click on 3 dots ...\n\n  /*************************************************************/\n\n  /*********************use effects*****************************/\n\n  /*************************************************************/\n\n\n  React.useState(function () {\n    /*he i fetch cureent img data and the next and prev image id */\n    setimageLoading(true);\n    getImageData({\n      currentImgId: props.imgid,\n      userid: props.userid\n    }, props.token).then(function (result) {\n      setimageLoading(false);\n      setSetOwnerOfImageData(result.data);\n      setCurrentimage(function (e) {\n        return _objectSpread({}, result.data.currentimage);\n      });\n      setNextimage(function (e) {\n        return _objectSpread({}, result.data.nextimage);\n      });\n      setPrevimage(function (e) {\n        return _objectSpread({}, result.data.previmage);\n      });\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  }, []);\n  /*calc textArea length */\n\n  React.useEffect(function () {\n    setCountLettres(textAreaData.length);\n  }, [textAreaData]); //when i change image fetch ne data of the current image\n\n  React.useEffect(function () {\n    setCommentsData([]);\n    setSkip(0);\n    setComments(false);\n    countImageLikes({\n      imageid: currentimage._id || props.imgid\n    }, props.token).then(function (result) {\n      setLikesNumber(result.data.count);\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n\n    if (currentimage._id != undefined) {\n      getCommentsImage({\n        imageid: currentimage._id || props.imgid,\n        skip: 0\n      }, user.token).then(function (result) {\n        setComments(true);\n\n        if (result.data.data.length > 0) {\n          setMoreComments(true);\n        } else {\n          setMoreComments(false);\n        }\n\n        setCommentsData(function (e) {\n          return [].concat(_toConsumableArray(e), _toConsumableArray(result.data.data));\n        });\n      })[\"catch\"](function (error) {\n        alert(error);\n      });\n      countComments({\n        imageid: currentimage._id || props.imgid,\n        skip: 0\n      }, user.token).then(function (result) {\n        setCoummentNumber(result.data.count);\n      })[\"catch\"](function (error) {\n        alert(error);\n      });\n    }\n  }, [currentimage._id]); //hedhi kenet t3awed tfetchi\n  //when i click load more comments get 3 new comment evry time\n\n  React.useEffect(function () {\n    if (skip != 0) {\n      getCommentsImage({\n        imageid: currentimage._id || props.imgid,\n        skip: skip\n      }, user.token).then(function (result) {\n        if (result.data.data.length > 0) {\n          setMoreComments(true);\n        } else {\n          setMoreComments(false);\n        }\n\n        setCommentsData(function (e) {\n          return [].concat(_toConsumableArray(e), _toConsumableArray(result.data.data));\n        });\n      })[\"catch\"](function (error) {\n        alert(error);\n      });\n    }\n  }, [skip]);\n\n  var LoadMoreComments = function LoadMoreComments() {\n    setSkip(function (e) {\n      return e + 3;\n    });\n  };\n  /* go to prev image */\n\n\n  var goPrev = function goPrev() {\n    setimageLoading(true);\n    getImageData({\n      currentImgId: previmage._id,\n      userid: props.userid\n    }, props.token).then(function (result) {\n      setimageLoading(false);\n      setCurrentimage(function (e) {\n        return _objectSpread(_objectSpread({}, e), result.data.currentimage);\n      });\n      setNextimage(function (e) {\n        return _objectSpread({}, result.data.nextimage);\n      });\n      setPrevimage(function (e) {\n        return _objectSpread({}, result.data.previmage);\n      });\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  }; // go to next image\n\n\n  var gonext = function gonext() {\n    setimageLoading(true);\n    getImageData({\n      currentImgId: nextimage._id,\n      userid: props.userid\n    }, props.token).then(function (result) {\n      setimageLoading(false);\n      setCurrentimage(function (e) {\n        return _objectSpread(_objectSpread({}, e), result.data.currentimage);\n      });\n      setNextimage(function (e) {\n        return _objectSpread({}, result.data.nextimage);\n      });\n      setPrevimage(function (e) {\n        return _objectSpread({}, result.data.previmage);\n      });\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n  /* set the height of text area and when text get bigger textarea get biiger with it */\n\n\n  var textAreaHolder = function textAreaHolder(e) {\n    e.target.style.height = \"16px\";\n    e.target.style.height = e.target.scrollHeight + \"px\"; //only take 200 char\n\n    setTextAreaData(function (el) {\n      if (el.length <= 200) {\n        return e.target.value;\n      } else {\n        return el.slice(0, 200);\n      }\n    });\n  };\n  /* close emoji comp */\n\n\n  var closeOrOpenEmojiPicker = function closeOrOpenEmojiPicker() {\n    setcloseOrOpenEmojiPickerState(function (e) {\n      return !e;\n    });\n  }; //add commnent\n\n\n  var AddComment = function AddComment() {\n    addCommentToImage({\n      imageid: currentimage._id,\n      commentText: textAreaData\n    }, user.token).then(function (result) {\n      setCommentsData(function (e) {\n        return [_objectSpread(_objectSpread({}, result.data.data), {}, {\n          commentOwner: {\n            userName: user.userName,\n            currentImageUrl: user.currentImageUrl,\n            _id: user._id\n          }\n        })].concat(_toConsumableArray(e));\n      });\n      setComments(true);\n      setaddOneToCommentCount(function (e) {\n        return e + 1;\n      });\n      setTextAreaData(\"\");\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  }; //add emojo to textarea\n\n\n  var addEmoji = function addEmoji(e) {\n    var sym = e.unified.split('-');\n    var codesArray = [];\n    sym.forEach(function (el) {\n      return codesArray.push('0x' + el);\n    });\n    var emoji = String.fromCodePoint.apply(String, codesArray);\n    setTextAreaData(function (el) {\n      if (el.length <= 200) {\n        return el + emoji;\n      } else {\n        return el.slice(0, 200);\n      }\n    });\n  }; // open or close comments\n\n\n  var openComments = function openComments() {\n    setComments(function (e) {\n      return !e;\n    });\n  }; //when you like image it will add in time to numbers of likes\n\n\n  var _addLikeInTime = function addLikeInTime(newLikesNumber) {\n    setLikesNumber(function (e) {\n      return e + newLikesNumber;\n    });\n  }; // show usernames of people who liked image\n\n\n  var openshowLikesUserNames = function openshowLikesUserNames() {\n    setLikesModal(function (e) {\n      return !e;\n    });\n  }; //show settings delete report \n\n\n  var ShowSettings = function ShowSettings() {\n    if (settings.firstClick != true) {\n      setSettings({\n        state: true,\n        firstClick: true\n      });\n    }\n  }; // close settings componnent\n\n\n  var closeComponenet = function closeComponenet() {\n    setSettings({\n      state: false,\n      firstClick: false\n    });\n  };\n\n  var deleteCommentInCurrentTimefn = function deleteCommentInCurrentTimefn(commentIdDeleted) {\n    setCommentsData(function (arrayOfComment) {\n      return _toConsumableArray(arrayOfComment.filter(function (e) {\n        return e._id != commentIdDeleted;\n      }));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.container,\n    children: [likesModal && /*#__PURE__*/_jsxDEV(ShowLikesUserNames, {\n      closepopUp: openshowLikesUserNames,\n      imgid: currentimage._id || props.imgid\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 26\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.closeBtn,\n      onClick: function onClick() {\n        return props.close();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.imageContainer,\n      children: [imageLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.loadingAnimation,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.ldsring,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 103\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 114\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 125\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 136\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 72\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 32\n      }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: currentimage.imageUrl || \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, _this), previmage != undefined && previmage._id != undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\".concat(Style.SwitchImage, \" \").concat(Style.left),\n        onClick: function onClick() {\n          return goPrev();\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u2039\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 153\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 74\n      }, _this), nextimage != undefined && nextimage._id != undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\".concat(Style.SwitchImage, \" \").concat(Style.Right),\n        onClick: function onClick() {\n          return gonext();\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u203A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 154\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 74\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.commentsContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.imageOwnerAndNameAndDateAndParams,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.imageContainerForUserCommentsSection,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: setOwnerOfImageData.userData.currentImageUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 81\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.UserNameAndDate,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: setOwnerOfImageData.userData.userName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, _this), currentimage.date != undefined && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [currentimage.date.slice(0, 10), \" \", currentimage.date.slice(11, 16)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 60\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Params,\n          onClick: function onClick() {\n            return ShowSettings(\"firstClick\");\n          },\n          children: [settings.state == true && /*#__PURE__*/_jsxDEV(SettingsImage, {\n            previmage: previmage,\n            closeComponenetfn: closeComponenet,\n            userImageid: currentimage._id || props.imgid,\n            currentUserId: user._id,\n            ownerid: setOwnerOfImageData.currentimage.ImageOwner._id,\n            token: user.token\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 119\n          }, _this), \"\\u2026\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, _this), currentimage.imageText != undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.bio,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: currentimage.imageText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 84\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 57\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.LikesAndCommentsContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.Comments,\n          onClick: function onClick() {\n            openComments();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"69\",\n            height: \"69\",\n            viewBox: \"0 0 69 69\",\n            fill: \"none\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M49.8333 24.6429C49.8333 11.0277 38.6807 0 24.9167 0C11.1526 0 0 11.0277 0 24.6429C0 29.9257 1.68906 34.7926 4.55208 38.8125C2.94688 43.4638 0.299479 47.1603 0.263542 47.2065C0 47.5607 -0.071875 48.0844 0.0838542 48.5464C0.239583 49.0085 0.575 49.2857 0.958333 49.2857C5.34271 49.2857 8.97239 47.3913 11.5839 45.4353C15.4411 47.8533 20.0052 49.2857 24.9167 49.2857C38.6807 49.2857 49.8333 38.258 49.8333 24.6429ZM64.4479 58.5268C67.3109 54.5223 69 49.64 69 44.3571C69 34.0533 62.5911 25.2281 53.5109 21.5471C53.6188 22.5636 53.6667 23.5955 53.6667 24.6429C53.6667 40.9533 40.7651 54.2143 24.9167 54.2143C23.6229 54.2143 22.3651 54.0911 21.1193 53.9216C24.8927 62.7777 33.7573 69 44.0833 69C48.9948 69 53.5589 67.583 57.4161 65.1496C60.0276 67.1056 63.6573 69 68.0417 69C68.425 69 68.7724 68.7074 68.9161 68.2607C69.0719 67.8141 69 67.2904 68.7365 66.9208C68.7005 66.8745 66.0531 63.1935 64.4479 58.5268Z\",\n              fill: \"#212121\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 121\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: Style.CommentsNumber,\n            children: coummentNumber + addsOneToCommentCount\n          }, \"unha\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 20\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.likes,\n          children: [/*#__PURE__*/_jsxDEV(Heart, {\n            addLikeInTime: function addLikeInTime(e) {\n              return _addLikeInTime(e);\n            },\n            imgid: currentimage._id || props.imgid,\n            token: props.token\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: Style.likesNumber,\n            onClick: function onClick() {\n              return openshowLikesUserNames();\n            },\n            children: likesNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.userAddComments,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.userImageInComments,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.currentImageUrl || \"/avatar.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.textAreaContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"say somthing\",\n            onChange: function onChange(e) {\n              return textAreaHolder(e);\n            },\n            value: textAreaData,\n            className: Style.textArea\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.countLettres,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: Style.countLettresCss,\n              style: countLettres >= 200 ? {\n                color: \"red\"\n              } : {},\n              children: [countLettres, \" : 200\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 61\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.emojiAndMaskAndPost,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.openOrCloseEmojiPicker,\n            onClick: function onClick() {\n              return closeOrOpenEmojiPicker();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.emojiLogo,\n              children: /*#__PURE__*/_jsxDEV(Emoji, {\n                emoji: {\n                  id: 'smiling_face_with_3_hearts',\n                  skin: 3\n                },\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 62\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 29\n            }, _this), closeOrOpenEmojiPickerState && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.emojiPickerContainer,\n              children: /*#__PURE__*/_jsxDEV(Picker, {\n                perLine: 8,\n                onSelect: function onSelect(e) {\n                  return addEmoji(e);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 105\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 61\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.postAndCounterContainer,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: Style.postText,\n              onClick: function onClick() {\n                AddComment();\n              },\n              children: /*#__PURE__*/_jsxDEV(SentSvg, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 95\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, _this), comments && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.commentsData,\n        children: [commentsData.map(function (e) {\n          return /*#__PURE__*/_jsxDEV(Comment, {\n            currentUserId: user._id,\n            ownerid: e.commentOwner,\n            deleteCommentInCurrentTime: deleteCommentInCurrentTimefn,\n            imgid: currentimage._id || props.imgid,\n            token: user.token,\n            date: e.date,\n            commentid: e._id,\n            text: e.commentText,\n            name: e.commentOwner.userName,\n            userProfileImageUrl: e.commentOwner.currentImageUrl\n          }, e._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 21\n          }, _this);\n        }), moreComments && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.loadMoreComments,\n          onClick: function onClick() {\n            return LoadMoreComments();\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"View more comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 101\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 28\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 26\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(biggerImagewithcomments, \"N1Duyp+rG/MURJRXtSIU02Wvbz4=\");\n\nexport default biggerImagewithcomments;\n\nvar SentSvg = function SentSvg() {\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 64 64\",\n    children: /*#__PURE__*/_jsxDEV(\"g\", {\n      id: \"Layer_95\",\n      \"data-name\": \"Layer 95\",\n      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M53.06,10.94a1.5,1.5,0,0,0-1.53-.36l-40,13.33a1.51,1.51,0,0,0-.06,2.83l18.7,7.09,7.09,18.7a1.51,1.51,0,0,0,1.44,1,1.49,1.49,0,0,0,1.39-1l13.33-40A1.5,1.5,0,0,0,53.06,10.94Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 107\n      }, _this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M20.22,35.48a1.5,1.5,0,0,0-2.12-2.12l-4.48,4.48a1.51,1.51,0,0,0,0,2.12,1.49,1.49,0,0,0,2.12,0Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 291\n      }, _this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M23.88,40.12a1.49,1.49,0,0,0-2.12,0L16.08,45.8a1.5,1.5,0,0,0,2.12,2.12l5.68-5.68A1.49,1.49,0,0,0,23.88,40.12Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 397\n      }, _this), /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M28.52,43.78,24,48.26a1.5,1.5,0,0,0,2.12,2.12l4.48-4.48A1.5,1.5,0,0,0,28.52,43.78Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 518\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 69\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 9\n  }, _this);\n}; // this is the comp of image settings\n\n\n_c = SentSvg;\n\nvar SettingsImage = function SettingsImage(props) {\n  _s2();\n\n  // error handler\n  var _React$useState35 = React.useState({\n    state: false,\n    text: \"\"\n  }),\n      _React$useState36 = _slicedToArray(_React$useState35, 2),\n      errorMessage = _React$useState36[0],\n      setErrorMessage = _React$useState36[1]; // when state true show  pop up \n\n\n  var deleteImageFn = function deleteImageFn() {\n    deleteImage({\n      imageid: props.userImageid,\n      previmage: props.previmage\n    }, props.token).then(function (result) {\n      if (result.data.state == true) {\n        //if you have only one image you cant deleted\n        setErrorMessage(function (e) {\n          return _objectSpread(_objectSpread({}, e), {}, {\n            state: true,\n            text: \"you should at least have one image\"\n          });\n        });\n      } else {\n        location.reload();\n      } //location.reload();\n\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n\n  var closePopUp = function closePopUp() {\n    setErrorMessage({\n      state: false,\n      text: \"\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.containerSettings,\n    children: [errorMessage.state == true && /*#__PURE__*/_jsxDEV(PopUpMessage, {\n      fnclose: function fnclose() {\n        return closePopUp();\n      },\n      openPopUp: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 44\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.paramsContainer,\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 56\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 17\n    }, _this), props.ownerid == props.currentUserId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.paramsContainer,\n      onClick: function onClick() {\n        return deleteImageFn();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 123\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 54\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.paramsContainer,\n      onClick: function onClick() {\n        return props.closeComponenetfn();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 96\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 17\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 324,\n    columnNumber: 13\n  }, _this);\n};\n\n_s2(SettingsImage, \"99nIw9vjRF33UpxAdnrEypmF4Pc=\");\n\n_c2 = SettingsImage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SentSvg\");\n$RefreshReg$(_c2, \"SettingsImage\");","map":{"version":3,"sources":["F:/AHKI/components/biggerImagewithcomments/biggerImagewithcomments.js"],"names":["React","Style","getImageData","Heart","userContext","Picker","Emoji","LanguageContext","addCommentToImage","getCommentsImage","countComments","countImageLikes","deleteImage","Comment","ShowLikesUserNames","PopUpMessage","biggerImagewithcomments","props","useState","currentimage","setCurrentimage","nextimage","setNextimage","previmage","setPrevimage","comments","setComments","imageLoading","setimageLoading","likesNumber","setLikesNumber","coummentNumber","setCoummentNumber","userData","currentImageUrl","userName","setOwnerOfImageData","setSetOwnerOfImageData","useContext","user","setUser","textAreaData","setTextAreaData","countLettres","setCountLettres","closeOrOpenEmojiPickerState","setcloseOrOpenEmojiPickerState","language","setLanguage","skip","setSkip","commentsData","setCommentsData","addsOneToCommentCount","setaddOneToCommentCount","moreComments","setMoreComments","likesModal","setLikesModal","state","firstClick","settings","setSettings","currentImgId","imgid","userid","token","then","result","data","e","error","console","log","useEffect","length","imageid","_id","count","undefined","alert","LoadMoreComments","goPrev","gonext","textAreaHolder","target","style","height","scrollHeight","el","value","slice","closeOrOpenEmojiPicker","AddComment","commentText","commentOwner","addEmoji","sym","unified","split","codesArray","forEach","push","emoji","String","fromCodePoint","openComments","addLikeInTime","newLikesNumber","openshowLikesUserNames","ShowSettings","closeComponenet","deleteCommentInCurrentTimefn","commentIdDeleted","arrayOfComment","filter","container","closeBtn","close","imageContainer","loadingAnimation","ldsring","imageUrl","SwitchImage","left","Right","commentsContainer","imageOwnerAndNameAndDateAndParams","imageContainerForUserCommentsSection","UserNameAndDate","date","Params","ImageOwner","imageText","bio","LikesAndCommentsContainer","Comments","CommentsNumber","likes","userAddComments","userImageInComments","textAreaContainer","textArea","countLettresCss","color","emojiAndMaskAndPost","openOrCloseEmojiPicker","emojiLogo","id","skin","emojiPickerContainer","postAndCounterContainer","postText","map","loadMoreComments","SentSvg","SettingsImage","text","errorMessage","setErrorMessage","deleteImageFn","userImageid","location","reload","closePopUp","containerSettings","paramsContainer","ownerid","currentUserId","closeComponenetfn"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Style from './biggerImagewithcomments.module.scss'\r\nimport { getImageData } from '../../services/images'\r\nimport Heart from '../../components/heart/heart'\r\nimport userContext from '../../context/userContext'\r\nimport { Picker,Emoji  } from 'emoji-mart'\r\nimport 'emoji-mart/css/emoji-mart.css'\r\nimport LanguageContext from '../../context/languageContext'\r\nimport {addCommentToImage,getCommentsImage,countComments} from '../../services/imageComments'\r\nimport {countImageLikes} from '../../services/imageLikes'\r\nimport {deleteImage} from '../../services/images'\r\n\r\nimport Comment from '../comment/comment'\r\nimport ShowLikesUserNames from '../showLikesUserNames/showLikesUserNames'\r\nimport PopUpMessage from '../../components/popUpMessage/popUpMessage'\r\n\r\nconst biggerImagewithcomments = (props) => {\r\n    const [currentimage, setCurrentimage] = React.useState({})// has the data of the current image\r\n    const [nextimage, setNextimage] = React.useState() // has id of next image\r\n    const [previmage, setPrevimage] = React.useState() //has id fo prev image\r\n    const [comments, setComments] = React.useState(false)//open or close comments\r\n    const [imageLoading,setimageLoading]=React.useState(false)\r\n    const [likesNumber,setLikesNumber]=React.useState(0)\r\n    const [coummentNumber,setCoummentNumber]=React.useState(0)\r\n    const [setOwnerOfImageData, setSetOwnerOfImageData] = React.useState({\r\n        userData:{\r\n            currentImageUrl:\"\",\r\n            userName:\"\"\r\n        }\r\n    })\r\n    const [user,setUser]=React.useContext(userContext)//user data\r\n    const [textAreaData,setTextAreaData]=React.useState(\"\") // text area for add comment\r\n    const [countLettres,setCountLettres]=React.useState(0) // count how many lettre in text area\r\n    const [closeOrOpenEmojiPickerState,setcloseOrOpenEmojiPickerState]=React.useState(false)//emoji handler\r\n    const [language , setLanguage]=React.useContext(LanguageContext)\r\n    const [skip,setSkip]=React.useState(0)//fetch data with skip\r\n    const [commentsData,setCommentsData]=React.useState([])//comments Container\r\n    const [addsOneToCommentCount,setaddOneToCommentCount]=React.useState(0)//when add comment automaticly add + to old one\r\n    const [moreComments,setMoreComments]=React.useState(false) //show more comment fetch  with 3 by 3\r\n    const [likesModal,setLikesModal]=React.useState(false)// show modal has all the name of who put like\r\n    const [settings, setSettings] = React.useState({state:false,firstClick:false}) //show settings on click on 3 dots ...\r\n   /*************************************************************/\r\n   /*********************use effects*****************************/\r\n   /*************************************************************/\r\n    React.useState(() => {\r\n        /*he i fetch cureent img data and the next and prev image id */\r\n        setimageLoading(true)\r\n\r\n        getImageData({ currentImgId: props.imgid, userid: props.userid }, props.token).then(result => {\r\n            setimageLoading(false)\r\n            setSetOwnerOfImageData(result.data)\r\n            setCurrentimage(e => {\r\n                return { ...result.data.currentimage }\r\n            })\r\n            setNextimage(e => {\r\n                return { ...result.data.nextimage}\r\n            })\r\n            setPrevimage(e => {\r\n                return { ...result.data.previmage }\r\n            })\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n   \r\n    }, [])\r\n    /*calc textArea length */\r\n    React.useEffect(()=>{\r\n        setCountLettres(textAreaData.length)\r\n      },[textAreaData])\r\n      //when i change image fetch ne data of the current image\r\n    React.useEffect(()=>{\r\n        setCommentsData([])\r\n        setSkip(0)\r\n        setComments(false)\r\n        countImageLikes({ imageid: currentimage._id||props.imgid}, props.token).then(result=>{\r\n            setLikesNumber(result.data.count)\r\n        }).catch(error=>{\r\n            console.log(error)\r\n        })\r\n        if(currentimage._id!=undefined){\r\n          getCommentsImage({imageid:currentimage._id||props.imgid,skip:0},user.token).then(result=>{\r\n              setComments(true)\r\n              if(result.data.data.length>0){\r\n                  setMoreComments(true)\r\n              }else{\r\n                  setMoreComments(false)\r\n              }\r\n              setCommentsData(e=>[...e,...result.data.data])\r\n            }).catch(error=>{\r\n                alert(error)\r\n            })\r\n            countComments({imageid:currentimage._id||props.imgid,skip:0},user.token).then(result=>{\r\n                setCoummentNumber(result.data.count)\r\n            }).catch(error=>{\r\n                alert(error)\r\n\r\n            })\r\n        }\r\n\r\n    },[currentimage._id])//hedhi kenet t3awed tfetchi\r\n    //when i click load more comments get 3 new comment evry time\r\n    React.useEffect(()=>{\r\n      if(skip!=0){\r\n          getCommentsImage({imageid:currentimage._id||props.imgid,skip:skip},user.token).then(result=>{\r\n              if(result.data.data.length>0){\r\n                  setMoreComments(true)\r\n              }else{\r\n                  setMoreComments(false)\r\n              }\r\n              setCommentsData(e=>[...e,...result.data.data])\r\n            }).catch(error=>{\r\n                alert(error)\r\n            })\r\n      }\r\n  },[skip])\r\n      const LoadMoreComments=()=>{\r\n        setSkip(e=>e+3)\r\n      }\r\n      /* go to prev image */\r\n    const goPrev = () => {\r\n        setimageLoading(true)\r\n        getImageData({ currentImgId: previmage._id, userid: props.userid }, props.token).then(result => {\r\n            \r\n            setimageLoading(false)\r\n            setCurrentimage(e => {\r\n                return { ...e, ...result.data.currentimage }\r\n            })\r\n            setNextimage(e => {\r\n                return { ...result.data.nextimage }\r\n            })\r\n            setPrevimage(e => {\r\n                return { ...result.data.previmage }\r\n            })\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n    // go to next image\r\n    const gonext = () => {\r\n        setimageLoading(true)\r\n        getImageData({ currentImgId: nextimage._id, userid: props.userid }, props.token).then(result => {\r\n            setimageLoading(false)\r\n            setCurrentimage(e => {\r\n                return { ...e, ...result.data.currentimage }\r\n            })\r\n            setNextimage(e => {\r\n                return { ...result.data.nextimage }\r\n            })\r\n            setPrevimage(e => {\r\n                return { ...result.data.previmage }\r\n            })\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n    /* set the height of text area and when text get bigger textarea get biiger with it */\r\n    const textAreaHolder=(e)=>{\r\n        e.target.style.height = \"16px\";\r\n        e.target.style.height = (e.target.scrollHeight)+\"px\";\r\n        //only take 200 char\r\n        setTextAreaData(el=>{\r\n          if(el.length<=200){\r\n            return e.target.value\r\n          }else{\r\n           return el.slice(0,200)\r\n          }\r\n        })\r\n      }\r\n      /* close emoji comp */\r\n      const closeOrOpenEmojiPicker=()=>{\r\n        setcloseOrOpenEmojiPickerState(e=>!e)\r\n      }\r\n      //add commnent\r\n      const AddComment=()=>{\r\n        addCommentToImage({imageid:currentimage._id,commentText:textAreaData},user.token).then((result)=>{\r\n            setCommentsData(e=>[{...result.data.data,commentOwner:{userName:user.userName,currentImageUrl:user.currentImageUrl,_id:user._id}},...e])\r\n            setComments(true)\r\n            setaddOneToCommentCount(e=>e+1)\r\n            setTextAreaData(\"\")\r\n        }).catch(error=>{\r\n          console.log(error)\r\n        })\r\n      }\r\n      //add emojo to textarea\r\n      const addEmoji=(e)=>{\r\n        let sym = e.unified.split('-')\r\n        let codesArray = []\r\n        sym.forEach(el => codesArray.push('0x' + el))\r\n        let emoji = String.fromCodePoint(...codesArray)\r\n        setTextAreaData(el=>{\r\n          if(el.length<=200){\r\n            return el+emoji\r\n          }else{\r\n            return el.slice(0,200)\r\n          }\r\n        })\r\n      };\r\n      // open or close comments\r\n      const openComments = () => {\r\n        setComments(e => !e)\r\n      }\r\n      //when you like image it will add in time to numbers of likes\r\n      const addLikeInTime=(newLikesNumber)=>{\r\n        setLikesNumber(e=>e+newLikesNumber)\r\n      }\r\n      // show usernames of people who liked image\r\n      const openshowLikesUserNames=()=>{\r\n        setLikesModal(e=>!e)\r\n      }\r\n      //show settings delete report \r\n      const ShowSettings = () => {\r\n          if(settings.firstClick!=true){\r\n            setSettings({state:true,firstClick:true})\r\n          }\r\n      }\r\n      // close settings componnent\r\n      const closeComponenet=()=>{\r\n        setSettings({state:false,firstClick:false})\r\n      }\r\n      const deleteCommentInCurrentTimefn=(commentIdDeleted)=>{\r\n        setCommentsData(arrayOfComment=>{\r\n         return [...arrayOfComment.filter(e=>{\r\n           return e._id!=commentIdDeleted\r\n         })]\r\n        })\r\n      }\r\n    return (\r\n        <div className={Style.container}>\r\n            {likesModal&&<ShowLikesUserNames closepopUp={openshowLikesUserNames} imgid={currentimage._id||props.imgid}></ShowLikesUserNames>}\r\n            <div className={Style.closeBtn} onClick={() => props.close()}></div>\r\n            <div className={Style.imageContainer}>\r\n                {imageLoading&&<div className={Style.loadingAnimation}><div className={Style.ldsring}><div></div><div></div><div></div><div></div></div></div>}\r\n                <img src={currentimage.imageUrl || \"\"} />\r\n                {previmage != undefined && previmage._id != undefined && <div className={`${Style.SwitchImage} ${Style.left}`} onClick={() => goPrev()}><span>&#x2039;</span></div>}\r\n                {nextimage != undefined && nextimage._id != undefined && <div className={`${Style.SwitchImage} ${Style.Right}`} onClick={() => gonext()}><span>&#x203A;</span></div>}\r\n            </div>\r\n            <div className={Style.commentsContainer}>\r\n                <div className={Style.imageOwnerAndNameAndDateAndParams}>\r\n                    \r\n                    <div className={Style.imageContainerForUserCommentsSection}><img src={setOwnerOfImageData.userData.currentImageUrl} /></div>\r\n                    <div className={Style.UserNameAndDate}>\r\n                        <p>{setOwnerOfImageData.userData.userName}</p>\r\n                        {currentimage.date != undefined && <p>{currentimage.date.slice(0, 10)} {currentimage.date.slice(11, 16)}</p>}\r\n                    </div>\r\n                    <div className={Style.Params} onClick={() => ShowSettings(\"firstClick\")}>{settings.state==true && <SettingsImage previmage={previmage} closeComponenetfn={closeComponenet}   userImageid={currentimage._id||props.imgid} currentUserId={user._id} ownerid={setOwnerOfImageData.currentimage.ImageOwner._id} token={user.token} ></SettingsImage>}&hellip;</div>\r\n                </div>\r\n                {currentimage.imageText != undefined && <div className={Style.bio}><p>{currentimage.imageText}</p></div>}\r\n                <div className={Style.LikesAndCommentsContainer}>\r\n                   <div   className={Style.Comments} onClick={()=>{openComments()}}>\r\n                        <svg  width=\"69\" height=\"69\" viewBox=\"0 0 69 69\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M49.8333 24.6429C49.8333 11.0277 38.6807 0 24.9167 0C11.1526 0 0 11.0277 0 24.6429C0 29.9257 1.68906 34.7926 4.55208 38.8125C2.94688 43.4638 0.299479 47.1603 0.263542 47.2065C0 47.5607 -0.071875 48.0844 0.0838542 48.5464C0.239583 49.0085 0.575 49.2857 0.958333 49.2857C5.34271 49.2857 8.97239 47.3913 11.5839 45.4353C15.4411 47.8533 20.0052 49.2857 24.9167 49.2857C38.6807 49.2857 49.8333 38.258 49.8333 24.6429ZM64.4479 58.5268C67.3109 54.5223 69 49.64 69 44.3571C69 34.0533 62.5911 25.2281 53.5109 21.5471C53.6188 22.5636 53.6667 23.5955 53.6667 24.6429C53.6667 40.9533 40.7651 54.2143 24.9167 54.2143C23.6229 54.2143 22.3651 54.0911 21.1193 53.9216C24.8927 62.7777 33.7573 69 44.0833 69C48.9948 69 53.5589 67.583 57.4161 65.1496C60.0276 67.1056 63.6573 69 68.0417 69C68.425 69 68.7724 68.7074 68.9161 68.2607C69.0719 67.8141 69 67.2904 68.7365 66.9208C68.7005 66.8745 66.0531 63.1935 64.4479 58.5268Z\" fill=\"#212121\" /></svg>\r\n                        <p  key=\"unha\" className={Style.CommentsNumber} >{coummentNumber+addsOneToCommentCount}</p>\r\n                    </div>\r\n                    <div className={Style.likes}  >\r\n                        <Heart addLikeInTime={(e)=>addLikeInTime(e)}  imgid={currentimage._id||props.imgid} token={props.token} ></Heart>\r\n                        <p className={Style.likesNumber}  onClick={()=>openshowLikesUserNames()}>{likesNumber}</p>\r\n                    </div>\r\n                </div>\r\n                <div className={Style.userAddComments}>\r\n                    <div className={Style.userImageInComments}>\r\n                        <img src={user.currentImageUrl || \"/avatar.png\"} />\r\n                    </div>\r\n                    <div className={Style.textAreaContainer}>\r\n                        <textarea placeholder={\"say somthing\"} onChange={(e) => textAreaHolder(e)} value={textAreaData} className={Style.textArea} />\r\n                        <div className={Style.countLettres}><span className={Style.countLettresCss} style={countLettres >= 200 ? { color: \"red\" } : {}}>{countLettres} : 200</span></div>\r\n\r\n                    </div>\r\n                    <div className={Style.emojiAndMaskAndPost}>\r\n                        <div className={Style.openOrCloseEmojiPicker} onClick={() => closeOrOpenEmojiPicker()}>\r\n                            <div className={Style.emojiLogo}><Emoji emoji={{ id: 'smiling_face_with_3_hearts', skin: 3 }} size={24} /></div>\r\n                            {closeOrOpenEmojiPickerState && <div className={Style.emojiPickerContainer}><Picker perLine={8} onSelect={(e) => addEmoji(e)} /></div>}\r\n\r\n                        </div>\r\n                        <div className={Style.postAndCounterContainer}>\r\n                            <span className={Style.postText} onClick={() => { AddComment() }}><SentSvg></SentSvg></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            {comments && <div className={Style.commentsData}>\r\n            {commentsData.map(e=>\r\n            {\r\n            return  <Comment currentUserId={user._id} ownerid={e.commentOwner} deleteCommentInCurrentTime={deleteCommentInCurrentTimefn} imgid={currentimage._id||props.imgid}  token={user.token} date={e.date} commentid={e._id} key={e._id} text={e.commentText} name={e.commentOwner.userName} userProfileImageUrl={e.commentOwner.currentImageUrl}></Comment>\r\n            }\r\n            )}\r\n            {moreComments&&<div className={Style.loadMoreComments} onClick={()=>LoadMoreComments()}><p>View more comments</p></div>}\r\n            </div>}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default biggerImagewithcomments\r\n\r\nconst SentSvg=()=>{\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 64 64\"><g id=\"Layer_95\" data-name=\"Layer 95\"><path d=\"M53.06,10.94a1.5,1.5,0,0,0-1.53-.36l-40,13.33a1.51,1.51,0,0,0-.06,2.83l18.7,7.09,7.09,18.7a1.51,1.51,0,0,0,1.44,1,1.49,1.49,0,0,0,1.39-1l13.33-40A1.5,1.5,0,0,0,53.06,10.94Z\"/><path d=\"M20.22,35.48a1.5,1.5,0,0,0-2.12-2.12l-4.48,4.48a1.51,1.51,0,0,0,0,2.12,1.49,1.49,0,0,0,2.12,0Z\"/><path d=\"M23.88,40.12a1.49,1.49,0,0,0-2.12,0L16.08,45.8a1.5,1.5,0,0,0,2.12,2.12l5.68-5.68A1.49,1.49,0,0,0,23.88,40.12Z\"/><path d=\"M28.52,43.78,24,48.26a1.5,1.5,0,0,0,2.12,2.12l4.48-4.48A1.5,1.5,0,0,0,28.52,43.78Z\"/></g></svg>\r\n        )\r\n}\r\n// this is the comp of image settings\r\nconst SettingsImage=(props)=>{\r\n    // error handler\r\n    const [errorMessage,setErrorMessage]=React.useState({state:false,text:\"\"})// when state true show  pop up \r\n   const deleteImageFn=()=>{\r\n        deleteImage({imageid:props.userImageid,previmage:props.previmage},props.token).then(result=>{\r\n            if(result.data.state==true){\r\n                //if you have only one image you cant deleted\r\n                setErrorMessage(e=>{\r\n                    return {...e,state:true,text:\"you should at least have one image\"}\r\n                })\r\n\r\n            }else{\r\n                location.reload();\r\n\r\n            }\r\n            //location.reload();\r\n        }).catch(error=>{\r\n            console.log(error)\r\n        })\r\n    }\r\n    const closePopUp=()=>{\r\n        setErrorMessage({state:false,text:\"\"})\r\n      }\r\n    return (\r\n            <div className={Style.containerSettings}>\r\n                {errorMessage.state==true&&<PopUpMessage fnclose={()=>closePopUp()} openPopUp={errorMessage}></PopUpMessage>}\r\n                <div className={Style.paramsContainer}><h3>Report</h3></div>\r\n                {props.ownerid==props.currentUserId&&<div className={Style.paramsContainer} onClick={()=>deleteImageFn()}><h3>Delete</h3></div>}\r\n                <div className={Style.paramsContainer} onClick={()=>props.closeComponenetfn()}><h3>Close</h3></div>\r\n            </div>\r\n            )\r\n}"]},"metadata":{},"sourceType":"module"}