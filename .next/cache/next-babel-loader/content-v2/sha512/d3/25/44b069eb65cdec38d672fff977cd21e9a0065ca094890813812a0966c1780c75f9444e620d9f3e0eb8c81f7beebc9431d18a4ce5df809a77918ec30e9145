{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"F:\\\\AHKI\\\\pages\\\\profile\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport Style from '../../styles/profile.module.scss';\nimport Link from 'next/link';\nimport NavBar from '../../components/navBar/NavBar';\nimport UserContext from '../../context/userContext';\nimport LanguageContext from '../../context/languageContext';\nimport { ChangeProfileImage } from '../../services/user';\nimport PostUsersStorys from '../../components/postUsersStorys/postUsersStorys';\nimport Publication from '../../components/publication/publication';\nimport Suggestion from '../../components/suggestion/suggestion';\nimport Gellery from '../../components/gallery/gallery';\nimport Followersnavbar from '../../components/followers/followers';\nimport Followingnavbar from '../../components/following/following';\nimport { getCurrentUserPosts } from '../../services/post';\nimport BiggerImagewithcomments from '../../components/biggerImagewithcomments/biggerImagewithcomments';\nimport { countFollowingOfUser } from '../../services/following';\nimport { countFollowersOfUser } from '../../services/followers';\n\nconst Profile = props => {\n  const [yourFeeds, setYourFeeds] = React.useState(\"Your Posts\");\n  const [user, setUser] = React.useContext(UserContext);\n  const [language, setLanguage] = React.useContext(LanguageContext);\n  const [openFollowersState, setOpenFollowersState] = React.useState(false);\n  const [openFollowingState, setOpenFollowingState] = React.useState(false);\n  const [posts, setPosts] = React.useState([]);\n  const [MakeImageBigger, setMakeImageBigger] = React.useState(false);\n  const [doYouWanaAddTextToImage, setDoYouWanaAddTextToImage] = React.useState(false);\n  const [textAreaUpdateImage, setTextAreaUpdateImage] = React.useState(\"\");\n  const [image, setImage] = React.useState(undefined);\n  const [followingCount, setFollowingCount] = React.useState(0);\n  const [followersCount, setFollowersCount] = React.useState(0);\n  const [galleryState, setGalleryState] = React.useState(false);\n  /******************************************************************************************\r\n  this will change between your posts and your likes \r\n  ******************************************************************************************/\n\n  const change = e => {\n    setYourFeeds(e);\n  };\n\n  const changeFile = e => {\n    setImage(e.target.files[0]);\n    setDoYouWanaAddTextToImage(true);\n  };\n\n  const openFollowers = () => {\n    setOpenFollowersState(e => !e);\n  };\n\n  const openFollowing = () => {\n    setOpenFollowingState(e => !e);\n  };\n\n  const refrechDataFn = () => {\n    getCurrentUserPosts(user.token).then(result => {\n      setPosts([...result.data.data]);\n    }).catch(error => {\n      alert(error);\n    });\n  };\n\n  React.useEffect(() => {\n    if (user.token != undefined) {\n      getCurrentUserPosts(user.token).then(result => {\n        setPosts([...result.data.data]);\n      }).catch(error => {\n        alert(error);\n      });\n      countFollowingOfUser({\n        userid: user._id\n      }, props.token).then(result => {\n        setFollowingCount(result.data.count);\n      }).catch(error => {\n        alert(error);\n      });\n      countFollowersOfUser({\n        userid: user._id\n      }, props.token).then(result => {\n        setFollowersCount(result.data.count);\n      }).catch(error => {\n        alert(error);\n      });\n    }\n  }, [user]);\n\n  const textAreaHandlerUpdateImage = e => {\n    setTextAreaUpdateImage(e.target.value);\n  };\n\n  const MakeImageBiggerfn = () => {\n    setMakeImageBigger(e => !e);\n  };\n\n  const alertFn = alert => {\n    var formData = new FormData();\n\n    if (alert == \"yes\") {\n      formData.append('bio', textAreaUpdateImage);\n      formData.append('file', image);\n      ChangeProfileImage(formData, user.token).then(data => {\n        setUser(e => {\n          return _objectSpread(_objectSpread({}, e), {}, {\n            currentImageUrl: data.data.Picurl\n          });\n        });\n      });\n      setDoYouWanaAddTextToImage(false);\n    } else {\n      formData.append('file', image);\n      ChangeProfileImage(formData, user.token).then(data => {\n        setUser(e => {\n          return _objectSpread(_objectSpread({}, e), {}, {\n            currentImageUrl: data.data.Picurl\n          });\n        });\n      });\n      setDoYouWanaAddTextToImage(false);\n    }\n  };\n\n  const galleryStatefn = state => {\n    console.log(galleryState);\n    setGalleryState(state);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.container,\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      token: props.token\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }, this), openFollowersState && /*#__PURE__*/_jsxDEV(Followersnavbar, {\n      token: props.token,\n      id: user._id,\n      closepopUp: openFollowers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 38\n    }, this), openFollowingState && /*#__PURE__*/_jsxDEV(Followingnavbar, {\n      token: props.token,\n      id: user._id,\n      closepopUp: openFollowing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 38\n    }, this), MakeImageBigger && /*#__PURE__*/_jsxDEV(BiggerImagewithcomments, {\n      userid: user._id,\n      token: props.token,\n      close: () => MakeImageBiggerfn(),\n      imgid: user.currentImgId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 35\n    }, this), doYouWanaAddTextToImage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.alertYesNoContainer,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.alert,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.header,\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Leave something nice for the visitor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: e => textAreaHandlerUpdateImage(e),\n          className: Style.contenteditable,\n          maxLength: \"200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.btnContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: Style.btnAlert,\n            onClick: () => alertFn(\"yes\"),\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 61\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: Style.btnAlert,\n            onClick: () => alertFn(\"no\"),\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 137\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 43\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.profile,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.ProfileImage,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.image,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.underimage,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: () => MakeImageBiggerfn(),\n              src: user.currentImageUrl || \"/avatar.png\",\n              alt: user.userName || \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 121\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 87\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.camera,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: e => changeFile(e),\n              type: \"file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 265\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              \"aria-hidden\": \"true\",\n              focusable: \"false\",\n              \"data-prefix\": \"fas\",\n              \"data-icon\": \"camera\",\n              role: \"img\",\n              viewBox: \"0 0 512 512\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"currentColor\",\n                d: \"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 464\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 316\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 235\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 57\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.userName,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: user.userName || user.firstName || \"No Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.bio,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [user.biography, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.profileStatus,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          onClick: () => openFollowing(),\n          children: [followingCount, \" \", language.Following]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 58\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n          onClick: () => openFollowers(),\n          children: [followersCount, \" \", language.Followers]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 135\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/settings\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.UpdateProfile,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: language.UpdateProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 271\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              \"aria-hidden\": \"true\",\n              focusable: \"false\",\n              \"data-prefix\": \"fas\",\n              \"data-icon\": \"user-cog\",\n              role: \"img\",\n              viewBox: \"0 0 640 512\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#1876f3\",\n                d: \"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 453\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 304\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 234\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 211\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.timelineAndparameters,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.timeLineContainer,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.navbar,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.Line,\n              style: yourFeeds == \"Your Posts\" ? {\n                left: '0'\n              } : {\n                left: \"50%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 59\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              onClick: () => change(\"Your Posts\"),\n              children: language.YourPosts\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 161\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              onClick: () => change(\"Likes\"),\n              children: language.Likes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 227\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.timeLine,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.params,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.GelleryContainer,\n          style: {\n            zIndex: galleryState ? \"9999999999\" : \"14\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Gellery, {\n            gellerystate: galleryStatefn,\n            userid: user._id,\n            token: props.token\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.suggestionContainer,\n          children: /*#__PURE__*/_jsxDEV(Suggestion, {\n            token: props.token\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.posts,\n        children: [/*#__PURE__*/_jsxDEV(PostUsersStorys, {\n          refrechData: refrechDataFn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.publicationContainer,\n          children: posts.map(e => {\n            return /*#__PURE__*/_jsxDEV(Publication, {\n              allowAnonymeComments: e.allowAnonymeComments,\n              userName: user.userName,\n              ownerid: e.OwnerOfPost._id,\n              id: e._id,\n              date: e.date,\n              ownerOfPostImage: user.currentImageUrl,\n              text: e.postText,\n              video: e.postVideo != undefined ? e.postVideo : undefined,\n              image: e.postImage != undefined ? e.postImage : undefined\n            }, e._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 40\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 13\n  }, this);\n};\n\nexport default Profile;\nexport async function getServerSideProps({\n  req,\n  res\n}) {\n  return req.cookies.token ? {\n    props: {\n      token: req.cookies.token\n    }\n  } : {\n    redirect: {\n      destination: '/',\n      permanent: false\n    }\n  };\n}","map":{"version":3,"sources":["F:/AHKI/pages/profile/index.js"],"names":["React","Style","Link","NavBar","UserContext","LanguageContext","ChangeProfileImage","PostUsersStorys","Publication","Suggestion","Gellery","Followersnavbar","Followingnavbar","getCurrentUserPosts","BiggerImagewithcomments","countFollowingOfUser","countFollowersOfUser","Profile","props","yourFeeds","setYourFeeds","useState","user","setUser","useContext","language","setLanguage","openFollowersState","setOpenFollowersState","openFollowingState","setOpenFollowingState","posts","setPosts","MakeImageBigger","setMakeImageBigger","doYouWanaAddTextToImage","setDoYouWanaAddTextToImage","textAreaUpdateImage","setTextAreaUpdateImage","image","setImage","undefined","followingCount","setFollowingCount","followersCount","setFollowersCount","galleryState","setGalleryState","change","e","changeFile","target","files","openFollowers","openFollowing","refrechDataFn","token","then","result","data","catch","error","alert","useEffect","userid","_id","count","textAreaHandlerUpdateImage","value","MakeImageBiggerfn","alertFn","formData","FormData","append","currentImageUrl","Picurl","galleryStatefn","state","console","log","container","currentImgId","alertYesNoContainer","header","contenteditable","btnContainer","btnAlert","profile","ProfileImage","underimage","userName","camera","firstName","bio","biography","profileStatus","Following","Followers","UpdateProfile","timelineAndparameters","timeLineContainer","navbar","Line","left","YourPosts","Likes","timeLine","params","GelleryContainer","zIndex","suggestionContainer","publicationContainer","map","allowAnonymeComments","OwnerOfPost","date","postText","postVideo","postImage","getServerSideProps","req","res","cookies","redirect","destination","permanent"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Style from '../../styles/profile.module.scss'\r\nimport Link from 'next/link'\r\nimport NavBar from '../../components/navBar/NavBar'\r\nimport UserContext from '../../context/userContext'\r\nimport LanguageContext from '../../context/languageContext'\r\nimport {ChangeProfileImage} from '../../services/user'\r\nimport PostUsersStorys from '../../components/postUsersStorys/postUsersStorys'\r\nimport Publication from '../../components/publication/publication'\r\nimport Suggestion from '../../components/suggestion/suggestion'\r\nimport Gellery from '../../components/gallery/gallery'\r\nimport Followersnavbar from '../../components/followers/followers'\r\nimport Followingnavbar from '../../components/following/following'\r\nimport {getCurrentUserPosts} from '../../services/post'\r\nimport BiggerImagewithcomments from '../../components/biggerImagewithcomments/biggerImagewithcomments'\r\nimport {countFollowingOfUser} from '../../services/following'\r\nimport {countFollowersOfUser} from '../../services/followers'\r\nconst Profile = (props) => {\r\n    const [yourFeeds, setYourFeeds] = React.useState(\"Your Posts\")\r\n    const [user,setUser]= React.useContext(UserContext)\r\n    const [language , setLanguage]=React.useContext(LanguageContext)\r\n    const [openFollowersState,setOpenFollowersState]=React.useState(false)\r\n    const [openFollowingState,setOpenFollowingState]=React.useState(false)\r\n    const [posts,setPosts]=React.useState([])\r\n    const [MakeImageBigger,setMakeImageBigger]=React.useState(false)\r\n    const [doYouWanaAddTextToImage,setDoYouWanaAddTextToImage]=React.useState(false)\r\n    const [textAreaUpdateImage,setTextAreaUpdateImage]=React.useState(\"\")\r\n    const [image,setImage]=React.useState(undefined)\r\n    const [followingCount,setFollowingCount]=React.useState(0)\r\n    const [followersCount,setFollowersCount]=React.useState(0)\r\n    const [galleryState,setGalleryState]=React.useState(false)\r\n    /******************************************************************************************\r\n    this will change between your posts and your likes \r\n    ******************************************************************************************/\r\n    const change = (e) => {\r\n        setYourFeeds(e)\r\n    }\r\n    const changeFile=(e)=>{\r\n        setImage(e.target.files[0])\r\n        setDoYouWanaAddTextToImage(true)\r\n\r\n\r\n    }\r\n    const openFollowers=()=>{\r\n        setOpenFollowersState(e=>!e)\r\n    }\r\n    const openFollowing=()=>{\r\n        setOpenFollowingState(e=>!e)\r\n    }\r\n    const refrechDataFn=()=>{\r\n        getCurrentUserPosts(user.token).then(result=>{\r\n            setPosts([...result.data.data])\r\n        }).catch(error=>{\r\n            alert(error)\r\n        })\r\n    }\r\n    React.useEffect(()=>{\r\n        if(user.token!=undefined){\r\n            getCurrentUserPosts(user.token).then(result=>{\r\n                setPosts([...result.data.data])\r\n            }).catch(error=>{\r\n                alert(error)\r\n            })\r\n            countFollowingOfUser({userid:user._id},props.token).then(result=>{\r\n                setFollowingCount(result.data.count)\r\n              }).catch(error=>{\r\n                alert(error)\r\n              })\r\n            \r\n            countFollowersOfUser({userid:user._id},props.token).then(result=>{\r\n              setFollowersCount(result.data.count)\r\n            }).catch(error=>{\r\n              alert(error)\r\n            })\r\n        }\r\n\r\n    },[user])\r\n    const textAreaHandlerUpdateImage=(e)=>{\r\n        setTextAreaUpdateImage(e.target.value)\r\n    }\r\n    const MakeImageBiggerfn=()=>{\r\n        setMakeImageBigger(e=>!e)\r\n    }\r\n    const alertFn=(alert)=>{\r\n        var formData = new FormData()\r\n\r\n        if(alert==\"yes\"){\r\n            formData.append('bio' , textAreaUpdateImage);\r\n            formData.append('file', image);\r\n\r\n            ChangeProfileImage(formData,user.token).then((data)=>{\r\n                setUser(e=>{\r\n                    return{\r\n                        ...e,\r\n                        currentImageUrl:data.data.Picurl\r\n                    }\r\n                })\r\n            })\r\n            setDoYouWanaAddTextToImage(false)\r\n        }else{\r\n            formData.append('file', image);\r\n\r\n            ChangeProfileImage(formData,user.token).then((data)=>{\r\n                setUser(e=>{\r\n                    return{\r\n                        ...e,\r\n                        currentImageUrl:data.data.Picurl\r\n                    }\r\n                })\r\n            })\r\n            setDoYouWanaAddTextToImage(false)\r\n        }\r\n    }\r\n    const galleryStatefn=(state)=>{\r\n        console.log(galleryState)\r\n        setGalleryState(state)\r\n    }\r\n        return (\r\n            <div className={Style.container}>\r\n                <NavBar token={props.token}></NavBar>\r\n                {openFollowersState&&<Followersnavbar token={props.token} id={user._id} closepopUp={openFollowers}></Followersnavbar>}\r\n                {openFollowingState&&<Followingnavbar token={props.token} id={user._id} closepopUp={openFollowing}></Followingnavbar>}\r\n                {MakeImageBigger&&<BiggerImagewithcomments userid={user._id} token={props.token} close={()=>MakeImageBiggerfn()} imgid={user.currentImgId} ></BiggerImagewithcomments>}\r\n                {doYouWanaAddTextToImage&&<div className={Style.alertYesNoContainer}>\r\n                    <div className={Style.alert}>\r\n                        <div className={Style.header}><h2>Leave something nice for the visitor</h2></div>\r\n                        <textarea onChange={(e)=>textAreaHandlerUpdateImage(e)} className={Style.contenteditable} maxLength=\"200\" ></textarea>\r\n                        <div className={Style.btnContainer}><button className={Style.btnAlert}onClick={()=>alertFn(\"yes\")} >Yes</button><button className={Style.btnAlert}onClick={()=>alertFn(\"no\")} >No</button></div>\r\n                </div></div>}\r\n                <div className={Style.profile}>\r\n                    <div className={Style.ProfileImage}><div className={Style.image} ><div className={Style.underimage}><img onClick={()=>MakeImageBiggerfn()} src={user.currentImageUrl||\"/avatar.png\"} alt={user.userName || \"\"}/></div><div className={Style.camera}><input onChange={e => changeFile(e)} type=\"file\" /><svg  xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"camera\" role=\"img\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z\" /></svg></div></div></div>\r\n                    <div className={Style.userName}><h2>{user.userName||user.firstName||\"No Name\"}</h2></div>\r\n                    <div className={Style.bio}><h2>{user.biography} </h2></div>\r\n                    <div className={Style.profileStatus}><h3 onClick={()=>openFollowing()}>{followingCount} {language.Following}</h3> <h3 onClick={()=>openFollowers()}>{followersCount} {language.Followers}</h3><Link href=\"/settings\"><div className={Style.UpdateProfile}><h3>{language.UpdateProfile}</h3><svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"user-cog\" role=\"img\" viewBox=\"0 0 640 512\"><path fill=\"#1876f3\" d=\"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z\" /></svg></div></Link></div>\r\n                    <div className={Style.timelineAndparameters}>\r\n                        <div className={Style.timeLineContainer}>\r\n                            <div className={Style.navbar}><div className={Style.Line} style={yourFeeds == \"Your Posts\" ? { left: '0' } : { left: \"50%\" }}></div><h2 onClick={() => change(\"Your Posts\")}>{language.YourPosts}</h2><h2 onClick={() => change(\"Likes\")}>{language.Likes}</h2></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={Style.timeLine}>\r\n                    <div className={Style.params}>\r\n                        <div className={Style.GelleryContainer} style={{zIndex:galleryState?\"9999999999\":\"14\"}}>\r\n                            <Gellery gellerystate={galleryStatefn} userid={user._id} token={props.token}></Gellery>\r\n                        </div>\r\n                        <div className={Style.suggestionContainer}>\r\n                            <Suggestion token={props.token}></Suggestion>\r\n                        </div>\r\n      \r\n       \r\n                    </div>\r\n                    <div className={Style.posts}>\r\n                    <PostUsersStorys refrechData={refrechDataFn}></PostUsersStorys>\r\n                        <div className={Style.publicationContainer}>\r\n                            {posts.map(e=>{\r\n                                return <Publication  allowAnonymeComments={e.allowAnonymeComments}  userName={user.userName} ownerid={e.OwnerOfPost._id}    id={e._id}  date={e.date} ownerOfPostImage={user.currentImageUrl} key={e._id} text={e.postText} video={e.postVideo!=undefined?e.postVideo:undefined}  image={e.postImage!=undefined?e.postImage:undefined}></Publication>\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                             \r\n                </div>\r\n            </div>\r\n        ) \r\n}\r\n\r\nexport default Profile\r\nexport async function getServerSideProps({req,res}) {\r\n\r\n    return req.cookies.token ?{props: {token:req.cookies.token}}:{redirect: { destination: '/', permanent: false, }}\r\n}"]},"metadata":{},"sourceType":"module"}